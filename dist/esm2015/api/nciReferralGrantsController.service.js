/**
 * Api Documentation
 * Api Documentation
 *
 * OpenAPI spec version: 1.0
 *
 *
 * NOTE: This class is auto generated by the swagger code generator program.
 * https://github.com/swagger-api/swagger-codegen.git
 * Do not edit the class manually.
 */
/* tslint:disable:no-unused-variable member-ordering */
import { Inject, Injectable, Optional } from '@angular/core';
import { HttpClient, HttpHeaders, HttpParams } from '@angular/common/http';
import { CustomHttpUrlEncodingCodec } from '../encoder';
import { BASE_PATH } from '../variables';
import { Configuration } from '../configuration';
export class NciReferralGrantsControllerService {
    constructor(httpClient, basePath, configuration) {
        this.httpClient = httpClient;
        this.basePath = 'https://localhost';
        this.defaultHeaders = new HttpHeaders();
        this.configuration = new Configuration();
        if (basePath) {
            this.basePath = basePath;
        }
        if (configuration) {
            this.configuration = configuration;
            this.basePath = basePath || configuration.basePath || this.basePath;
        }
    }
    /**
     * @param consumes string[] mime-types
     * @return true: consumes contains 'multipart/form-data', false: otherwise
     */
    canConsumeForm(consumes) {
        const form = 'multipart/form-data';
        for (const consume of consumes) {
            if (form === consume) {
                return true;
            }
        }
        return false;
    }
    exportGrantSearchResultsUsingGET(remainingParams, accessionNum, activeSegments, applIds, applStatusGroupCode, araMatchStatus, cancerActivities, composedGrantNumber, dualCas, formerGrantNumber, fyFrom, fyTo, grantIc, grantMech, grantSerial, grantSuffix, grantsWitCa, grantType, grantYear, groupCode, includeDeleted, includeOrphans, institution, irgCode, irgFlexCode, myCancerActivities, ncabFrom, ncabTo, notifyFlag, npnId, orderBy, pdAssignmentSearch, pdId, piName, referralOfficer, referralStatus, rfaPaNumber, role, roNpnId, selectFrom, sraDesignatorCode, sraFlexCode, wBSearch, observe = 'body', reportProgress = false) {
        if (remainingParams === null || remainingParams === undefined) {
            throw new Error('Required parameter remainingParams was null or undefined when calling exportGrantSearchResultsUsingGET.');
        }
        let queryParameters = new HttpParams({ encoder: new CustomHttpUrlEncodingCodec() });
        if (accessionNum !== undefined && accessionNum !== null) {
            queryParameters = queryParameters.set('accessionNum', accessionNum);
        }
        if (activeSegments !== undefined && activeSegments !== null) {
            queryParameters = queryParameters.set('activeSegments', activeSegments);
        }
        if (applIds) {
            applIds.forEach((element) => {
                queryParameters = queryParameters.append('applIds', element);
            });
        }
        if (applStatusGroupCode) {
            applStatusGroupCode.forEach((element) => {
                queryParameters = queryParameters.append('applStatusGroupCode', element);
            });
        }
        if (araMatchStatus) {
            araMatchStatus.forEach((element) => {
                queryParameters = queryParameters.append('araMatchStatus', element);
            });
        }
        if (cancerActivities) {
            cancerActivities.forEach((element) => {
                queryParameters = queryParameters.append('cancerActivities', element);
            });
        }
        if (composedGrantNumber !== undefined && composedGrantNumber !== null) {
            queryParameters = queryParameters.set('composedGrantNumber', composedGrantNumber);
        }
        if (dualCas !== undefined && dualCas !== null) {
            queryParameters = queryParameters.set('dualCas', dualCas);
        }
        if (formerGrantNumber !== undefined && formerGrantNumber !== null) {
            queryParameters = queryParameters.set('formerGrantNumber', formerGrantNumber);
        }
        if (fyFrom !== undefined && fyFrom !== null) {
            queryParameters = queryParameters.set('fyFrom', fyFrom);
        }
        if (fyTo !== undefined && fyTo !== null) {
            queryParameters = queryParameters.set('fyTo', fyTo);
        }
        if (grantIc !== undefined && grantIc !== null) {
            queryParameters = queryParameters.set('grantIc', grantIc);
        }
        if (grantMech !== undefined && grantMech !== null) {
            queryParameters = queryParameters.set('grantMech', grantMech);
        }
        if (grantSerial !== undefined && grantSerial !== null) {
            queryParameters = queryParameters.set('grantSerial', grantSerial);
        }
        if (grantSuffix !== undefined && grantSuffix !== null) {
            queryParameters = queryParameters.set('grantSuffix', grantSuffix);
        }
        if (grantsWitCa !== undefined && grantsWitCa !== null) {
            queryParameters = queryParameters.set('grantsWitCa', grantsWitCa);
        }
        if (grantType !== undefined && grantType !== null) {
            queryParameters = queryParameters.set('grantType', grantType);
        }
        if (grantYear !== undefined && grantYear !== null) {
            queryParameters = queryParameters.set('grantYear', grantYear);
        }
        if (groupCode !== undefined && groupCode !== null) {
            queryParameters = queryParameters.set('groupCode', groupCode);
        }
        if (includeDeleted !== undefined && includeDeleted !== null) {
            queryParameters = queryParameters.set('includeDeleted', includeDeleted);
        }
        if (includeOrphans !== undefined && includeOrphans !== null) {
            queryParameters = queryParameters.set('includeOrphans', includeOrphans);
        }
        if (institution !== undefined && institution !== null) {
            queryParameters = queryParameters.set('institution', institution);
        }
        if (irgCode !== undefined && irgCode !== null) {
            queryParameters = queryParameters.set('irgCode', irgCode);
        }
        if (irgFlexCode !== undefined && irgFlexCode !== null) {
            queryParameters = queryParameters.set('irgFlexCode', irgFlexCode);
        }
        if (myCancerActivities) {
            myCancerActivities.forEach((element) => {
                queryParameters = queryParameters.append('myCancerActivities', element);
            });
        }
        if (ncabFrom !== undefined && ncabFrom !== null) {
            queryParameters = queryParameters.set('ncabFrom', ncabFrom);
        }
        if (ncabTo !== undefined && ncabTo !== null) {
            queryParameters = queryParameters.set('ncabTo', ncabTo);
        }
        if (notifyFlag !== undefined && notifyFlag !== null) {
            queryParameters = queryParameters.set('notifyFlag', notifyFlag);
        }
        if (npnId !== undefined && npnId !== null) {
            queryParameters = queryParameters.set('npnId', npnId);
        }
        if (orderBy !== undefined && orderBy !== null) {
            queryParameters = queryParameters.set('orderBy', orderBy);
        }
        if (pdAssignmentSearch !== undefined && pdAssignmentSearch !== null) {
            queryParameters = queryParameters.set('pdAssignmentSearch', pdAssignmentSearch);
        }
        if (pdId !== undefined && pdId !== null) {
            queryParameters = queryParameters.set('pdId', pdId);
        }
        if (piName !== undefined && piName !== null) {
            queryParameters = queryParameters.set('piName', piName);
        }
        if (referralOfficer !== undefined && referralOfficer !== null) {
            queryParameters = queryParameters.set('referralOfficer', referralOfficer);
        }
        if (referralStatus) {
            referralStatus.forEach((element) => {
                queryParameters = queryParameters.append('referralStatus', element);
            });
        }
        if (remainingParams !== undefined && remainingParams !== null) {
            queryParameters = queryParameters.set('remainingParams', remainingParams);
        }
        if (rfaPaNumber) {
            rfaPaNumber.forEach((element) => {
                queryParameters = queryParameters.append('rfaPaNumber', element);
            });
        }
        if (role !== undefined && role !== null) {
            queryParameters = queryParameters.set('role', role);
        }
        if (roNpnId !== undefined && roNpnId !== null) {
            queryParameters = queryParameters.set('roNpnId', roNpnId);
        }
        if (selectFrom !== undefined && selectFrom !== null) {
            queryParameters = queryParameters.set('selectFrom', selectFrom);
        }
        if (sraDesignatorCode !== undefined && sraDesignatorCode !== null) {
            queryParameters = queryParameters.set('sraDesignatorCode', sraDesignatorCode);
        }
        if (sraFlexCode !== undefined && sraFlexCode !== null) {
            queryParameters = queryParameters.set('sraFlexCode', sraFlexCode);
        }
        if (wBSearch !== undefined && wBSearch !== null) {
            queryParameters = queryParameters.set('WBSearch', wBSearch);
        }
        let headers = this.defaultHeaders;
        // to determine the Accept header
        let httpHeaderAccepts = [
            'text/plain'
        ];
        const httpHeaderAcceptSelected = this.configuration.selectHeaderAccept(httpHeaderAccepts);
        if (httpHeaderAcceptSelected != undefined) {
            headers = headers.set('Accept', httpHeaderAcceptSelected);
        }
        // to determine the Content-Type header
        const consumes = [];
        return this.httpClient.get(`${this.basePath}/api/v1/export/transfer-grants`, {
            params: queryParameters,
            withCredentials: this.configuration.withCredentials,
            headers: headers,
            observe: observe,
            reportProgress: reportProgress
        });
    }
    exportSearchResultsUsingGET(remainingParams, accessionNum, activeSegments, applIds, applStatusGroupCode, araMatchStatus, cancerActivities, composedGrantNumber, dualCas, formerGrantNumber, fyFrom, fyTo, grantIc, grantMech, grantSerial, grantSuffix, grantsWitCa, grantType, grantYear, groupCode, includeDeleted, includeOrphans, institution, irgCode, irgFlexCode, myCancerActivities, ncabFrom, ncabTo, notifyFlag, npnId, orderBy, pdAssignmentSearch, pdId, piName, referralOfficer, referralStatus, rfaPaNumber, role, roNpnId, selectFrom, sraDesignatorCode, sraFlexCode, wBSearch, observe = 'body', reportProgress = false) {
        if (remainingParams === null || remainingParams === undefined) {
            throw new Error('Required parameter remainingParams was null or undefined when calling exportSearchResultsUsingGET.');
        }
        let queryParameters = new HttpParams({ encoder: new CustomHttpUrlEncodingCodec() });
        if (accessionNum !== undefined && accessionNum !== null) {
            queryParameters = queryParameters.set('accessionNum', accessionNum);
        }
        if (activeSegments !== undefined && activeSegments !== null) {
            queryParameters = queryParameters.set('activeSegments', activeSegments);
        }
        if (applIds) {
            applIds.forEach((element) => {
                queryParameters = queryParameters.append('applIds', element);
            });
        }
        if (applStatusGroupCode) {
            applStatusGroupCode.forEach((element) => {
                queryParameters = queryParameters.append('applStatusGroupCode', element);
            });
        }
        if (araMatchStatus) {
            araMatchStatus.forEach((element) => {
                queryParameters = queryParameters.append('araMatchStatus', element);
            });
        }
        if (cancerActivities) {
            cancerActivities.forEach((element) => {
                queryParameters = queryParameters.append('cancerActivities', element);
            });
        }
        if (composedGrantNumber !== undefined && composedGrantNumber !== null) {
            queryParameters = queryParameters.set('composedGrantNumber', composedGrantNumber);
        }
        if (dualCas !== undefined && dualCas !== null) {
            queryParameters = queryParameters.set('dualCas', dualCas);
        }
        if (formerGrantNumber !== undefined && formerGrantNumber !== null) {
            queryParameters = queryParameters.set('formerGrantNumber', formerGrantNumber);
        }
        if (fyFrom !== undefined && fyFrom !== null) {
            queryParameters = queryParameters.set('fyFrom', fyFrom);
        }
        if (fyTo !== undefined && fyTo !== null) {
            queryParameters = queryParameters.set('fyTo', fyTo);
        }
        if (grantIc !== undefined && grantIc !== null) {
            queryParameters = queryParameters.set('grantIc', grantIc);
        }
        if (grantMech !== undefined && grantMech !== null) {
            queryParameters = queryParameters.set('grantMech', grantMech);
        }
        if (grantSerial !== undefined && grantSerial !== null) {
            queryParameters = queryParameters.set('grantSerial', grantSerial);
        }
        if (grantSuffix !== undefined && grantSuffix !== null) {
            queryParameters = queryParameters.set('grantSuffix', grantSuffix);
        }
        if (grantsWitCa !== undefined && grantsWitCa !== null) {
            queryParameters = queryParameters.set('grantsWitCa', grantsWitCa);
        }
        if (grantType !== undefined && grantType !== null) {
            queryParameters = queryParameters.set('grantType', grantType);
        }
        if (grantYear !== undefined && grantYear !== null) {
            queryParameters = queryParameters.set('grantYear', grantYear);
        }
        if (groupCode !== undefined && groupCode !== null) {
            queryParameters = queryParameters.set('groupCode', groupCode);
        }
        if (includeDeleted !== undefined && includeDeleted !== null) {
            queryParameters = queryParameters.set('includeDeleted', includeDeleted);
        }
        if (includeOrphans !== undefined && includeOrphans !== null) {
            queryParameters = queryParameters.set('includeOrphans', includeOrphans);
        }
        if (institution !== undefined && institution !== null) {
            queryParameters = queryParameters.set('institution', institution);
        }
        if (irgCode !== undefined && irgCode !== null) {
            queryParameters = queryParameters.set('irgCode', irgCode);
        }
        if (irgFlexCode !== undefined && irgFlexCode !== null) {
            queryParameters = queryParameters.set('irgFlexCode', irgFlexCode);
        }
        if (myCancerActivities) {
            myCancerActivities.forEach((element) => {
                queryParameters = queryParameters.append('myCancerActivities', element);
            });
        }
        if (ncabFrom !== undefined && ncabFrom !== null) {
            queryParameters = queryParameters.set('ncabFrom', ncabFrom);
        }
        if (ncabTo !== undefined && ncabTo !== null) {
            queryParameters = queryParameters.set('ncabTo', ncabTo);
        }
        if (notifyFlag !== undefined && notifyFlag !== null) {
            queryParameters = queryParameters.set('notifyFlag', notifyFlag);
        }
        if (npnId !== undefined && npnId !== null) {
            queryParameters = queryParameters.set('npnId', npnId);
        }
        if (orderBy !== undefined && orderBy !== null) {
            queryParameters = queryParameters.set('orderBy', orderBy);
        }
        if (pdAssignmentSearch !== undefined && pdAssignmentSearch !== null) {
            queryParameters = queryParameters.set('pdAssignmentSearch', pdAssignmentSearch);
        }
        if (pdId !== undefined && pdId !== null) {
            queryParameters = queryParameters.set('pdId', pdId);
        }
        if (piName !== undefined && piName !== null) {
            queryParameters = queryParameters.set('piName', piName);
        }
        if (referralOfficer !== undefined && referralOfficer !== null) {
            queryParameters = queryParameters.set('referralOfficer', referralOfficer);
        }
        if (referralStatus) {
            referralStatus.forEach((element) => {
                queryParameters = queryParameters.append('referralStatus', element);
            });
        }
        if (remainingParams !== undefined && remainingParams !== null) {
            queryParameters = queryParameters.set('remainingParams', remainingParams);
        }
        if (rfaPaNumber) {
            rfaPaNumber.forEach((element) => {
                queryParameters = queryParameters.append('rfaPaNumber', element);
            });
        }
        if (role !== undefined && role !== null) {
            queryParameters = queryParameters.set('role', role);
        }
        if (roNpnId !== undefined && roNpnId !== null) {
            queryParameters = queryParameters.set('roNpnId', roNpnId);
        }
        if (selectFrom !== undefined && selectFrom !== null) {
            queryParameters = queryParameters.set('selectFrom', selectFrom);
        }
        if (sraDesignatorCode !== undefined && sraDesignatorCode !== null) {
            queryParameters = queryParameters.set('sraDesignatorCode', sraDesignatorCode);
        }
        if (sraFlexCode !== undefined && sraFlexCode !== null) {
            queryParameters = queryParameters.set('sraFlexCode', sraFlexCode);
        }
        if (wBSearch !== undefined && wBSearch !== null) {
            queryParameters = queryParameters.set('WBSearch', wBSearch);
        }
        let headers = this.defaultHeaders;
        // to determine the Accept header
        let httpHeaderAccepts = [
            'text/plain'
        ];
        const httpHeaderAcceptSelected = this.configuration.selectHeaderAccept(httpHeaderAccepts);
        if (httpHeaderAcceptSelected != undefined) {
            headers = headers.set('Accept', httpHeaderAcceptSelected);
        }
        // to determine the Content-Type header
        const consumes = [];
        return this.httpClient.get(`${this.basePath}/api/v1/export/referral-grants`, {
            params: queryParameters,
            withCredentials: this.configuration.withCredentials,
            headers: headers,
            observe: observe,
            reportProgress: reportProgress
        });
    }
    exportSearchResultsUsingPOST(remainingParams, accessionNum, activeSegments, applIds, applStatusGroupCode, araMatchStatus, cancerActivities, composedGrantNumber, dualCas, formerGrantNumber, fyFrom, fyTo, grantIc, grantMech, grantSerial, grantSuffix, grantsWitCa, grantType, grantYear, groupCode, includeDeleted, includeOrphans, institution, irgCode, irgFlexCode, myCancerActivities, ncabFrom, ncabTo, notifyFlag, npnId, orderBy, pdAssignmentSearch, pdId, piName, referralOfficer, referralStatus, rfaPaNumber, role, roNpnId, selectFrom, sraDesignatorCode, sraFlexCode, wBSearch, observe = 'body', reportProgress = false) {
        if (remainingParams === null || remainingParams === undefined) {
            throw new Error('Required parameter remainingParams was null or undefined when calling exportSearchResultsUsingPOST.');
        }
        let queryParameters = new HttpParams({ encoder: new CustomHttpUrlEncodingCodec() });
        if (accessionNum !== undefined && accessionNum !== null) {
            queryParameters = queryParameters.set('accessionNum', accessionNum);
        }
        if (activeSegments !== undefined && activeSegments !== null) {
            queryParameters = queryParameters.set('activeSegments', activeSegments);
        }
        if (applIds) {
            applIds.forEach((element) => {
                queryParameters = queryParameters.append('applIds', element);
            });
        }
        if (applStatusGroupCode) {
            applStatusGroupCode.forEach((element) => {
                queryParameters = queryParameters.append('applStatusGroupCode', element);
            });
        }
        if (araMatchStatus) {
            araMatchStatus.forEach((element) => {
                queryParameters = queryParameters.append('araMatchStatus', element);
            });
        }
        if (cancerActivities) {
            cancerActivities.forEach((element) => {
                queryParameters = queryParameters.append('cancerActivities', element);
            });
        }
        if (composedGrantNumber !== undefined && composedGrantNumber !== null) {
            queryParameters = queryParameters.set('composedGrantNumber', composedGrantNumber);
        }
        if (dualCas !== undefined && dualCas !== null) {
            queryParameters = queryParameters.set('dualCas', dualCas);
        }
        if (formerGrantNumber !== undefined && formerGrantNumber !== null) {
            queryParameters = queryParameters.set('formerGrantNumber', formerGrantNumber);
        }
        if (fyFrom !== undefined && fyFrom !== null) {
            queryParameters = queryParameters.set('fyFrom', fyFrom);
        }
        if (fyTo !== undefined && fyTo !== null) {
            queryParameters = queryParameters.set('fyTo', fyTo);
        }
        if (grantIc !== undefined && grantIc !== null) {
            queryParameters = queryParameters.set('grantIc', grantIc);
        }
        if (grantMech !== undefined && grantMech !== null) {
            queryParameters = queryParameters.set('grantMech', grantMech);
        }
        if (grantSerial !== undefined && grantSerial !== null) {
            queryParameters = queryParameters.set('grantSerial', grantSerial);
        }
        if (grantSuffix !== undefined && grantSuffix !== null) {
            queryParameters = queryParameters.set('grantSuffix', grantSuffix);
        }
        if (grantsWitCa !== undefined && grantsWitCa !== null) {
            queryParameters = queryParameters.set('grantsWitCa', grantsWitCa);
        }
        if (grantType !== undefined && grantType !== null) {
            queryParameters = queryParameters.set('grantType', grantType);
        }
        if (grantYear !== undefined && grantYear !== null) {
            queryParameters = queryParameters.set('grantYear', grantYear);
        }
        if (groupCode !== undefined && groupCode !== null) {
            queryParameters = queryParameters.set('groupCode', groupCode);
        }
        if (includeDeleted !== undefined && includeDeleted !== null) {
            queryParameters = queryParameters.set('includeDeleted', includeDeleted);
        }
        if (includeOrphans !== undefined && includeOrphans !== null) {
            queryParameters = queryParameters.set('includeOrphans', includeOrphans);
        }
        if (institution !== undefined && institution !== null) {
            queryParameters = queryParameters.set('institution', institution);
        }
        if (irgCode !== undefined && irgCode !== null) {
            queryParameters = queryParameters.set('irgCode', irgCode);
        }
        if (irgFlexCode !== undefined && irgFlexCode !== null) {
            queryParameters = queryParameters.set('irgFlexCode', irgFlexCode);
        }
        if (myCancerActivities) {
            myCancerActivities.forEach((element) => {
                queryParameters = queryParameters.append('myCancerActivities', element);
            });
        }
        if (ncabFrom !== undefined && ncabFrom !== null) {
            queryParameters = queryParameters.set('ncabFrom', ncabFrom);
        }
        if (ncabTo !== undefined && ncabTo !== null) {
            queryParameters = queryParameters.set('ncabTo', ncabTo);
        }
        if (notifyFlag !== undefined && notifyFlag !== null) {
            queryParameters = queryParameters.set('notifyFlag', notifyFlag);
        }
        if (npnId !== undefined && npnId !== null) {
            queryParameters = queryParameters.set('npnId', npnId);
        }
        if (orderBy !== undefined && orderBy !== null) {
            queryParameters = queryParameters.set('orderBy', orderBy);
        }
        if (pdAssignmentSearch !== undefined && pdAssignmentSearch !== null) {
            queryParameters = queryParameters.set('pdAssignmentSearch', pdAssignmentSearch);
        }
        if (pdId !== undefined && pdId !== null) {
            queryParameters = queryParameters.set('pdId', pdId);
        }
        if (piName !== undefined && piName !== null) {
            queryParameters = queryParameters.set('piName', piName);
        }
        if (referralOfficer !== undefined && referralOfficer !== null) {
            queryParameters = queryParameters.set('referralOfficer', referralOfficer);
        }
        if (referralStatus) {
            referralStatus.forEach((element) => {
                queryParameters = queryParameters.append('referralStatus', element);
            });
        }
        if (remainingParams !== undefined && remainingParams !== null) {
            queryParameters = queryParameters.set('remainingParams', remainingParams);
        }
        if (rfaPaNumber) {
            rfaPaNumber.forEach((element) => {
                queryParameters = queryParameters.append('rfaPaNumber', element);
            });
        }
        if (role !== undefined && role !== null) {
            queryParameters = queryParameters.set('role', role);
        }
        if (roNpnId !== undefined && roNpnId !== null) {
            queryParameters = queryParameters.set('roNpnId', roNpnId);
        }
        if (selectFrom !== undefined && selectFrom !== null) {
            queryParameters = queryParameters.set('selectFrom', selectFrom);
        }
        if (sraDesignatorCode !== undefined && sraDesignatorCode !== null) {
            queryParameters = queryParameters.set('sraDesignatorCode', sraDesignatorCode);
        }
        if (sraFlexCode !== undefined && sraFlexCode !== null) {
            queryParameters = queryParameters.set('sraFlexCode', sraFlexCode);
        }
        if (wBSearch !== undefined && wBSearch !== null) {
            queryParameters = queryParameters.set('WBSearch', wBSearch);
        }
        let headers = this.defaultHeaders;
        // to determine the Accept header
        let httpHeaderAccepts = [
            'text/plain'
        ];
        const httpHeaderAcceptSelected = this.configuration.selectHeaderAccept(httpHeaderAccepts);
        if (httpHeaderAcceptSelected != undefined) {
            headers = headers.set('Accept', httpHeaderAcceptSelected);
        }
        // to determine the Content-Type header
        const consumes = [
            'application/json'
        ];
        return this.httpClient.post(`${this.basePath}/api/v1/export/referral-grants`, null, {
            params: queryParameters,
            withCredentials: this.configuration.withCredentials,
            headers: headers,
            observe: observe,
            reportProgress: reportProgress
        });
    }
    findWithdrawnGrantsUsingGET(observe = 'body', reportProgress = false) {
        let headers = this.defaultHeaders;
        // to determine the Accept header
        let httpHeaderAccepts = [
            'application/json',
            'application/xml'
        ];
        const httpHeaderAcceptSelected = this.configuration.selectHeaderAccept(httpHeaderAccepts);
        if (httpHeaderAcceptSelected != undefined) {
            headers = headers.set('Accept', httpHeaderAcceptSelected);
        }
        // to determine the Content-Type header
        const consumes = [];
        return this.httpClient.get(`${this.basePath}/api/v1/referral-grants/withdrawn`, {
            withCredentials: this.configuration.withCredentials,
            headers: headers,
            observe: observe,
            reportProgress: reportProgress
        });
    }
    getSuggestedCayCodesUsingGET(applId, observe = 'body', reportProgress = false) {
        if (applId === null || applId === undefined) {
            throw new Error('Required parameter applId was null or undefined when calling getSuggestedCayCodesUsingGET.');
        }
        let headers = this.defaultHeaders;
        // to determine the Accept header
        let httpHeaderAccepts = [
            'application/json',
            'application/xml'
        ];
        const httpHeaderAcceptSelected = this.configuration.selectHeaderAccept(httpHeaderAccepts);
        if (httpHeaderAcceptSelected != undefined) {
            headers = headers.set('Accept', httpHeaderAcceptSelected);
        }
        // to determine the Content-Type header
        const consumes = [];
        return this.httpClient.get(`${this.basePath}/api/v1/referral-grants/suggested-cay-codes/${encodeURIComponent(String(applId))}`, {
            withCredentials: this.configuration.withCredentials,
            headers: headers,
            observe: observe,
            reportProgress: reportProgress
        });
    }
    searchGrantsForPDAssignmentUsingGET(remainingParams, accessionNum, activeSegments, applId, applIds, applStatusGroupCode, araMatchStatus, cancerActivities, composedGrantNumber, dualCas, formerGrantNumber, fyFrom, fyTo, grantIc, grantMech, grantSerial, grantSuffix, grantsWitCa, grantType, grantYear, groupCode, includeDeleted, includeOrphans, institution, irgCode, irgFlexCode, myCancerActivities, ncabFrom, ncabTo, notifyFlag, npnId, orderBy, pdAssignmentSearch, pdId, piName, referralOfficer, referralStatus, rfaPaNumber, role, roNpnId, selectFrom, sraDesignatorCode, sraFlexCode, wBSearch, observe = 'body', reportProgress = false) {
        if (remainingParams === null || remainingParams === undefined) {
            throw new Error('Required parameter remainingParams was null or undefined when calling searchGrantsForPDAssignmentUsingGET.');
        }
        let queryParameters = new HttpParams({ encoder: new CustomHttpUrlEncodingCodec() });
        if (accessionNum !== undefined && accessionNum !== null) {
            queryParameters = queryParameters.set('accessionNum', accessionNum);
        }
        if (activeSegments !== undefined && activeSegments !== null) {
            queryParameters = queryParameters.set('activeSegments', activeSegments);
        }
        if (applId) {
            applId.forEach((element) => {
                queryParameters = queryParameters.append('applId', element);
            });
        }
        if (applIds) {
            applIds.forEach((element) => {
                queryParameters = queryParameters.append('applIds', element);
            });
        }
        if (applStatusGroupCode) {
            applStatusGroupCode.forEach((element) => {
                queryParameters = queryParameters.append('applStatusGroupCode', element);
            });
        }
        if (araMatchStatus) {
            araMatchStatus.forEach((element) => {
                queryParameters = queryParameters.append('araMatchStatus', element);
            });
        }
        if (cancerActivities) {
            cancerActivities.forEach((element) => {
                queryParameters = queryParameters.append('cancerActivities', element);
            });
        }
        if (composedGrantNumber !== undefined && composedGrantNumber !== null) {
            queryParameters = queryParameters.set('composedGrantNumber', composedGrantNumber);
        }
        if (dualCas !== undefined && dualCas !== null) {
            queryParameters = queryParameters.set('dualCas', dualCas);
        }
        if (formerGrantNumber !== undefined && formerGrantNumber !== null) {
            queryParameters = queryParameters.set('formerGrantNumber', formerGrantNumber);
        }
        if (fyFrom !== undefined && fyFrom !== null) {
            queryParameters = queryParameters.set('fyFrom', fyFrom);
        }
        if (fyTo !== undefined && fyTo !== null) {
            queryParameters = queryParameters.set('fyTo', fyTo);
        }
        if (grantIc !== undefined && grantIc !== null) {
            queryParameters = queryParameters.set('grantIc', grantIc);
        }
        if (grantMech !== undefined && grantMech !== null) {
            queryParameters = queryParameters.set('grantMech', grantMech);
        }
        if (grantSerial !== undefined && grantSerial !== null) {
            queryParameters = queryParameters.set('grantSerial', grantSerial);
        }
        if (grantSuffix !== undefined && grantSuffix !== null) {
            queryParameters = queryParameters.set('grantSuffix', grantSuffix);
        }
        if (grantsWitCa !== undefined && grantsWitCa !== null) {
            queryParameters = queryParameters.set('grantsWitCa', grantsWitCa);
        }
        if (grantType !== undefined && grantType !== null) {
            queryParameters = queryParameters.set('grantType', grantType);
        }
        if (grantYear !== undefined && grantYear !== null) {
            queryParameters = queryParameters.set('grantYear', grantYear);
        }
        if (groupCode !== undefined && groupCode !== null) {
            queryParameters = queryParameters.set('groupCode', groupCode);
        }
        if (includeDeleted !== undefined && includeDeleted !== null) {
            queryParameters = queryParameters.set('includeDeleted', includeDeleted);
        }
        if (includeOrphans !== undefined && includeOrphans !== null) {
            queryParameters = queryParameters.set('includeOrphans', includeOrphans);
        }
        if (institution !== undefined && institution !== null) {
            queryParameters = queryParameters.set('institution', institution);
        }
        if (irgCode !== undefined && irgCode !== null) {
            queryParameters = queryParameters.set('irgCode', irgCode);
        }
        if (irgFlexCode !== undefined && irgFlexCode !== null) {
            queryParameters = queryParameters.set('irgFlexCode', irgFlexCode);
        }
        if (myCancerActivities) {
            myCancerActivities.forEach((element) => {
                queryParameters = queryParameters.append('myCancerActivities', element);
            });
        }
        if (ncabFrom !== undefined && ncabFrom !== null) {
            queryParameters = queryParameters.set('ncabFrom', ncabFrom);
        }
        if (ncabTo !== undefined && ncabTo !== null) {
            queryParameters = queryParameters.set('ncabTo', ncabTo);
        }
        if (notifyFlag !== undefined && notifyFlag !== null) {
            queryParameters = queryParameters.set('notifyFlag', notifyFlag);
        }
        if (npnId !== undefined && npnId !== null) {
            queryParameters = queryParameters.set('npnId', npnId);
        }
        if (orderBy !== undefined && orderBy !== null) {
            queryParameters = queryParameters.set('orderBy', orderBy);
        }
        if (pdAssignmentSearch !== undefined && pdAssignmentSearch !== null) {
            queryParameters = queryParameters.set('pdAssignmentSearch', pdAssignmentSearch);
        }
        if (pdId !== undefined && pdId !== null) {
            queryParameters = queryParameters.set('pdId', pdId);
        }
        if (piName !== undefined && piName !== null) {
            queryParameters = queryParameters.set('piName', piName);
        }
        if (referralOfficer !== undefined && referralOfficer !== null) {
            queryParameters = queryParameters.set('referralOfficer', referralOfficer);
        }
        if (referralStatus) {
            referralStatus.forEach((element) => {
                queryParameters = queryParameters.append('referralStatus', element);
            });
        }
        if (remainingParams !== undefined && remainingParams !== null) {
            queryParameters = queryParameters.set('remainingParams', remainingParams);
        }
        if (rfaPaNumber) {
            rfaPaNumber.forEach((element) => {
                queryParameters = queryParameters.append('rfaPaNumber', element);
            });
        }
        if (role !== undefined && role !== null) {
            queryParameters = queryParameters.set('role', role);
        }
        if (roNpnId !== undefined && roNpnId !== null) {
            queryParameters = queryParameters.set('roNpnId', roNpnId);
        }
        if (selectFrom !== undefined && selectFrom !== null) {
            queryParameters = queryParameters.set('selectFrom', selectFrom);
        }
        if (sraDesignatorCode !== undefined && sraDesignatorCode !== null) {
            queryParameters = queryParameters.set('sraDesignatorCode', sraDesignatorCode);
        }
        if (sraFlexCode !== undefined && sraFlexCode !== null) {
            queryParameters = queryParameters.set('sraFlexCode', sraFlexCode);
        }
        if (wBSearch !== undefined && wBSearch !== null) {
            queryParameters = queryParameters.set('WBSearch', wBSearch);
        }
        let headers = this.defaultHeaders;
        // to determine the Accept header
        let httpHeaderAccepts = [
            'application/json',
            'application/xml'
        ];
        const httpHeaderAcceptSelected = this.configuration.selectHeaderAccept(httpHeaderAccepts);
        if (httpHeaderAcceptSelected != undefined) {
            headers = headers.set('Accept', httpHeaderAcceptSelected);
        }
        // to determine the Content-Type header
        const consumes = [];
        return this.httpClient.get(`${this.basePath}/api/v1/pd-assignment/search`, {
            params: queryParameters,
            withCredentials: this.configuration.withCredentials,
            headers: headers,
            observe: observe,
            reportProgress: reportProgress
        });
    }
    searchReferralGrantsUsingGET(remainingParams, accessionNum, activeSegments, applIds, applStatusGroupCode, araMatchStatus, cancerActivities, composedGrantNumber, dualCas, formerGrantNumber, fyFrom, fyTo, grantIc, grantMech, grantSerial, grantSuffix, grantsWitCa, grantType, grantYear, groupCode, includeDeleted, includeOrphans, institution, irgCode, irgFlexCode, myCancerActivities, ncabFrom, ncabTo, notifyFlag, npnId, orderBy, pdAssignmentSearch, pdId, piName, referralOfficer, referralStatus, rfaPaNumber, role, roNpnId, selectFrom, sraDesignatorCode, sraFlexCode, wBSearch, observe = 'body', reportProgress = false) {
        if (remainingParams === null || remainingParams === undefined) {
            throw new Error('Required parameter remainingParams was null or undefined when calling searchReferralGrantsUsingGET.');
        }
        let queryParameters = new HttpParams({ encoder: new CustomHttpUrlEncodingCodec() });
        if (accessionNum !== undefined && accessionNum !== null) {
            queryParameters = queryParameters.set('accessionNum', accessionNum);
        }
        if (activeSegments !== undefined && activeSegments !== null) {
            queryParameters = queryParameters.set('activeSegments', activeSegments);
        }
        if (applIds) {
            applIds.forEach((element) => {
                queryParameters = queryParameters.append('applIds', element);
            });
        }
        if (applStatusGroupCode) {
            applStatusGroupCode.forEach((element) => {
                queryParameters = queryParameters.append('applStatusGroupCode', element);
            });
        }
        if (araMatchStatus) {
            araMatchStatus.forEach((element) => {
                queryParameters = queryParameters.append('araMatchStatus', element);
            });
        }
        if (cancerActivities) {
            cancerActivities.forEach((element) => {
                queryParameters = queryParameters.append('cancerActivities', element);
            });
        }
        if (composedGrantNumber !== undefined && composedGrantNumber !== null) {
            queryParameters = queryParameters.set('composedGrantNumber', composedGrantNumber);
        }
        if (dualCas !== undefined && dualCas !== null) {
            queryParameters = queryParameters.set('dualCas', dualCas);
        }
        if (formerGrantNumber !== undefined && formerGrantNumber !== null) {
            queryParameters = queryParameters.set('formerGrantNumber', formerGrantNumber);
        }
        if (fyFrom !== undefined && fyFrom !== null) {
            queryParameters = queryParameters.set('fyFrom', fyFrom);
        }
        if (fyTo !== undefined && fyTo !== null) {
            queryParameters = queryParameters.set('fyTo', fyTo);
        }
        if (grantIc !== undefined && grantIc !== null) {
            queryParameters = queryParameters.set('grantIc', grantIc);
        }
        if (grantMech !== undefined && grantMech !== null) {
            queryParameters = queryParameters.set('grantMech', grantMech);
        }
        if (grantSerial !== undefined && grantSerial !== null) {
            queryParameters = queryParameters.set('grantSerial', grantSerial);
        }
        if (grantSuffix !== undefined && grantSuffix !== null) {
            queryParameters = queryParameters.set('grantSuffix', grantSuffix);
        }
        if (grantsWitCa !== undefined && grantsWitCa !== null) {
            queryParameters = queryParameters.set('grantsWitCa', grantsWitCa);
        }
        if (grantType !== undefined && grantType !== null) {
            queryParameters = queryParameters.set('grantType', grantType);
        }
        if (grantYear !== undefined && grantYear !== null) {
            queryParameters = queryParameters.set('grantYear', grantYear);
        }
        if (groupCode !== undefined && groupCode !== null) {
            queryParameters = queryParameters.set('groupCode', groupCode);
        }
        if (includeDeleted !== undefined && includeDeleted !== null) {
            queryParameters = queryParameters.set('includeDeleted', includeDeleted);
        }
        if (includeOrphans !== undefined && includeOrphans !== null) {
            queryParameters = queryParameters.set('includeOrphans', includeOrphans);
        }
        if (institution !== undefined && institution !== null) {
            queryParameters = queryParameters.set('institution', institution);
        }
        if (irgCode !== undefined && irgCode !== null) {
            queryParameters = queryParameters.set('irgCode', irgCode);
        }
        if (irgFlexCode !== undefined && irgFlexCode !== null) {
            queryParameters = queryParameters.set('irgFlexCode', irgFlexCode);
        }
        if (myCancerActivities) {
            myCancerActivities.forEach((element) => {
                queryParameters = queryParameters.append('myCancerActivities', element);
            });
        }
        if (ncabFrom !== undefined && ncabFrom !== null) {
            queryParameters = queryParameters.set('ncabFrom', ncabFrom);
        }
        if (ncabTo !== undefined && ncabTo !== null) {
            queryParameters = queryParameters.set('ncabTo', ncabTo);
        }
        if (notifyFlag !== undefined && notifyFlag !== null) {
            queryParameters = queryParameters.set('notifyFlag', notifyFlag);
        }
        if (npnId !== undefined && npnId !== null) {
            queryParameters = queryParameters.set('npnId', npnId);
        }
        if (orderBy !== undefined && orderBy !== null) {
            queryParameters = queryParameters.set('orderBy', orderBy);
        }
        if (pdAssignmentSearch !== undefined && pdAssignmentSearch !== null) {
            queryParameters = queryParameters.set('pdAssignmentSearch', pdAssignmentSearch);
        }
        if (pdId !== undefined && pdId !== null) {
            queryParameters = queryParameters.set('pdId', pdId);
        }
        if (piName !== undefined && piName !== null) {
            queryParameters = queryParameters.set('piName', piName);
        }
        if (referralOfficer !== undefined && referralOfficer !== null) {
            queryParameters = queryParameters.set('referralOfficer', referralOfficer);
        }
        if (referralStatus) {
            referralStatus.forEach((element) => {
                queryParameters = queryParameters.append('referralStatus', element);
            });
        }
        if (remainingParams !== undefined && remainingParams !== null) {
            queryParameters = queryParameters.set('remainingParams', remainingParams);
        }
        if (rfaPaNumber) {
            rfaPaNumber.forEach((element) => {
                queryParameters = queryParameters.append('rfaPaNumber', element);
            });
        }
        if (role !== undefined && role !== null) {
            queryParameters = queryParameters.set('role', role);
        }
        if (roNpnId !== undefined && roNpnId !== null) {
            queryParameters = queryParameters.set('roNpnId', roNpnId);
        }
        if (selectFrom !== undefined && selectFrom !== null) {
            queryParameters = queryParameters.set('selectFrom', selectFrom);
        }
        if (sraDesignatorCode !== undefined && sraDesignatorCode !== null) {
            queryParameters = queryParameters.set('sraDesignatorCode', sraDesignatorCode);
        }
        if (sraFlexCode !== undefined && sraFlexCode !== null) {
            queryParameters = queryParameters.set('sraFlexCode', sraFlexCode);
        }
        if (wBSearch !== undefined && wBSearch !== null) {
            queryParameters = queryParameters.set('WBSearch', wBSearch);
        }
        let headers = this.defaultHeaders;
        // to determine the Accept header
        let httpHeaderAccepts = [
            'application/json',
            'application/xml'
        ];
        const httpHeaderAcceptSelected = this.configuration.selectHeaderAccept(httpHeaderAccepts);
        if (httpHeaderAcceptSelected != undefined) {
            headers = headers.set('Accept', httpHeaderAcceptSelected);
        }
        // to determine the Content-Type header
        const consumes = [];
        return this.httpClient.get(`${this.basePath}/api/v1/referral-grants/search`, {
            params: queryParameters,
            withCredentials: this.configuration.withCredentials,
            headers: headers,
            observe: observe,
            reportProgress: reportProgress
        });
    }
    searchReferralGrantsUsingPOST(remainingParams, accessionNum, activeSegments, applIds, applStatusGroupCode, araMatchStatus, cancerActivities, composedGrantNumber, dualCas, formerGrantNumber, fyFrom, fyTo, grantIc, grantMech, grantSerial, grantSuffix, grantsWitCa, grantType, grantYear, groupCode, includeDeleted, includeOrphans, institution, irgCode, irgFlexCode, myCancerActivities, ncabFrom, ncabTo, notifyFlag, npnId, orderBy, pdAssignmentSearch, pdId, piName, referralOfficer, referralStatus, rfaPaNumber, role, roNpnId, selectFrom, sraDesignatorCode, sraFlexCode, wBSearch, observe = 'body', reportProgress = false) {
        if (remainingParams === null || remainingParams === undefined) {
            throw new Error('Required parameter remainingParams was null or undefined when calling searchReferralGrantsUsingPOST.');
        }
        let queryParameters = new HttpParams({ encoder: new CustomHttpUrlEncodingCodec() });
        if (accessionNum !== undefined && accessionNum !== null) {
            queryParameters = queryParameters.set('accessionNum', accessionNum);
        }
        if (activeSegments !== undefined && activeSegments !== null) {
            queryParameters = queryParameters.set('activeSegments', activeSegments);
        }
        if (applIds) {
            applIds.forEach((element) => {
                queryParameters = queryParameters.append('applIds', element);
            });
        }
        if (applStatusGroupCode) {
            applStatusGroupCode.forEach((element) => {
                queryParameters = queryParameters.append('applStatusGroupCode', element);
            });
        }
        if (araMatchStatus) {
            araMatchStatus.forEach((element) => {
                queryParameters = queryParameters.append('araMatchStatus', element);
            });
        }
        if (cancerActivities) {
            cancerActivities.forEach((element) => {
                queryParameters = queryParameters.append('cancerActivities', element);
            });
        }
        if (composedGrantNumber !== undefined && composedGrantNumber !== null) {
            queryParameters = queryParameters.set('composedGrantNumber', composedGrantNumber);
        }
        if (dualCas !== undefined && dualCas !== null) {
            queryParameters = queryParameters.set('dualCas', dualCas);
        }
        if (formerGrantNumber !== undefined && formerGrantNumber !== null) {
            queryParameters = queryParameters.set('formerGrantNumber', formerGrantNumber);
        }
        if (fyFrom !== undefined && fyFrom !== null) {
            queryParameters = queryParameters.set('fyFrom', fyFrom);
        }
        if (fyTo !== undefined && fyTo !== null) {
            queryParameters = queryParameters.set('fyTo', fyTo);
        }
        if (grantIc !== undefined && grantIc !== null) {
            queryParameters = queryParameters.set('grantIc', grantIc);
        }
        if (grantMech !== undefined && grantMech !== null) {
            queryParameters = queryParameters.set('grantMech', grantMech);
        }
        if (grantSerial !== undefined && grantSerial !== null) {
            queryParameters = queryParameters.set('grantSerial', grantSerial);
        }
        if (grantSuffix !== undefined && grantSuffix !== null) {
            queryParameters = queryParameters.set('grantSuffix', grantSuffix);
        }
        if (grantsWitCa !== undefined && grantsWitCa !== null) {
            queryParameters = queryParameters.set('grantsWitCa', grantsWitCa);
        }
        if (grantType !== undefined && grantType !== null) {
            queryParameters = queryParameters.set('grantType', grantType);
        }
        if (grantYear !== undefined && grantYear !== null) {
            queryParameters = queryParameters.set('grantYear', grantYear);
        }
        if (groupCode !== undefined && groupCode !== null) {
            queryParameters = queryParameters.set('groupCode', groupCode);
        }
        if (includeDeleted !== undefined && includeDeleted !== null) {
            queryParameters = queryParameters.set('includeDeleted', includeDeleted);
        }
        if (includeOrphans !== undefined && includeOrphans !== null) {
            queryParameters = queryParameters.set('includeOrphans', includeOrphans);
        }
        if (institution !== undefined && institution !== null) {
            queryParameters = queryParameters.set('institution', institution);
        }
        if (irgCode !== undefined && irgCode !== null) {
            queryParameters = queryParameters.set('irgCode', irgCode);
        }
        if (irgFlexCode !== undefined && irgFlexCode !== null) {
            queryParameters = queryParameters.set('irgFlexCode', irgFlexCode);
        }
        if (myCancerActivities) {
            myCancerActivities.forEach((element) => {
                queryParameters = queryParameters.append('myCancerActivities', element);
            });
        }
        if (ncabFrom !== undefined && ncabFrom !== null) {
            queryParameters = queryParameters.set('ncabFrom', ncabFrom);
        }
        if (ncabTo !== undefined && ncabTo !== null) {
            queryParameters = queryParameters.set('ncabTo', ncabTo);
        }
        if (notifyFlag !== undefined && notifyFlag !== null) {
            queryParameters = queryParameters.set('notifyFlag', notifyFlag);
        }
        if (npnId !== undefined && npnId !== null) {
            queryParameters = queryParameters.set('npnId', npnId);
        }
        if (orderBy !== undefined && orderBy !== null) {
            queryParameters = queryParameters.set('orderBy', orderBy);
        }
        if (pdAssignmentSearch !== undefined && pdAssignmentSearch !== null) {
            queryParameters = queryParameters.set('pdAssignmentSearch', pdAssignmentSearch);
        }
        if (pdId !== undefined && pdId !== null) {
            queryParameters = queryParameters.set('pdId', pdId);
        }
        if (piName !== undefined && piName !== null) {
            queryParameters = queryParameters.set('piName', piName);
        }
        if (referralOfficer !== undefined && referralOfficer !== null) {
            queryParameters = queryParameters.set('referralOfficer', referralOfficer);
        }
        if (referralStatus) {
            referralStatus.forEach((element) => {
                queryParameters = queryParameters.append('referralStatus', element);
            });
        }
        if (remainingParams !== undefined && remainingParams !== null) {
            queryParameters = queryParameters.set('remainingParams', remainingParams);
        }
        if (rfaPaNumber) {
            rfaPaNumber.forEach((element) => {
                queryParameters = queryParameters.append('rfaPaNumber', element);
            });
        }
        if (role !== undefined && role !== null) {
            queryParameters = queryParameters.set('role', role);
        }
        if (roNpnId !== undefined && roNpnId !== null) {
            queryParameters = queryParameters.set('roNpnId', roNpnId);
        }
        if (selectFrom !== undefined && selectFrom !== null) {
            queryParameters = queryParameters.set('selectFrom', selectFrom);
        }
        if (sraDesignatorCode !== undefined && sraDesignatorCode !== null) {
            queryParameters = queryParameters.set('sraDesignatorCode', sraDesignatorCode);
        }
        if (sraFlexCode !== undefined && sraFlexCode !== null) {
            queryParameters = queryParameters.set('sraFlexCode', sraFlexCode);
        }
        if (wBSearch !== undefined && wBSearch !== null) {
            queryParameters = queryParameters.set('WBSearch', wBSearch);
        }
        let headers = this.defaultHeaders;
        // to determine the Accept header
        let httpHeaderAccepts = [
            'application/json',
            'application/xml'
        ];
        const httpHeaderAcceptSelected = this.configuration.selectHeaderAccept(httpHeaderAccepts);
        if (httpHeaderAcceptSelected != undefined) {
            headers = headers.set('Accept', httpHeaderAcceptSelected);
        }
        // to determine the Content-Type header
        const consumes = [
            'application/json'
        ];
        return this.httpClient.post(`${this.basePath}/api/v1/referral-grants/search`, null, {
            params: queryParameters,
            withCredentials: this.configuration.withCredentials,
            headers: headers,
            observe: observe,
            reportProgress: reportProgress
        });
    }
    searchUsingGET(applId, cancerActivity, grantsWithoutInterest, mech, minDaysSinceReferral, ncabFromDate, ncabToDate, orderBy, pocNpnId, referralDateHigh, referralDateLow, observe = 'body', reportProgress = false) {
        let queryParameters = new HttpParams({ encoder: new CustomHttpUrlEncodingCodec() });
        if (applId) {
            applId.forEach((element) => {
                queryParameters = queryParameters.append('applId', element);
            });
        }
        if (cancerActivity !== undefined && cancerActivity !== null) {
            queryParameters = queryParameters.set('cancerActivity', cancerActivity);
        }
        if (grantsWithoutInterest !== undefined && grantsWithoutInterest !== null) {
            queryParameters = queryParameters.set('grantsWithoutInterest', grantsWithoutInterest);
        }
        if (mech !== undefined && mech !== null) {
            queryParameters = queryParameters.set('mech', mech);
        }
        if (minDaysSinceReferral !== undefined && minDaysSinceReferral !== null) {
            queryParameters = queryParameters.set('minDaysSinceReferral', minDaysSinceReferral);
        }
        if (ncabFromDate !== undefined && ncabFromDate !== null) {
            queryParameters = queryParameters.set('ncabFromDate', ncabFromDate);
        }
        if (ncabToDate !== undefined && ncabToDate !== null) {
            queryParameters = queryParameters.set('ncabToDate', ncabToDate);
        }
        if (orderBy !== undefined && orderBy !== null) {
            queryParameters = queryParameters.set('orderBy', orderBy);
        }
        if (pocNpnId !== undefined && pocNpnId !== null) {
            queryParameters = queryParameters.set('pocNpnId', pocNpnId);
        }
        if (referralDateHigh !== undefined && referralDateHigh !== null) {
            queryParameters = queryParameters.set('referralDateHigh', referralDateHigh);
        }
        if (referralDateLow !== undefined && referralDateLow !== null) {
            queryParameters = queryParameters.set('referralDateLow', referralDateLow);
        }
        let headers = this.defaultHeaders;
        // to determine the Accept header
        let httpHeaderAccepts = [
            'application/json',
            'application/xml'
        ];
        const httpHeaderAcceptSelected = this.configuration.selectHeaderAccept(httpHeaderAccepts);
        if (httpHeaderAcceptSelected != undefined) {
            headers = headers.set('Accept', httpHeaderAcceptSelected);
        }
        // to determine the Content-Type header
        const consumes = [];
        return this.httpClient.get(`${this.basePath}/api/v1/referral-grants`, {
            params: queryParameters,
            withCredentials: this.configuration.withCredentials,
            headers: headers,
            observe: observe,
            reportProgress: reportProgress
        });
    }
}
NciReferralGrantsControllerService.decorators = [
    { type: Injectable }
];
NciReferralGrantsControllerService.ctorParameters = () => [
    { type: HttpClient },
    { type: String, decorators: [{ type: Optional }, { type: Inject, args: [BASE_PATH,] }] },
    { type: Configuration, decorators: [{ type: Optional }] }
];
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmNpUmVmZXJyYWxHcmFudHNDb250cm9sbGVyLnNlcnZpY2UuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9hcGkvbmNpUmVmZXJyYWxHcmFudHNDb250cm9sbGVyLnNlcnZpY2UudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7Ozs7R0FVRztBQUNILHVEQUF1RDtBQUV2RCxPQUFPLEVBQUUsTUFBTSxFQUFFLFVBQVUsRUFBRSxRQUFRLEVBQUUsTUFBMkIsZUFBZSxDQUFDO0FBQ2xGLE9BQU8sRUFBRSxVQUFVLEVBQUUsV0FBVyxFQUFFLFVBQVUsRUFDVixNQUFnQyxzQkFBc0IsQ0FBQztBQUN6RixPQUFPLEVBQUUsMEJBQTBCLEVBQUUsTUFBNkIsWUFBWSxDQUFDO0FBSy9FLE9BQU8sRUFBRSxTQUFTLEVBQXNCLE1BQTBCLGNBQWMsQ0FBQztBQUNqRixPQUFPLEVBQUUsYUFBYSxFQUFFLE1BQTBDLGtCQUFrQixDQUFDO0FBSXJGLE1BQU0sT0FBTyxrQ0FBa0M7SUFNM0MsWUFBc0IsVUFBc0IsRUFBZ0MsUUFBZ0IsRUFBYyxhQUE0QjtRQUFoSCxlQUFVLEdBQVYsVUFBVSxDQUFZO1FBSmxDLGFBQVEsR0FBRyxtQkFBbUIsQ0FBQztRQUNsQyxtQkFBYyxHQUFHLElBQUksV0FBVyxFQUFFLENBQUM7UUFDbkMsa0JBQWEsR0FBRyxJQUFJLGFBQWEsRUFBRSxDQUFDO1FBR3ZDLElBQUksUUFBUSxFQUFFO1lBQ1YsSUFBSSxDQUFDLFFBQVEsR0FBRyxRQUFRLENBQUM7U0FDNUI7UUFDRCxJQUFJLGFBQWEsRUFBRTtZQUNmLElBQUksQ0FBQyxhQUFhLEdBQUcsYUFBYSxDQUFDO1lBQ25DLElBQUksQ0FBQyxRQUFRLEdBQUcsUUFBUSxJQUFJLGFBQWEsQ0FBQyxRQUFRLElBQUksSUFBSSxDQUFDLFFBQVEsQ0FBQztTQUN2RTtJQUNMLENBQUM7SUFFRDs7O09BR0c7SUFDSyxjQUFjLENBQUMsUUFBa0I7UUFDckMsTUFBTSxJ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QUFTLEVBQU8sT0FBTyxDQUFDLENBQUM7U0FDbEU7UUFDRCxJQUFJLFNBQVMsS0FBSyxTQUFTLElBQUksU0FBUyxLQUFLLElBQUksRUFBRTtZQUMvQyxlQUFlLEdBQUcsZUFBZSxDQUFDLEdBQUcsQ0FBQyxXQUFXLEVBQU8sU0FBUyxDQUFDLENBQUM7U0FDdEU7UUFDRCxJQUFJLFdBQVcsS0FBSyxTQUFTLElBQUksV0FBVyxLQUFLLElBQUksRUFBRTtZQUNuRCxlQUFlLEdBQUcsZUFBZSxDQUFDLEdBQUcsQ0FBQyxhQUFhLEVBQU8sV0FBVyxDQUFDLENBQUM7U0FDMUU7UUFDRCxJQUFJLFdBQVcsS0FBSyxTQUFTLElBQUksV0FBVyxLQUFLLElBQUksRUFBRTtZQUNuRCxlQUFlLEdBQUcsZUFBZSxDQUFDLEdBQUcsQ0FBQyxhQUFhLEVBQU8sV0FBVyxDQUFDLENBQUM7U0FDMUU7UUFDRCxJQUFJLFdBQVcsS0FBSyxTQUFTLElBQUksV0FBVyxLQUFLLElBQUksRUFBRTtZQUNuRCxlQUFlLEdBQUcsZUFBZSxDQUFDLEdBQUcsQ0FBQyxhQUFhLEVBQU8sV0FBVyxDQUFDLENBQUM7U0FDMUU7UUFDRCxJQUFJLFNBQVMsS0FBSyxTQUFTLElBQUksU0FBUyxLQUFLLElBQUksRUFBRTtZQUMvQyxlQUFlLEdBQUcsZUFBZSxDQUFDLEdBQUcsQ0FBQyxXQUFXLEVBQU8sU0FBUyxDQUFDLENBQUM7U0FDdEU7UUFDRCxJQUFJLFNBQVMsS0FBSyxTQUFTLElBQUksU0FBUyxLQUFLLElBQUksRUFBRTtZQUMvQyxlQUFlLEdBQUcsZUFBZSxDQUFDLEdBQUcsQ0FBQyxXQUFXLEVBQU8sU0FBUyxDQUFDLENBQUM7U0FDdEU7UUFDRCxJQUFJLFNBQVMsS0FBSyxTQUFTLElBQUksU0FBUyxLQUFLLElBQUksRUFBRTtZQUMvQyxlQUFlLEdBQUcsZUFBZSxDQUFDLEdBQUcsQ0FBQyxXQUFXLEVBQU8sU0FBUyxDQUFDLENBQUM7U0FDdEU7UUFDRCxJQUFJLGNBQWMsS0FBSyxTQUFTLElBQUksY0FBYyxLQUFLLElBQUksRUFBRTtZ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SSxNQUFNLEtBQUssSUFBSSxFQUFFO1lBQ3pDLGVBQWUsR0FBRyxlQUFlLENBQUMsR0FBRyxDQUFDLFFBQVEsRUFBTyxNQUFNLENBQUMsQ0FBQztTQUNoRTtRQUNELElBQUksSUFBSSxLQUFLLFNBQVMsSUFBSSxJQUFJLEtBQUssSUFBSSxFQUFFO1lBQ3JDLGVBQWUsR0FBRyxlQUFlLENBQUMsR0FBRyxDQUFDLE1BQU0sRUFBTyxJQUFJLENBQUMsQ0FBQztTQUM1RDtRQUNELElBQUksT0FBTyxLQUFLLFNBQVMsSUFBSSxPQUFPLEtBQUssSUFBSSxFQUFFO1lBQzNDLGVBQWUsR0FBRyxlQUFlLENBQUMsR0FBRyxDQUFDLFNBQVMsRUFBTyxPQUFPLENBQUMsQ0FBQztTQUNsRTtRQUNELElBQUksU0FBUyxLQUFLLFNBQVMsSUFBSSxTQUFTLEtBQUssSUFBSSxFQUFFO1lBQy9DLGVBQWUsR0FBRyxlQUFlLENBQUMsR0FBRyxDQUFDLFdBQVcsRUFBTyxTQUFTLENBQUMsQ0FBQztTQUN0RTtRQUNELElBQUksV0FBVyxLQUFLLFNBQVMsSUFBSSxXQUFXLEtBQUssSUFBSSxFQUFFO1lBQ25ELGVBQWUsR0FBRyxlQUFlLENBQUMsR0FBRyxDQUFDLGFBQWEsRUFBTyxXQUFXLENBQUMsQ0FBQztTQUMxRTtRQUNELElBQUksV0FBVyxLQUFLLFNBQVMsSUFBSSxXQUFXLEtBQUssSUFBSSxFQUFFO1lBQ25ELGVBQWUsR0FBRyxlQUFlLENBQUMsR0FBRyxDQUFDLGFBQWEsRUFBTyxXQUFXLENBQUMsQ0FBQztTQUMxRTtRQUNELElBQUksV0FBVyxLQUFLLFNBQVMsSUFBSSxXQUFXLEtBQUssSUFBSSxFQUFFO1lBQ25ELGVBQWUsR0FBRyxlQUFlLENBQUMsR0FBRyxDQUFDLGFBQWEsRUFBTyxXQUFXLENBQUMsQ0FBQztTQUMxRTtRQUNELElBQUksU0FBUyxLQUFLLFNBQVMsSUFBSSxTQUFTLEtBQUssSUFBSSxFQUFFO1lBQy9DLGVBQWUsR0FBRyxlQUFlLENBQUMsR0FBRyxDQUFDLFdBQVcsRUFBTyxTQUFTLENBQUMsQ0FB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UyxFQUFPLE9BQU8sQ0FBQyxDQUFDO1NBQ2xFO1FBQ0QsSUFBSSxTQUFTLEtBQUssU0FBUyxJQUFJLFNBQVMsS0FBSyxJQUFJLEVBQUU7WUFDL0MsZUFBZSxHQUFHLGVBQWUsQ0FBQyxHQUFHLENBQUMsV0FBVyxFQUFPLFNBQVMsQ0FBQyxDQUFDO1NBQ3RFO1FBQ0QsSUFBSSxXQUFXLEtBQUssU0FBUyxJQUFJLFdBQVcsS0FBSyxJQUFJLEVBQUU7WUFDbkQsZUFBZSxHQUFHLGVBQWUsQ0FBQyxHQUFHLENBQUMsYUFBYSxFQUFPLFdBQVcsQ0FBQyxDQUFDO1NBQzFFO1FBQ0QsSUFBSSxXQUFXLEtBQUssU0FBUyxJQUFJLFdBQVcsS0FBSyxJQUFJLEVBQUU7WUFDbkQsZUFBZSxHQUFHLGVBQWUsQ0FBQyxHQUFHLENBQUMsYUFBYSxFQUFPLFdBQVcsQ0FBQyxDQUFDO1NBQzFFO1FBQ0QsSUFBSSxXQUFXLEtBQUssU0FBUyxJQUFJLFdBQVcsS0FBSyxJQUFJLEVBQUU7WUFDbkQsZUFBZSxHQUFHLGVBQWUsQ0FBQyxHQUFHLENBQUMsYUFBYSxFQUFPLFdBQVcsQ0FBQyxDQUFDO1NBQzFFO1FBQ0QsSUFBSSxTQUFTLEtBQUssU0FBUyxJQUFJLFNBQVMsS0FBSyxJQUFJLEVBQUU7WUFDL0MsZUFBZSxHQUFHLGVBQWUsQ0FBQyxHQUFHLENBQUMsV0FBVyxFQUFPLFNBQVMsQ0FBQyxDQUFDO1NBQ3RFO1FBQ0QsSUFBSSxTQUFTLEtBQUssU0FBUyxJQUFJLFNBQVMsS0FBSyxJQUFJLEVBQUU7WUFDL0MsZUFBZSxHQUFHLGVBQWUsQ0FBQyxHQUFHLENBQUMsV0FBVyxFQUFPLFNBQVMsQ0FBQyxDQUFDO1NBQ3RFO1FBQ0QsSUFBSSxTQUFTLEtBQUssU0FBUyxJQUFJLFNBQVMsS0FBSyxJQUFJLEVBQUU7WUFDL0MsZUFBZSxHQUFHLGVBQWUsQ0FBQyxHQUFHLENBQUMsV0FBVyxFQUFPLFNBQVMsQ0FBQyxDQUFDO1NBQ3RFO1FBQ0QsSUFBSSxjQUFjLEtBQUssU0FBUyxJQUFJLGNBQWMsS0FBSyxJQUFJLEVBQUU7WUFD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LENBQUM7UUFFRixPQUFPLElBQUksQ0FBQyxVQUFVLENBQUMsR0FBRyxDQUFNLEdBQUcsSUFBSSxDQUFDLFFBQVEseUJBQXlCLEVBQ3JFO1lBQ0ksTUFBTSxFQUFFLGVBQWU7WUFDdkIsZUFBZSxFQUFFLElBQUksQ0FBQyxhQUFhLENBQUMsZUFBZTtZQUNuRCxPQUFPLEVBQUUsT0FBTztZQUNoQixPQUFPLEVBQUUsT0FBTztZQUNoQixjQUFjLEVBQUUsY0FBYztTQUNqQyxDQUNKLENBQUM7SUFDTixDQUFDOzs7WUF0ekRKLFVBQVU7OztZQVhGLFVBQVU7eUNBa0JnQyxRQUFRLFlBQUcsTUFBTSxTQUFDLFNBQVM7WUFWckUsYUFBYSx1QkFVNkUsUUFBUSIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQXBpIERvY3VtZW50YXRpb25cbiAqIEFwaSBEb2N1bWVudGF0aW9uXG4gKlxuICogT3BlbkFQSSBzcGVjIHZlcnNpb246IDEuMFxuICogXG4gKlxuICogTk9URTogVGhpcyBjbGFzcyBpcyBhdXRvIGdlbmVyYXRlZCBieSB0aGUgc3dhZ2dlciBjb2RlIGdlbmVyYXRvciBwcm9ncmFtLlxuICogaHR0cHM6Ly9naXRodWIuY29tL3N3YWdnZXItYXBpL3N3YWdnZXItY29kZWdlbi5naXRcbiAqIERvIG5vdCBlZGl0IHRoZSBjbGFzcyBtYW51YWxseS5cbiAqL1xuLyogdHNsaW50OmRpc2FibGU6bm8tdW51c2VkLXZhcmlhYmxlIG1lbWJlci1vcmRlcmluZyAqL1xuXG5pbXBvcnQgeyBJbmplY3QsIEluamVjdGFibGUsIE9wdGlvbmFsIH0gICAgICAgICAgICAgICAgICAgICAgZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBIdHRwQ2xpZW50LCBIdHRwSGVhZGVycywgSHR0cFBhcmFtcyxcbiAgICAgICAgIEh0dHBSZXNwb25zZSwgSHR0cEV2ZW50IH0gICAgICAgICAgICAgICAgICAgICAgICAgICBmcm9tICdAYW5ndWxhci9jb21tb24vaHR0cCc7XG5pbXBvcnQgeyBDdXN0b21IdHRwVXJsRW5jb2RpbmdDb2RlYyB9ICAgICAgICAgICAgICAgICAgICAgICAgZnJvbSAnLi4vZW5jb2Rlcic7XG5cbmltcG9ydCB7IE9ic2VydmFibGUgfSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcm9tICdyeGpzJztcblxuXG5pbXBvcnQgeyBCQVNFX1BBVEgsIENPTExFQ1RJT05fRk9STUFUUyB9ICAgICAgICAgICAgICAgICAgICAgZnJvbSAnLi4vdmFyaWFibGVzJztcbmltcG9ydCB7IENvbmZpZ3VyYXRpb24gfSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcm9tICcuLi9jb25maWd1cmF0aW9uJztcblxuXG5ASW5qZWN0YWJsZSgpXG5leHBvcnQgY2xhc3MgTmNpUmVmZXJyYWxHcmFudHNDb250cm9sbGVyU2VydmljZSB7XG5cbiAgICBwcm90ZWN0ZWQgYmFzZVBhdGggPSAnaHR0cHM6Ly9sb2NhbGhvc3QnO1xuICAgIHB1YmxpYyBkZWZhdWx0SGVhZGVycyA9IG5ldyBIdHRwSGVhZGVycygpO1xuICAgIHB1YmxpYyBjb25maWd1cmF0aW9uID0gbmV3IENvbmZpZ3VyYXRpb24oKTtcblxuICAgIGNvbnN0cnVjdG9yKHByb3RlY3RlZCBodHRwQ2xpZW50OiBIdHRwQ2xpZW50LCBAT3B0aW9uYWwoKUBJbmplY3QoQkFTRV9QQVRIKSBiYXNlUGF0aDogc3RyaW5nLCBAT3B0aW9uYWwoKSBjb25maWd1cmF0aW9uOiBDb25maWd1cmF0aW9uKSB7XG4gICAgICAgIGlmIChiYXNlUGF0aCkge1xuICAgICAgICAgICAgdGhpcy5iYXNlUGF0aCA9IGJhc2VQYXRoO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb25maWd1cmF0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLmNvbmZpZ3VyYXRpb24gPSBjb25maWd1cmF0aW9uO1xuICAgICAgICAgICAgdGhpcy5iYXNlUGF0aCA9IGJhc2VQYXRoIHx8IGNvbmZpZ3VyYXRpb24uYmFzZVBhdGggfHwgdGhpcy5iYXNlUGF0aDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSBjb25zdW1lcyBzdHJpbmdbXSBtaW1lLXR5cGVzXG4gICAgICogQHJldHVybiB0cnVlOiBjb25zdW1lcyBjb250YWlucyAnbXVsdGlwYXJ0L2Zvcm0tZGF0YScsIGZhbHNlOiBvdGhlcndpc2VcbiAgICAgKi9cbiAgICBwcml2YXRlIGNhbkNvbnN1bWVGb3JtKGNvbnN1bWVzOiBzdHJpbmdbXSk6IGJvb2xlYW4ge1xuICAgICAgICBjb25zdCBmb3JtID0gJ211bHRpcGFydC9mb3JtLWRhdGEnO1xuICAgICAgICBmb3IgKGNvbnN0IGNvbnN1bWUgb2YgY29uc3VtZXMpIHtcbiAgICAgICAgICAgIGlmIChmb3JtID09PSBjb25zdW1lKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogZXhwb3J0R3JhbnRTZWFyY2hSZXN1bHRzXG4gICAgICogXG4gICAgICogQHBhcmFtIHJlbWFpbmluZ1BhcmFtcyByZW1haW5pbmdQYXJhbXNcbiAgICAgKiBAcGFyYW0gYWNjZXNzaW9uTnVtIFxuICAgICAqIEBwYXJhbSBhY3RpdmVTZWdtZW50cyBcbiAgICAgKiBAcGFyYW0gYXBwbElkcyBcbiAgICAgKiBAcGFyYW0gYXBwbFN0YXR1c0dyb3VwQ29kZSBcbiAgICAgKiBAcGFyYW0gYXJhTWF0Y2hTdGF0dXMgXG4gICAgICogQHBhcmFtIGNhbmNlckFjdGl2aXRpZXMgXG4gICAgICogQHBhcmFtIGNvbXBvc2VkR3JhbnROdW1iZXIgXG4gICAgICogQHBhcmFtIGR1YWxDYXMgXG4gICAgICogQHBhcmFtIGZvcm1lckdyYW50TnVtYmVyIFxuICAgICAqIEBwYXJhbSBmeUZyb20gXG4gICAgICogQHBhcmFtIGZ5VG8gXG4gICAgICogQHBhcmFtIGdyYW50SWMgXG4gICAgICogQHBhcmFtIGdyYW50TWVjaCBcbiAgICAgKiBAcGFyYW0gZ3JhbnRTZXJpYWwgXG4gICAgICogQHBhcmFtIGdyYW50U3VmZml4IFxuICAgICAqIEBwYXJhbSBncmFudHNXaXRDYSBcbiAgICAgKiBAcGFyYW0gZ3JhbnRUeXBlIFxuICAgICAqIEBwYXJhbSBncmFudFllYXIgXG4gICAgICogQHBhcmFtIGdyb3VwQ29kZSBcbiAgICAgKiBAcGFyYW0gaW5jbHVkZURlbGV0ZWQgXG4gICAgICogQHBhcmFtIGluY2x1ZGVPcnBoYW5zIFxuICAgICAqIEBwYXJhbSBpbnN0aXR1dGlvbiBcbiAgICAgKiBAcGFyYW0gaXJnQ29kZSBcbiAgICAgKiBAcGFyYW0gaXJnRmxleENvZGUgXG4gICAgICogQHBhcmFtIG15Q2FuY2VyQWN0aXZpdGllcyBcbiAgICAgKiBAcGFyYW0gbmNhYkZyb20gXG4gICAgICogQHBhcmFtIG5jYWJUbyBcbiAgICAgKiBAcGFyYW0gbm90aWZ5RmxhZyBcbiAgICAgKiBAcGFyYW0gbnBuSWQgXG4gICAgICogQHBhcmFtIG9yZGVyQnkgb3JkZXJCeVxuICAgICAqIEBwYXJhbSBwZEFzc2lnbm1lbnRTZWFyY2ggXG4gICAgICogQHBhcmFtIHBkSWQgXG4gICAgICogQHBhcmFtIHBpTmFtZSBcbiAgICAgKiBAcGFyYW0gcmVmZXJyYWxPZmZpY2VyIFxuICAgICAqIEBwYXJhbSByZWZlcnJhbFN0YXR1cyBcbiAgICAgKiBAcGFyYW0gcmZhUGFOdW1iZXIgXG4gICAgICogQHBhcmFtIHJvbGUgXG4gICAgICogQHBhcmFtIHJvTnBuSWQgXG4gICAgICogQHBhcmFtIHNlbGVjdEZyb20gXG4gICAgICogQHBhcmFtIHNyYURlc2lnbmF0b3JDb2RlIFxuICAgICAqIEBwYXJhbSBzcmFGbGV4Q29kZSBcbiAgICAgKiBAcGFyYW0gd0JTZWFyY2ggXG4gICAgICogQHBhcmFtIG9ic2VydmUgc2V0IHdoZXRoZXIgb3Igbm90IHRvIHJldHVybiB0aGUgZGF0YSBPYnNlcnZhYmxlIGFzIHRoZSBib2R5LCByZXNwb25zZSBvciBldmVudHMuIGRlZmF1bHRzIHRvIHJldHVybmluZyB0aGUgYm9keS5cbiAgICAgKiBAcGFyYW0gcmVwb3J0UHJvZ3Jlc3MgZmxhZyB0byByZXBvcnQgcmVxdWVzdCBhbmQgcmVzcG9uc2UgcHJvZ3Jlc3MuXG4gICAgICovXG4gICAgcHVibGljIGV4cG9ydEdyYW50U2VhcmNoUmVzdWx0c1VzaW5nR0VUKHJlbWFpbmluZ1BhcmFtczogYW55LCBhY2Nlc3Npb25OdW0/OiBudW1iZXIsIGFjdGl2ZVNlZ21lbnRzPzogYm9vbGVhbiwgYXBwbElkcz86IEFycmF5PG51bWJlcj4sIGFwcGxTdGF0dXNHcm91cENvZGU/OiBBcnJheTxzdHJpbmc+LCBhcmFNYXRjaFN0YXR1cz86IEFycmF5PHN0cmluZz4sIGNhbmNlckFjdGl2aXRpZXM/OiBBcnJheTxzdHJpbmc+LCBjb21wb3NlZEdyYW50TnVtYmVyPzogc3RyaW5nLCBkdWFsQ2FzPzogYm9vbGVhbiwgZm9ybWVyR3JhbnROdW1iZXI/OiBzdHJpbmcsIGZ5RnJvbT86IG51bWJlciwgZnlUbz86IG51bWJlciwgZ3JhbnRJYz86IHN0cmluZywgZ3JhbnRNZWNoPzogc3RyaW5nLCBncmFudFNlcmlhbD86IHN0cmluZywgZ3JhbnRTdWZmaXg/OiBzdHJpbmcsIGdyYW50c1dpdENhPzogYm9vbGVhbiwgZ3JhbnRUeXBlPzogc3RyaW5nLCBncmFudFllYXI/OiBzdHJpbmcsIGdyb3VwQ29kZT86IHN0cmluZywgaW5jbHVkZURlbGV0ZWQ/OiBib29sZWFuLCBpbmNsdWRlT3JwaGFucz86IGJvb2xlYW4sIGluc3RpdHV0aW9uPzogc3RyaW5nLCBpcmdDb2RlPzogc3RyaW5nLCBpcmdGbGV4Q29kZT86IHN0cmluZywgbXlDYW5jZXJBY3Rpdml0aWVzPzogQXJyYXk8c3RyaW5nPiwgbmNhYkZyb20/OiBzdHJpbmcsIG5jYWJUbz86IHN0cmluZywgbm90aWZ5RmxhZz86IHN0cmluZywgbnBuSWQ/OiBudW1iZXIsIG9yZGVyQnk/OiBzdHJpbmcsIHBkQXNzaWdubWVudFNlYXJjaD86IGJvb2xlYW4sIHBkSWQ/OiBudW1iZXIsIHBpTmFtZT86IHN0cmluZywgcmVmZXJyYWxPZmZpY2VyPzogbnVtYmVyLCByZWZlcnJhbFN0YXR1cz86IEFycmF5PHN0cmluZz4sIHJmYVBhTnVtYmVyPzogQXJyYXk8c3RyaW5nPiwgcm9sZT86IHN0cmluZywgcm9OcG5JZD86IG51bWJlciwgc2VsZWN0RnJvbT86IHN0cmluZywgc3JhRGVzaWduYXRvckNvZGU/OiBzdHJpbmcsIHNyYUZsZXhDb2RlPzogc3RyaW5nLCB3QlNlYXJjaD86IGJvb2xlYW4sIG9ic2VydmU/OiAnYm9keScsIHJlcG9ydFByb2dyZXNzPzogYm9vbGVhbik6IE9ic2VydmFibGU8YW55PjtcbiAgICBwdWJsaWMgZXhwb3J0R3JhbnRTZWFyY2hSZXN1bHRzVXNpbmdHRVQocmVtYWluaW5nUGFyYW1zOiBhbnksIGFjY2Vzc2lvbk51bT86IG51bWJlciwgYWN0aXZlU2VnbWVudHM/OiBib29sZWFuLCBhcHBsSWRzPzogQXJyYXk8bnVtYmVyPiwgYXBwbFN0YXR1c0dyb3VwQ29kZT86IEFycmF5PHN0cmluZz4sIGFyYU1hdGNoU3RhdHVzPzogQXJyYXk8c3RyaW5nPiwgY2FuY2VyQWN0aXZpdGllcz86IEFycmF5PHN0cmluZz4sIGNvbXBvc2VkR3JhbnROdW1iZXI/OiBzdHJpbmcsIGR1YWxDYXM/OiBib29sZWFuLCBmb3JtZXJHcmFudE51bWJlcj86IHN0cmluZywgZnlGcm9tPzogbnVtYmVyLCBmeVRvPzogbnVtYmVyLCBncmFudEljPzogc3RyaW5nLCBncmFudE1lY2g/OiBzdHJpbmcsIGdyYW50U2VyaWFsPzogc3RyaW5nLCBncmFudFN1ZmZpeD86IHN0cmluZywgZ3JhbnRzV2l0Q2E/OiBib29sZWFuLCBncmFudFR5cGU/OiBzdHJpbmcsIGdyYW50WWVhcj86IHN0cmluZywgZ3JvdXBDb2RlPzogc3RyaW5nLCBpbmNsdWRlRGVsZXRlZD86IGJvb2xlYW4sIGluY2x1ZGVPcnBoYW5zPzogYm9vbGVhbiwgaW5zdGl0dXRpb24/OiBzdHJpbmcsIGlyZ0NvZGU/OiBzdHJpbmcsIGlyZ0ZsZXhDb2RlPzogc3RyaW5nLCBteUNhbmNlckFjdGl2aXRpZXM/OiBBcnJheTxzdHJpbmc+LCBuY2FiRnJvbT86IHN0cmluZywgbmNhYlRvPzogc3RyaW5nLCBub3RpZnlGbGFnPzogc3RyaW5nLCBucG5JZD86IG51bWJlciwgb3JkZXJCeT86IHN0cmluZywgcGRBc3NpZ25tZW50U2VhcmNoPzogYm9vbGVhbiwgcGRJZD86IG51bWJlciwgcGlOYW1lPzogc3RyaW5nLCByZWZlcnJhbE9mZmljZXI/OiBudW1iZXIsIHJlZmVycmFsU3RhdHVzPzogQXJyYXk8c3RyaW5nPiwgcmZhUGFOdW1iZXI/OiBBcnJheTxzdHJpbmc+LCByb2xlPzogc3RyaW5nLCByb05wbklkPzogbnVtYmVyLCBzZWxlY3RGcm9tPzogc3RyaW5nLCBzcmFEZXNpZ25hdG9yQ29kZT86IHN0cmluZywgc3JhRmxleENvZGU/OiBzdHJpbmcsIHdCU2VhcmNoPzogYm9vbGVhbiwgb2JzZXJ2ZT86ICdyZXNwb25zZScsIHJlcG9ydFByb2dyZXNzPzogYm9vbGVhbik6IE9ic2VydmFibGU8SHR0cFJlc3BvbnNlPGFueT4+O1xuICAgIHB1YmxpYyBleHBvcnRHcmFudFNlYXJjaFJlc3VsdHNVc2luZ0dFVChyZW1haW5pbmdQYXJhbXM6IGFueSwgYWNjZXNzaW9uTnVtPzogbnVtYmVyLCBhY3RpdmVTZWdtZW50cz86IGJvb2xlYW4sIGFwcGxJZHM/OiBBcnJheTxudW1iZXI+LCBhcHBsU3RhdHVzR3JvdXBDb2RlPzogQXJyYXk8c3RyaW5nPiwgYXJhTWF0Y2hTdGF0dXM/OiBBcnJheTxzdHJpbmc+LCBjYW5jZXJBY3Rpdml0aWVzPzogQXJyYXk8c3RyaW5nPiwgY29tcG9zZWRHcmFudE51bWJlcj86IHN0cmluZywgZHVhbENhcz86IGJvb2xlYW4sIGZvcm1lckdyYW50TnVtYmVyPzogc3RyaW5nLCBmeUZyb20/OiBudW1iZXIsIGZ5VG8/OiBudW1iZXIsIGdyYW50SWM/OiBzdHJpbmcsIGdyYW50TWVjaD86IHN0cmluZywgZ3JhbnRTZXJpYWw/OiBzdHJpbmcsIGdyYW50U3VmZml4Pzogc3RyaW5nLCBncmFudHNXaXRDYT86IGJvb2xlYW4sIGdyYW50VHlwZT86IHN0cmluZywgZ3JhbnRZZWFyPzogc3RyaW5nLCBncm91cENvZGU/OiBzdHJpbmcsIGluY2x1ZGVEZWxldGVkPzogYm9vbGVhbiwgaW5jbHVkZU9ycGhhbnM/OiBib29sZWFuLCBpbnN0aXR1dGlvbj86IHN0cmluZywgaXJnQ29kZT86IHN0cmluZywgaXJnRmxleENvZGU/OiBzdHJpbmcsIG15Q2FuY2VyQWN0aXZpdGllcz86IEFycmF5PHN0cmluZz4sIG5jYWJGcm9tPzogc3RyaW5nLCBuY2FiVG8/OiBzdHJpbmcsIG5vdGlmeUZsYWc/OiBzdHJpbmcsIG5wbklkPzogbnVtYmVyLCBvcmRlckJ5Pzogc3RyaW5nLCBwZEFzc2lnbm1lbnRTZWFyY2g/OiBib29sZWFuLCBwZElkPzogbnVtYmVyLCBwaU5hbWU/OiBzdHJpbmcsIHJlZmVycmFsT2ZmaWNlcj86IG51bWJlciwgcmVmZXJyYWxTdGF0dXM/OiBBcnJheTxzdHJpbmc+LCByZmFQYU51bWJlcj86IEFycmF5PHN0cmluZz4sIHJvbGU/OiBzdHJpbmcsIHJvTnBuSWQ/OiBudW1iZXIsIHNlbGVjdEZyb20/OiBzdHJpbmcsIHNyYURlc2lnbmF0b3JDb2RlPzogc3RyaW5nLCBzcmFGbGV4Q29kZT86IHN0cmluZywgd0JTZWFyY2g/OiBib29sZWFuLCBvYnNlcnZlPzogJ2V2ZW50cycsIHJlcG9ydFByb2dyZXNzPzogYm9vbGVhbik6IE9ic2VydmFibGU8SHR0cEV2ZW50PGFueT4+O1xuICAgIHB1YmxpYyBleHBvcnRHcmFudFNlYXJjaFJlc3VsdHNVc2luZ0dFVChyZW1haW5pbmdQYXJhbXM6IGFueSwgYWNjZXNzaW9uTnVtPzogbnVtYmVyLCBhY3RpdmVTZWdtZW50cz86IGJvb2xlYW4sIGFwcGxJZHM/OiBBcnJheTxudW1iZXI+LCBhcHBsU3RhdHVzR3JvdXBDb2RlPzogQXJyYXk8c3RyaW5nPiwgYXJhTWF0Y2hTdGF0dXM/OiBBcnJheTxzdHJpbmc+LCBjYW5jZXJBY3Rpdml0aWVzPzogQXJyYXk8c3RyaW5nPiwgY29tcG9zZWRHcmFudE51bWJlcj86IHN0cmluZywgZHVhbENhcz86IGJvb2xlYW4sIGZvcm1lckdyYW50TnVtYmVyPzogc3RyaW5nLCBmeUZyb20/OiBudW1iZXIsIGZ5VG8/OiBudW1iZXIsIGdyYW50SWM/OiBzdHJpbmcsIGdyYW50TWVjaD86IHN0cmluZywgZ3JhbnRTZXJpYWw/OiBzdHJpbmcsIGdyYW50U3VmZml4Pzogc3RyaW5nLCBncmFudHNXaXRDYT86IGJvb2xlYW4sIGdyYW50VHlwZT86IHN0cmluZywgZ3JhbnRZZWFyPzogc3RyaW5nLCBncm91cENvZGU/OiBzdHJpbmcsIGluY2x1ZGVEZWxldGVkPzogYm9vbGVhbiwgaW5jbHVkZU9ycGhhbnM/OiBib29sZWFuLCBpbnN0aXR1dGlvbj86IHN0cmluZywgaXJnQ29kZT86IHN0cmluZywgaXJnRmxleENvZGU/OiBzdHJpbmcsIG15Q2FuY2VyQWN0aXZpdGllcz86IEFycmF5PHN0cmluZz4sIG5jYWJGcm9tPzogc3RyaW5nLCBuY2FiVG8/OiBzdHJpbmcsIG5vdGlmeUZsYWc/OiBzdHJpbmcsIG5wbklkPzogbnVtYmVyLCBvcmRlckJ5Pzogc3RyaW5nLCBwZEFzc2lnbm1lbnRTZWFyY2g/OiBib29sZWFuLCBwZElkPzogbnVtYmVyLCBwaU5hbWU/OiBzdHJpbmcsIHJlZmVycmFsT2ZmaWNlcj86IG51bWJlciwgcmVmZXJyYWxTdGF0dXM/OiBBcnJheTxzdHJpbmc+LCByZmFQYU51bWJlcj86IEFycmF5PHN0cmluZz4sIHJvbGU/OiBzdHJpbmcsIHJvTnBuSWQ/OiBudW1iZXIsIHNlbGVjdEZyb20/OiBzdHJpbmcsIHNyYURlc2lnbmF0b3JDb2RlPzogc3RyaW5nLCBzcmFGbGV4Q29kZT86IHN0cmluZywgd0JTZWFyY2g/OiBib29sZWFuLCBvYnNlcnZlOiBhbnkgPSAnYm9keScsIHJlcG9ydFByb2dyZXNzOiBib29sZWFuID0gZmFsc2UgKTogT2JzZXJ2YWJsZTxhbnk+IHtcblxuICAgICAgICBpZiAocmVtYWluaW5nUGFyYW1zID09PSBudWxsIHx8IHJlbWFpbmluZ1BhcmFtcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciByZW1haW5pbmdQYXJhbXMgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBleHBvcnRHcmFudFNlYXJjaFJlc3VsdHNVc2luZ0dFVC4nKTtcbiAgICAgICAgfVxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4gICAgICAgIGxldCBxdWVyeVBhcmFtZXRlcnMgPSBuZXcgSHR0cFBhcmFtcyh7ZW5jb2RlcjogbmV3IEN1c3RvbUh0dHBVcmxFbmNvZGluZ0NvZGVjKCl9KTtcbiAgICAgICAgaWYgKGFjY2Vzc2lvbk51bSAhPT0gdW5kZWZpbmVkICYmIGFjY2Vzc2lvbk51bSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gcXVlcnlQYXJhbWV0ZXJzLnNldCgnYWNjZXNzaW9uTnVtJywgPGFueT5hY2Nlc3Npb25OdW0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhY3RpdmVTZWdtZW50cyAhPT0gdW5kZWZpbmVkICYmIGFjdGl2ZVNlZ21lbnRzICE9PSBudWxsKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSBxdWVyeVBhcmFtZXRlcnMuc2V0KCdhY3RpdmVTZWdtZW50cycsIDxhbnk+YWN0aXZlU2VnbWVudHMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhcHBsSWRzKSB7XG4gICAgICAgICAgICBhcHBsSWRzLmZvckVhY2goKGVsZW1lbnQpID0+IHtcbiAgICAgICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSBxdWVyeVBhcmFtZXRlcnMuYXBwZW5kKCdhcHBsSWRzJywgPGFueT5lbGVtZW50KTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgICAgaWYgKGFwcGxTdGF0dXNHcm91cENvZGUpIHtcbiAgICAgICAgICAgIGFwcGxTdGF0dXNHcm91cENvZGUuZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xuICAgICAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycyA9IHF1ZXJ5UGFyYW1ldGVycy5hcHBlbmQoJ2FwcGxTdGF0dXNHcm91cENvZGUnLCA8YW55PmVsZW1lbnQpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgICBpZiAoYXJhTWF0Y2hTdGF0dXMpIHtcbiAgICAgICAgICAgIGFyYU1hdGNoU3RhdHVzLmZvckVhY2goKGVsZW1lbnQpID0+IHtcbiAgICAgICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSBxdWVyeVBhcmFtZXRlcnMuYXBwZW5kKCdhcmFNYXRjaFN0YXR1cycsIDxhbnk+ZWxlbWVudCk7XG4gICAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICAgIGlmIChjYW5jZXJBY3Rpdml0aWVzKSB7XG4gICAgICAgICAgICBjYW5jZXJBY3Rpdml0aWVzLmZvckVhY2goKGVsZW1lbnQpID0+IHtcbiAgICAgICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSBxdWVyeVBhcmFtZXRlcnMuYXBwZW5kKCdjYW5jZXJBY3Rpdml0aWVzJywgPGFueT5lbGVtZW50KTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbXBvc2VkR3JhbnROdW1iZXIgIT09IHVuZGVmaW5lZCAmJiBjb21wb3NlZEdyYW50TnVtYmVyICE9PSBudWxsKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSBxdWVyeVBhcmFtZXRlcnMuc2V0KCdjb21wb3NlZEdyYW50TnVtYmVyJywgPGFueT5jb21wb3NlZEdyYW50TnVtYmVyKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZHVhbENhcyAhPT0gdW5kZWZpbmVkICYmIGR1YWxDYXMgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycyA9IHF1ZXJ5UGFyYW1ldGVycy5zZXQoJ2R1YWxDYXMnLCA8YW55PmR1YWxDYXMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmb3JtZXJHcmFudE51bWJlciAhPT0gdW5kZWZpbmVkICYmIGZvcm1lckdyYW50TnVtYmVyICE9PSBudWxsKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSBxdWVyeVBhcmFtZXRlcnMuc2V0KCdmb3JtZXJHcmFudE51bWJlcicsIDxhbnk+Zm9ybWVyR3JhbnROdW1iZXIpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmeUZyb20gIT09IHVuZGVmaW5lZCAmJiBmeUZyb20gIT09IG51bGwpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycyA9IHF1ZXJ5UGFyYW1ldGVycy5zZXQoJ2Z5RnJvbScsIDxhbnk+ZnlGcm9tKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZnlUbyAhPT0gdW5kZWZpbmVkICYmIGZ5VG8gIT09IG51bGwpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycyA9IHF1ZXJ5UGFyYW1ldGVycy5zZXQoJ2Z5VG8nLCA8YW55PmZ5VG8pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChncmFudEljICE9PSB1bmRlZmluZWQgJiYgZ3JhbnRJYyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gcXVlcnlQYXJhbWV0ZXJzLnNldCgnZ3JhbnRJYycsIDxhbnk+Z3JhbnRJYyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGdyYW50TWVjaCAhPT0gdW5kZWZpbmVkICYmIGdyYW50TWVjaCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gcXVlcnlQYXJhbWV0ZXJzLnNldCgnZ3JhbnRNZWNoJywgPGFueT5ncmFudE1lY2gpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChncmFudFNlcmlhbCAhPT0gdW5kZWZpbmVkICYmIGdyYW50U2VyaWFsICE9PSBudWxsKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSBxdWVyeVBhcmFtZXRlcnMuc2V0KCdncmFudFNlcmlhbCcsIDxhbnk+Z3JhbnRTZXJpYWwpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChncmFudFN1ZmZpeCAhPT0gdW5kZWZpbmVkICYmIGdyYW50U3VmZml4ICE9PSBudWxsKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSBxdWVyeVBhcmFtZXRlcnMuc2V0KCdncmFudFN1ZmZpeCcsIDxhbnk+Z3JhbnRTdWZmaXgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChncmFudHNXaXRDYSAhPT0gdW5kZWZpbmVkICYmIGdyYW50c1dpdENhICE9PSBudWxsKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSBxdWVyeVBhcmFtZXRlcnMuc2V0KCdncmFudHNXaXRDYScsIDxhbnk+Z3JhbnRzV2l0Q2EpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChncmFudFR5cGUgIT09IHVuZGVmaW5lZCAmJiBncmFudFR5cGUgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycyA9IHF1ZXJ5UGFyYW1ldGVycy5zZXQoJ2dyYW50VHlwZScsIDxhbnk+Z3JhbnRUeXBlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZ3JhbnRZZWFyICE9PSB1bmRlZmluZWQgJiYgZ3JhbnRZZWFyICE9PSBudWxsKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSBxdWVyeVBhcmFtZXRlcnMuc2V0KCdncmFudFllYXInLCA8YW55PmdyYW50WWVhcik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGdyb3VwQ29kZSAhPT0gdW5kZWZpbmVkICYmIGdyb3VwQ29kZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gcXVlcnlQYXJhbWV0ZXJzLnNldCgnZ3JvdXBDb2RlJywgPGFueT5ncm91cENvZGUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbmNsdWRlRGVsZXRlZCAhPT0gdW5kZWZpbmVkICYmIGluY2x1ZGVEZWxldGVkICE9PSBudWxsKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSBxdWVyeVBhcmFtZXRlcnMuc2V0KCdpbmNsdWRlRGVsZXRlZCcsIDxhbnk+aW5jbHVkZURlbGV0ZWQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbmNsdWRlT3JwaGFucyAhPT0gdW5kZWZpbmVkICYmIGluY2x1ZGVPcnBoYW5zICE9PSBudWxsKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSBxdWVyeVBhcmFtZXRlcnMuc2V0KCdpbmNsdWRlT3JwaGFucycsIDxhbnk+aW5jbHVkZU9ycGhhbnMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbnN0aXR1dGlvbiAhPT0gdW5kZWZpbmVkICYmIGluc3RpdHV0aW9uICE9PSBudWxsKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSBxdWVyeVBhcmFtZXRlcnMuc2V0KCdpbnN0aXR1dGlvbicsIDxhbnk+aW5zdGl0dXRpb24pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpcmdDb2RlICE9PSB1bmRlZmluZWQgJiYgaXJnQ29kZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gcXVlcnlQYXJhbWV0ZXJzLnNldCgnaXJnQ29kZScsIDxhbnk+aXJnQ29kZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlyZ0ZsZXhDb2RlICE9PSB1bmRlZmluZWQgJiYgaXJnRmxleENvZGUgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycyA9IHF1ZXJ5UGFyYW1ldGVycy5zZXQoJ2lyZ0ZsZXhDb2RlJywgPGFueT5pcmdGbGV4Q29kZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG15Q2FuY2VyQWN0aXZpdGllcykge1xuICAgICAgICAgICAgbXlDYW5jZXJBY3Rpdml0aWVzLmZvckVhY2goKGVsZW1lbnQpID0+IHtcbiAgICAgICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSBxdWVyeVBhcmFtZXRlcnMuYXBwZW5kKCdteUNhbmNlckFjdGl2aXRpZXMnLCA8YW55PmVsZW1lbnQpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgICBpZiAobmNhYkZyb20gIT09IHVuZGVmaW5lZCAmJiBuY2FiRnJvbSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gcXVlcnlQYXJhbWV0ZXJzLnNldCgnbmNhYkZyb20nLCA8YW55Pm5jYWJGcm9tKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobmNhYlRvICE9PSB1bmRlZmluZWQgJiYgbmNhYlRvICE9PSBudWxsKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSBxdWVyeVBhcmFtZXRlcnMuc2V0KCduY2FiVG8nLCA8YW55Pm5jYWJUbyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5vdGlmeUZsYWcgIT09IHVuZGVmaW5lZCAmJiBub3RpZnlGbGFnICE9PSBudWxsKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSBxdWVyeVBhcmFtZXRlcnMuc2V0KCdub3RpZnlGbGFnJywgPGFueT5ub3RpZnlGbGFnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobnBuSWQgIT09IHVuZGVmaW5lZCAmJiBucG5JZCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gcXVlcnlQYXJhbWV0ZXJzLnNldCgnbnBuSWQnLCA8YW55Pm5wbklkKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3JkZXJCeSAhPT0gdW5kZWZpbmVkICYmIG9yZGVyQnkgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycyA9IHF1ZXJ5UGFyYW1ldGVycy5zZXQoJ29yZGVyQnknLCA8YW55Pm9yZGVyQnkpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwZEFzc2lnbm1lbnRTZWFyY2ggIT09IHVuZGVmaW5lZCAmJiBwZEFzc2lnbm1lbnRTZWFyY2ggIT09IG51bGwpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycyA9IHF1ZXJ5UGFyYW1ldGVycy5zZXQoJ3BkQXNzaWdubWVudFNlYXJjaCcsIDxhbnk+cGRBc3NpZ25tZW50U2VhcmNoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGRJZCAhPT0gdW5kZWZpbmVkICYmIHBkSWQgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycyA9IHF1ZXJ5UGFyYW1ldGVycy5zZXQoJ3BkSWQnLCA8YW55PnBkSWQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwaU5hbWUgIT09IHVuZGVmaW5lZCAmJiBwaU5hbWUgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycyA9IHF1ZXJ5UGFyYW1ldGVycy5zZXQoJ3BpTmFtZScsIDxhbnk+cGlOYW1lKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVmZXJyYWxPZmZpY2VyICE9PSB1bmRlZmluZWQgJiYgcmVmZXJyYWxPZmZpY2VyICE9PSBudWxsKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSBxdWVyeVBhcmFtZXRlcnMuc2V0KCdyZWZlcnJhbE9mZmljZXInLCA8YW55PnJlZmVycmFsT2ZmaWNlcik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlZmVycmFsU3RhdHVzKSB7XG4gICAgICAgICAgICByZWZlcnJhbFN0YXR1cy5mb3JFYWNoKChlbGVtZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gcXVlcnlQYXJhbWV0ZXJzLmFwcGVuZCgncmVmZXJyYWxTdGF0dXMnLCA8YW55PmVsZW1lbnQpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVtYWluaW5nUGFyYW1zICE9PSB1bmRlZmluZWQgJiYgcmVtYWluaW5nUGFyYW1zICE9PSBudWxsKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSBxdWVyeVBhcmFtZXRlcnMuc2V0KCdyZW1haW5pbmdQYXJhbXMnLCA8YW55PnJlbWFpbmluZ1BhcmFtcyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJmYVBhTnVtYmVyKSB7XG4gICAgICAgICAgICByZmFQYU51bWJlci5mb3JFYWNoKChlbGVtZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gcXVlcnlQYXJhbWV0ZXJzLmFwcGVuZCgncmZhUGFOdW1iZXInLCA8YW55PmVsZW1lbnQpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgICBpZiAocm9sZSAhPT0gdW5kZWZpbmVkICYmIHJvbGUgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycyA9IHF1ZXJ5UGFyYW1ldGVycy5zZXQoJ3JvbGUnLCA8YW55PnJvbGUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyb05wbklkICE9PSB1bmRlZmluZWQgJiYgcm9OcG5JZCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gcXVlcnlQYXJhbWV0ZXJzLnNldCgncm9OcG5JZCcsIDxhbnk+cm9OcG5JZCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNlbGVjdEZyb20gIT09IHVuZGVmaW5lZCAmJiBzZWxlY3RGcm9tICE9PSBudWxsKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSBxdWVyeVBhcmFtZXRlcnMuc2V0KCdzZWxlY3RGcm9tJywgPGFueT5zZWxlY3RGcm9tKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3JhRGVzaWduYXRvckNvZGUgIT09IHVuZGVmaW5lZCAmJiBzcmFEZXNpZ25hdG9yQ29kZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gcXVlcnlQYXJhbWV0ZXJzLnNldCgnc3JhRGVzaWduYXRvckNvZGUnLCA8YW55PnNyYURlc2lnbmF0b3JDb2RlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3JhRmxleENvZGUgIT09IHVuZGVmaW5lZCAmJiBzcmFGbGV4Q29kZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gcXVlcnlQYXJhbWV0ZXJzLnNldCgnc3JhRmxleENvZGUnLCA8YW55PnNyYUZsZXhDb2RlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAod0JTZWFyY2ggIT09IHVuZGVmaW5lZCAmJiB3QlNlYXJjaCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gcXVlcnlQYXJhbWV0ZXJzLnNldCgnV0JTZWFyY2gnLCA8YW55PndCU2VhcmNoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBoZWFkZXJzID0gdGhpcy5kZWZhdWx0SGVhZGVycztcblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIEFjY2VwdCBoZWFkZXJcbiAgICAgICAgbGV0IGh0dHBIZWFkZXJBY2NlcHRzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgICAgICd0ZXh0L3BsYWluJ1xuICAgICAgICBdO1xuICAgICAgICBjb25zdCBodHRwSGVhZGVyQWNjZXB0U2VsZWN0ZWQ6IHN0cmluZyB8IHVuZGVmaW5lZCA9IHRoaXMuY29uZmlndXJhdGlvbi5zZWxlY3RIZWFkZXJBY2NlcHQoaHR0cEhlYWRlckFjY2VwdHMpO1xuICAgICAgICBpZiAoaHR0cEhlYWRlckFjY2VwdFNlbGVjdGVkICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgaGVhZGVycyA9IGhlYWRlcnMuc2V0KCdBY2NlcHQnLCBodHRwSGVhZGVyQWNjZXB0U2VsZWN0ZWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBDb250ZW50LVR5cGUgaGVhZGVyXG4gICAgICAgIGNvbnN0IGNvbnN1bWVzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgXTtcblxuICAgICAgICByZXR1cm4gdGhpcy5odHRwQ2xpZW50LmdldDxhbnk+KGAke3RoaXMuYmFzZVBhdGh9L2FwaS92MS9leHBvcnQvdHJhbnNmZXItZ3JhbnRzYCxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBwYXJhbXM6IHF1ZXJ5UGFyYW1ldGVycyxcbiAgICAgICAgICAgICAgICB3aXRoQ3JlZGVudGlhbHM6IHRoaXMuY29uZmlndXJhdGlvbi53aXRoQ3JlZGVudGlhbHMsXG4gICAgICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgICAgICAgICAgICBvYnNlcnZlOiBvYnNlcnZlLFxuICAgICAgICAgICAgICAgIHJlcG9ydFByb2dyZXNzOiByZXBvcnRQcm9ncmVzc1xuICAgICAgICAgICAgfVxuICAgICAgICApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGV4cG9ydFNlYXJjaFJlc3VsdHNcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gcmVtYWluaW5nUGFyYW1zIHJlbWFpbmluZ1BhcmFtc1xuICAgICAqIEBwYXJhbSBhY2Nlc3Npb25OdW0gXG4gICAgICogQHBhcmFtIGFjdGl2ZVNlZ21lbnRzIFxuICAgICAqIEBwYXJhbSBhcHBsSWRzIFxuICAgICAqIEBwYXJhbSBhcHBsU3RhdHVzR3JvdXBDb2RlIFxuICAgICAqIEBwYXJhbSBhcmFNYXRjaFN0YXR1cyBcbiAgICAgKiBAcGFyYW0gY2FuY2VyQWN0aXZpdGllcyBcbiAgICAgKiBAcGFyYW0gY29tcG9zZWRHcmFudE51bWJlciBcbiAgICAgKiBAcGFyYW0gZHVhbENhcyBcbiAgICAgKiBAcGFyYW0gZm9ybWVyR3JhbnROdW1iZXIgXG4gICAgICogQHBhcmFtIGZ5RnJvbSBcbiAgICAgKiBAcGFyYW0gZnlUbyBcbiAgICAgKiBAcGFyYW0gZ3JhbnRJYyBcbiAgICAgKiBAcGFyYW0gZ3JhbnRNZWNoIFxuICAgICAqIEBwYXJhbSBncmFudFNlcmlhbCBcbiAgICAgKiBAcGFyYW0gZ3JhbnRTdWZmaXggXG4gICAgICogQHBhcmFtIGdyYW50c1dpdENhIFxuICAgICAqIEBwYXJhbSBncmFudFR5cGUgXG4gICAgICogQHBhcmFtIGdyYW50WWVhciBcbiAgICAgKiBAcGFyYW0gZ3JvdXBDb2RlIFxuICAgICAqIEBwYXJhbSBpbmNsdWRlRGVsZXRlZCBcbiAgICAgKiBAcGFyYW0gaW5jbHVkZU9ycGhhbnMgXG4gICAgICogQHBhcmFtIGluc3RpdHV0aW9uIFxuICAgICAqIEBwYXJhbSBpcmdDb2RlIFxuICAgICAqIEBwYXJhbSBpcmdGbGV4Q29kZSBcbiAgICAgKiBAcGFyYW0gbXlDYW5jZXJBY3Rpdml0aWVzIFxuICAgICAqIEBwYXJhbSBuY2FiRnJvbSBcbiAgICAgKiBAcGFyYW0gbmNhYlRvIFxuICAgICAqIEBwYXJhbSBub3RpZnlGbGFnIFxuICAgICAqIEBwYXJhbSBucG5JZCBcbiAgICAgKiBAcGFyYW0gb3JkZXJCeSBvcmRlckJ5XG4gICAgICogQHBhcmFtIHBkQXNzaWdubWVudFNlYXJjaCBcbiAgICAgKiBAcGFyYW0gcGRJZCBcbiAgICAgKiBAcGFyYW0gcGlOYW1lIFxuICAgICAqIEBwYXJhbSByZWZlcnJhbE9mZmljZXIgXG4gICAgICogQHBhcmFtIHJlZmVycmFsU3RhdHVzIFxuICAgICAqIEBwYXJhbSByZmFQYU51bWJlciBcbiAgICAgKiBAcGFyYW0gcm9sZSBcbiAgICAgKiBAcGFyYW0gcm9OcG5JZCBcbiAgICAgKiBAcGFyYW0gc2VsZWN0RnJvbSBcbiAgICAgKiBAcGFyYW0gc3JhRGVzaWduYXRvckNvZGUgXG4gICAgICogQHBhcmFtIHNyYUZsZXhDb2RlIFxuICAgICAqIEBwYXJhbSB3QlNlYXJjaCBcbiAgICAgKiBAcGFyYW0gb2JzZXJ2ZSBzZXQgd2hldGhlciBvciBub3QgdG8gcmV0dXJuIHRoZSBkYXRhIE9ic2VydmFibGUgYXMgdGhlIGJvZHksIHJlc3BvbnNlIG9yIGV2ZW50cy4gZGVmYXVsdHMgdG8gcmV0dXJuaW5nIHRoZSBib2R5LlxuICAgICAqIEBwYXJhbSByZXBvcnRQcm9ncmVzcyBmbGFnIHRvIHJlcG9ydCByZXF1ZXN0IGFuZCByZXNwb25zZSBwcm9ncmVzcy5cbiAgICAgKi9cbiAgICBwdWJsaWMgZXhwb3J0U2VhcmNoUmVzdWx0c1VzaW5nR0VUKHJlbWFpbmluZ1BhcmFtczogYW55LCBhY2Nlc3Npb25OdW0/OiBudW1iZXIsIGFjdGl2ZVNlZ21lbnRzPzogYm9vbGVhbiwgYXBwbElkcz86IEFycmF5PG51bWJlcj4sIGFwcGxTdGF0dXNHcm91cENvZGU/OiBBcnJheTxzdHJpbmc+LCBhcmFNYXRjaFN0YXR1cz86IEFycmF5PHN0cmluZz4sIGNhbmNlckFjdGl2aXRpZXM/OiBBcnJheTxzdHJpbmc+LCBjb21wb3NlZEdyYW50TnVtYmVyPzogc3RyaW5nLCBkdWFsQ2FzPzogYm9vbGVhbiwgZm9ybWVyR3JhbnROdW1iZXI/OiBzdHJpbmcsIGZ5RnJvbT86IG51bWJlciwgZnlUbz86IG51bWJlciwgZ3JhbnRJYz86IHN0cmluZywgZ3JhbnRNZWNoPzogc3RyaW5nLCBncmFudFNlcmlhbD86IHN0cmluZywgZ3JhbnRTdWZmaXg/OiBzdHJpbmcsIGdyYW50c1dpdENhPzogYm9vbGVhbiwgZ3JhbnRUeXBlPzogc3RyaW5nLCBncmFudFllYXI/OiBzdHJpbmcsIGdyb3VwQ29kZT86IHN0cmluZywgaW5jbHVkZURlbGV0ZWQ/OiBib29sZWFuLCBpbmNsdWRlT3JwaGFucz86IGJvb2xlYW4sIGluc3RpdHV0aW9uPzogc3RyaW5nLCBpcmdDb2RlPzogc3RyaW5nLCBpcmdGbGV4Q29kZT86IHN0cmluZywgbXlDYW5jZXJBY3Rpdml0aWVzPzogQXJyYXk8c3RyaW5nPiwgbmNhYkZyb20/OiBzdHJpbmcsIG5jYWJUbz86IHN0cmluZywgbm90aWZ5RmxhZz86IHN0cmluZywgbnBuSWQ/OiBudW1iZXIsIG9yZGVyQnk/OiBzdHJpbmcsIHBkQXNzaWdubWVudFNlYXJjaD86IGJvb2xlYW4sIHBkSWQ/OiBudW1iZXIsIHBpTmFtZT86IHN0cmluZywgcmVmZXJyYWxPZmZpY2VyPzogbnVtYmVyLCByZWZlcnJhbFN0YXR1cz86IEFycmF5PHN0cmluZz4sIHJmYVBhTnVtYmVyPzogQXJyYXk8c3RyaW5nPiwgcm9sZT86IHN0cmluZywgcm9OcG5JZD86IG51bWJlciwgc2VsZWN0RnJvbT86IHN0cmluZywgc3JhRGVzaWduYXRvckNvZGU/OiBzdHJpbmcsIHNyYUZsZXhDb2RlPzogc3RyaW5nLCB3QlNlYXJjaD86IGJvb2xlYW4sIG9ic2VydmU/OiAnYm9keScsIHJlcG9ydFByb2dyZXNzPzogYm9vbGVhbik6IE9ic2VydmFibGU8YW55PjtcbiAgICBwdWJsaWMgZXhwb3J0U2VhcmNoUmVzdWx0c1VzaW5nR0VUKHJlbWFpbmluZ1BhcmFtczogYW55LCBhY2Nlc3Npb25OdW0/OiBudW1iZXIsIGFjdGl2ZVNlZ21lbnRzPzogYm9vbGVhbiwgYXBwbElkcz86IEFycmF5PG51bWJlcj4sIGFwcGxTdGF0dXNHcm91cENvZGU/OiBBcnJheTxzdHJpbmc+LCBhcmFNYXRjaFN0YXR1cz86IEFycmF5PHN0cmluZz4sIGNhbmNlckFjdGl2aXRpZXM/OiBBcnJheTxzdHJpbmc+LCBjb21wb3NlZEdyYW50TnVtYmVyPzogc3RyaW5nLCBkdWFsQ2FzPzogYm9vbGVhbiwgZm9ybWVyR3JhbnROdW1iZXI/OiBzdHJpbmcsIGZ5RnJvbT86IG51bWJlciwgZnlUbz86IG51bWJlciwgZ3JhbnRJYz86IHN0cmluZywgZ3JhbnRNZWNoPzogc3RyaW5nLCBncmFudFNlcmlhbD86IHN0cmluZywgZ3JhbnRTdWZmaXg/OiBzdHJpbmcsIGdyYW50c1dpdENhPzogYm9vbGVhbiwgZ3JhbnRUeXBlPzogc3RyaW5nLCBncmFudFllYXI/OiBzdHJpbmcsIGdyb3VwQ29kZT86IHN0cmluZywgaW5jbHVkZURlbGV0ZWQ/OiBib29sZWFuLCBpbmNsdWRlT3JwaGFucz86IGJvb2xlYW4sIGluc3RpdHV0aW9uPzogc3RyaW5nLCBpcmdDb2RlPzogc3RyaW5nLCBpcmdGbGV4Q29kZT86IHN0cmluZywgbXlDYW5jZXJBY3Rpdml0aWVzPzogQXJyYXk8c3RyaW5nPiwgbmNhYkZyb20/OiBzdHJpbmcsIG5jYWJUbz86IHN0cmluZywgbm90aWZ5RmxhZz86IHN0cmluZywgbnBuSWQ/OiBudW1iZXIsIG9yZGVyQnk/OiBzdHJpbmcsIHBkQXNzaWdubWVudFNlYXJjaD86IGJvb2xlYW4sIHBkSWQ/OiBudW1iZXIsIHBpTmFtZT86IHN0cmluZywgcmVmZXJyYWxPZmZpY2VyPzogbnVtYmVyLCByZWZlcnJhbFN0YXR1cz86IEFycmF5PHN0cmluZz4sIHJmYVBhTnVtYmVyPzogQXJyYXk8c3RyaW5nPiwgcm9sZT86IHN0cmluZywgcm9OcG5JZD86IG51bWJlciwgc2VsZWN0RnJvbT86IHN0cmluZywgc3JhRGVzaWduYXRvckNvZGU/OiBzdHJpbmcsIHNyYUZsZXhDb2RlPzogc3RyaW5nLCB3QlNlYXJjaD86IGJvb2xlYW4sIG9ic2VydmU/OiAncmVzcG9uc2UnLCByZXBvcnRQcm9ncmVzcz86IGJvb2xlYW4pOiBPYnNlcnZhYmxlPEh0dHBSZXNwb25zZTxhbnk+PjtcbiAgICBwdWJsaWMgZXhwb3J0U2VhcmNoUmVzdWx0c1VzaW5nR0VUKHJlbWFpbmluZ1BhcmFtczogYW55LCBhY2Nlc3Npb25OdW0/OiBudW1iZXIsIGFjdGl2ZVNlZ21lbnRzPzogYm9vbGVhbiwgYXBwbElkcz86IEFycmF5PG51bWJlcj4sIGFwcGxTdGF0dXNHcm91cENvZGU/OiBBcnJheTxzdHJpbmc+LCBhcmFNYXRjaFN0YXR1cz86IEFycmF5PHN0cmluZz4sIGNhbmNlckFjdGl2aXRpZXM/OiBBcnJheTxzdHJpbmc+LCBjb21wb3NlZEdyYW50TnVtYmVyPzogc3RyaW5nLCBkdWFsQ2FzPzogYm9vbGVhbiwgZm9ybWVyR3JhbnROdW1iZXI/OiBzdHJpbmcsIGZ5RnJvbT86IG51bWJlciwgZnlUbz86IG51bWJlciwgZ3JhbnRJYz86IHN0cmluZywgZ3JhbnRNZWNoPzogc3RyaW5nLCBncmFudFNlcmlhbD86IHN0cmluZywgZ3JhbnRTdWZmaXg/OiBzdHJpbmcsIGdyYW50c1dpdENhPzogYm9vbGVhbiwgZ3JhbnRUeXBlPzogc3RyaW5nLCBncmFudFllYXI/OiBzdHJpbmcsIGdyb3VwQ29kZT86IHN0cmluZywgaW5jbHVkZURlbGV0ZWQ/OiBib29sZWFuLCBpbmNsdWRlT3JwaGFucz86IGJvb2xlYW4sIGluc3RpdHV0aW9uPzogc3RyaW5nLCBpcmdDb2RlPzogc3RyaW5nLCBpcmdGbGV4Q29kZT86IHN0cmluZywgbXlDYW5jZXJBY3Rpdml0aWVzPzogQXJyYXk8c3RyaW5nPiwgbmNhYkZyb20/OiBzdHJpbmcsIG5jYWJUbz86IHN0cmluZywgbm90aWZ5RmxhZz86IHN0cmluZywgbnBuSWQ/OiBudW1iZXIsIG9yZGVyQnk/OiBzdHJpbmcsIHBkQXNzaWdubWVudFNlYXJjaD86IGJvb2xlYW4sIHBkSWQ/OiBudW1iZXIsIHBpTmFtZT86IHN0cmluZywgcmVmZXJyYWxPZmZpY2VyPzogbnVtYmVyLCByZWZlcnJhbFN0YXR1cz86IEFycmF5PHN0cmluZz4sIHJmYVBhTnVtYmVyPzogQXJyYXk8c3RyaW5nPiwgcm9sZT86IHN0cmluZywgcm9OcG5JZD86IG51bWJlciwgc2VsZWN0RnJvbT86IHN0cmluZywgc3JhRGVzaWduYXRvckNvZGU/OiBzdHJpbmcsIHNyYUZsZXhDb2RlPzogc3RyaW5nLCB3QlNlYXJjaD86IGJvb2xlYW4sIG9ic2VydmU/OiAnZXZlbnRzJywgcmVwb3J0UHJvZ3Jlc3M/OiBib29sZWFuKTogT2JzZXJ2YWJsZTxIdHRwRXZlbnQ8YW55Pj47XG4gICAgcHVibGljIGV4cG9ydFNlYXJjaFJlc3VsdHNVc2luZ0dFVChyZW1haW5pbmdQYXJhbXM6IGFueSwgYWNjZXNzaW9uTnVtPzogbnVtYmVyLCBhY3RpdmVTZWdtZW50cz86IGJvb2xlYW4sIGFwcGxJZHM/OiBBcnJheTxudW1iZXI+LCBhcHBsU3RhdHVzR3JvdXBDb2RlPzogQXJyYXk8c3RyaW5nPiwgYXJhTWF0Y2hTdGF0dXM/OiBBcnJheTxzdHJpbmc+LCBjYW5jZXJBY3Rpdml0aWVzPzogQXJyYXk8c3RyaW5nPiwgY29tcG9zZWRHcmFudE51bWJlcj86IHN0cmluZywgZHVhbENhcz86IGJvb2xlYW4sIGZvcm1lckdyYW50TnVtYmVyPzogc3RyaW5nLCBmeUZyb20/OiBudW1iZXIsIGZ5VG8/OiBudW1iZXIsIGdyYW50SWM/OiBzdHJpbmcsIGdyYW50TWVjaD86IHN0cmluZywgZ3JhbnRTZXJpYWw/OiBzdHJpbmcsIGdyYW50U3VmZml4Pzogc3RyaW5nLCBncmFudHNXaXRDYT86IGJvb2xlYW4sIGdyYW50VHlwZT86IHN0cmluZywgZ3JhbnRZZWFyPzogc3RyaW5nLCBncm91cENvZGU/OiBzdHJpbmcsIGluY2x1ZGVEZWxldGVkPzogYm9vbGVhbiwgaW5jbHVkZU9ycGhhbnM/OiBib29sZWFuLCBpbnN0aXR1dGlvbj86IHN0cmluZywgaXJnQ29kZT86IHN0cmluZywgaXJnRmxleENvZGU/OiBzdHJpbmcsIG15Q2FuY2VyQWN0aXZpdGllcz86IEFycmF5PHN0cmluZz4sIG5jYWJGcm9tPzogc3RyaW5nLCBuY2FiVG8/OiBzdHJpbmcsIG5vdGlmeUZsYWc/OiBzdHJpbmcsIG5wbklkPzogbnVtYmVyLCBvcmRlckJ5Pzogc3RyaW5nLCBwZEFzc2lnbm1lbnRTZWFyY2g/OiBib29sZWFuLCBwZElkPzogbnVtYmVyLCBwaU5hbWU/OiBzdHJpbmcsIHJlZmVycmFsT2ZmaWNlcj86IG51bWJlciwgcmVmZXJyYWxTdGF0dXM/OiBBcnJheTxzdHJpbmc+LCByZmFQYU51bWJlcj86IEFycmF5PHN0cmluZz4sIHJvbGU/OiBzdHJpbmcsIHJvTnBuSWQ/OiBudW1iZXIsIHNlbGVjdEZyb20/OiBzdHJpbmcsIHNyYURlc2lnbmF0b3JDb2RlPzogc3RyaW5nLCBzcmFGbGV4Q29kZT86IHN0cmluZywgd0JTZWFyY2g/OiBib29sZWFuLCBvYnNlcnZlOiBhbnkgPSAnYm9keScsIHJlcG9ydFByb2dyZXNzOiBib29sZWFuID0gZmFsc2UgKTogT2JzZXJ2YWJsZTxhbnk+IHtcblxuICAgICAgICBpZiAocmVtYWluaW5nUGFyYW1zID09PSBudWxsIHx8IHJlbWFpbmluZ1BhcmFtcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciByZW1haW5pbmdQYXJhbXMgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBleHBvcnRTZWFyY2hSZXN1bHRzVXNpbmdHRVQuJyk7XG4gICAgICAgIH1cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuICAgICAgICBsZXQgcXVlcnlQYXJhbWV0ZXJzID0gbmV3IEh0dHBQYXJhbXMoe2VuY29kZXI6IG5ldyBDdXN0b21IdHRwVXJsRW5jb2RpbmdDb2RlYygpfSk7XG4gICAgICAgIGlmIChhY2Nlc3Npb25OdW0gIT09IHVuZGVmaW5lZCAmJiBhY2Nlc3Npb25OdW0gIT09IG51bGwpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycyA9IHF1ZXJ5UGFyYW1ldGVycy5zZXQoJ2FjY2Vzc2lvbk51bScsIDxhbnk+YWNjZXNzaW9uTnVtKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYWN0aXZlU2VnbWVudHMgIT09IHVuZGVmaW5lZCAmJiBhY3RpdmVTZWdtZW50cyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gcXVlcnlQYXJhbWV0ZXJzLnNldCgnYWN0aXZlU2VnbWVudHMnLCA8YW55PmFjdGl2ZVNlZ21lbnRzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYXBwbElkcykge1xuICAgICAgICAgICAgYXBwbElkcy5mb3JFYWNoKChlbGVtZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gcXVlcnlQYXJhbWV0ZXJzLmFwcGVuZCgnYXBwbElkcycsIDxhbnk+ZWxlbWVudCk7XG4gICAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICAgIGlmIChhcHBsU3RhdHVzR3JvdXBDb2RlKSB7XG4gICAgICAgICAgICBhcHBsU3RhdHVzR3JvdXBDb2RlLmZvckVhY2goKGVsZW1lbnQpID0+IHtcbiAgICAgICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSBxdWVyeVBhcmFtZXRlcnMuYXBwZW5kKCdhcHBsU3RhdHVzR3JvdXBDb2RlJywgPGFueT5lbGVtZW50KTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgICAgaWYgKGFyYU1hdGNoU3RhdHVzKSB7XG4gICAgICAgICAgICBhcmFNYXRjaFN0YXR1cy5mb3JFYWNoKChlbGVtZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gcXVlcnlQYXJhbWV0ZXJzLmFwcGVuZCgnYXJhTWF0Y2hTdGF0dXMnLCA8YW55PmVsZW1lbnQpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2FuY2VyQWN0aXZpdGllcykge1xuICAgICAgICAgICAgY2FuY2VyQWN0aXZpdGllcy5mb3JFYWNoKChlbGVtZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gcXVlcnlQYXJhbWV0ZXJzLmFwcGVuZCgnY2FuY2VyQWN0aXZpdGllcycsIDxhbnk+ZWxlbWVudCk7XG4gICAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICAgIGlmIChjb21wb3NlZEdyYW50TnVtYmVyICE9PSB1bmRlZmluZWQgJiYgY29tcG9zZWRHcmFudE51bWJlciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gcXVlcnlQYXJhbWV0ZXJzLnNldCgnY29tcG9zZWRHcmFudE51bWJlcicsIDxhbnk+Y29tcG9zZWRHcmFudE51bWJlcik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGR1YWxDYXMgIT09IHVuZGVmaW5lZCAmJiBkdWFsQ2FzICE9PSBudWxsKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSBxdWVyeVBhcmFtZXRlcnMuc2V0KCdkdWFsQ2FzJywgPGFueT5kdWFsQ2FzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZm9ybWVyR3JhbnROdW1iZXIgIT09IHVuZGVmaW5lZCAmJiBmb3JtZXJHcmFudE51bWJlciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gcXVlcnlQYXJhbWV0ZXJzLnNldCgnZm9ybWVyR3JhbnROdW1iZXInLCA8YW55PmZvcm1lckdyYW50TnVtYmVyKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZnlGcm9tICE9PSB1bmRlZmluZWQgJiYgZnlGcm9tICE9PSBudWxsKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSBxdWVyeVBhcmFtZXRlcnMuc2V0KCdmeUZyb20nLCA8YW55PmZ5RnJvbSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZ5VG8gIT09IHVuZGVmaW5lZCAmJiBmeVRvICE9PSBudWxsKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSBxdWVyeVBhcmFtZXRlcnMuc2V0KCdmeVRvJywgPGFueT5meVRvKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZ3JhbnRJYyAhPT0gdW5kZWZpbmVkICYmIGdyYW50SWMgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycyA9IHF1ZXJ5UGFyYW1ldGVycy5zZXQoJ2dyYW50SWMnLCA8YW55PmdyYW50SWMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChncmFudE1lY2ggIT09IHVuZGVmaW5lZCAmJiBncmFudE1lY2ggIT09IG51bGwpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycyA9IHF1ZXJ5UGFyYW1ldGVycy5zZXQoJ2dyYW50TWVjaCcsIDxhbnk+Z3JhbnRNZWNoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZ3JhbnRTZXJpYWwgIT09IHVuZGVmaW5lZCAmJiBncmFudFNlcmlhbCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gcXVlcnlQYXJhbWV0ZXJzLnNldCgnZ3JhbnRTZXJpYWwnLCA8YW55PmdyYW50U2VyaWFsKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZ3JhbnRTdWZmaXggIT09IHVuZGVmaW5lZCAmJiBncmFudFN1ZmZpeCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gcXVlcnlQYXJhbWV0ZXJzLnNldCgnZ3JhbnRTdWZmaXgnLCA8YW55PmdyYW50U3VmZml4KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZ3JhbnRzV2l0Q2EgIT09IHVuZGVmaW5lZCAmJiBncmFudHNXaXRDYSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gcXVlcnlQYXJhbWV0ZXJzLnNldCgnZ3JhbnRzV2l0Q2EnLCA8YW55PmdyYW50c1dpdENhKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZ3JhbnRUeXBlICE9PSB1bmRlZmluZWQgJiYgZ3JhbnRUeXBlICE9PSBudWxsKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSBxdWVyeVBhcmFtZXRlcnMuc2V0KCdncmFudFR5cGUnLCA8YW55PmdyYW50VHlwZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGdyYW50WWVhciAhPT0gdW5kZWZpbmVkICYmIGdyYW50WWVhciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gcXVlcnlQYXJhbWV0ZXJzLnNldCgnZ3JhbnRZZWFyJywgPGFueT5ncmFudFllYXIpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChncm91cENvZGUgIT09IHVuZGVmaW5lZCAmJiBncm91cENvZGUgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycyA9IHF1ZXJ5UGFyYW1ldGVycy5zZXQoJ2dyb3VwQ29kZScsIDxhbnk+Z3JvdXBDb2RlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaW5jbHVkZURlbGV0ZWQgIT09IHVuZGVmaW5lZCAmJiBpbmNsdWRlRGVsZXRlZCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gcXVlcnlQYXJhbWV0ZXJzLnNldCgnaW5jbHVkZURlbGV0ZWQnLCA8YW55PmluY2x1ZGVEZWxldGVkKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaW5jbHVkZU9ycGhhbnMgIT09IHVuZGVmaW5lZCAmJiBpbmNsdWRlT3JwaGFucyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gcXVlcnlQYXJhbWV0ZXJzLnNldCgnaW5jbHVkZU9ycGhhbnMnLCA8YW55PmluY2x1ZGVPcnBoYW5zKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaW5zdGl0dXRpb24gIT09IHVuZGVmaW5lZCAmJiBpbnN0aXR1dGlvbiAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gcXVlcnlQYXJhbWV0ZXJzLnNldCgnaW5zdGl0dXRpb24nLCA8YW55Pmluc3RpdHV0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXJnQ29kZSAhPT0gdW5kZWZpbmVkICYmIGlyZ0NvZGUgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycyA9IHF1ZXJ5UGFyYW1ldGVycy5zZXQoJ2lyZ0NvZGUnLCA8YW55PmlyZ0NvZGUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpcmdGbGV4Q29kZSAhPT0gdW5kZWZpbmVkICYmIGlyZ0ZsZXhDb2RlICE9PSBudWxsKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSBxdWVyeVBhcmFtZXRlcnMuc2V0KCdpcmdGbGV4Q29kZScsIDxhbnk+aXJnRmxleENvZGUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChteUNhbmNlckFjdGl2aXRpZXMpIHtcbiAgICAgICAgICAgIG15Q2FuY2VyQWN0aXZpdGllcy5mb3JFYWNoKChlbGVtZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gcXVlcnlQYXJhbWV0ZXJzLmFwcGVuZCgnbXlDYW5jZXJBY3Rpdml0aWVzJywgPGFueT5lbGVtZW50KTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5jYWJGcm9tICE9PSB1bmRlZmluZWQgJiYgbmNhYkZyb20gIT09IG51bGwpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycyA9IHF1ZXJ5UGFyYW1ldGVycy5zZXQoJ25jYWJGcm9tJywgPGFueT5uY2FiRnJvbSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5jYWJUbyAhPT0gdW5kZWZpbmVkICYmIG5jYWJUbyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gcXVlcnlQYXJhbWV0ZXJzLnNldCgnbmNhYlRvJywgPGFueT5uY2FiVG8pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChub3RpZnlGbGFnICE9PSB1bmRlZmluZWQgJiYgbm90aWZ5RmxhZyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gcXVlcnlQYXJhbWV0ZXJzLnNldCgnbm90aWZ5RmxhZycsIDxhbnk+bm90aWZ5RmxhZyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5wbklkICE9PSB1bmRlZmluZWQgJiYgbnBuSWQgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycyA9IHF1ZXJ5UGFyYW1ldGVycy5zZXQoJ25wbklkJywgPGFueT5ucG5JZCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9yZGVyQnkgIT09IHVuZGVmaW5lZCAmJiBvcmRlckJ5ICE9PSBudWxsKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSBxdWVyeVBhcmFtZXRlcnMuc2V0KCdvcmRlckJ5JywgPGFueT5vcmRlckJ5KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGRBc3NpZ25tZW50U2VhcmNoICE9PSB1bmRlZmluZWQgJiYgcGRBc3NpZ25tZW50U2VhcmNoICE9PSBudWxsKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSBxdWVyeVBhcmFtZXRlcnMuc2V0KCdwZEFzc2lnbm1lbnRTZWFyY2gnLCA8YW55PnBkQXNzaWdubWVudFNlYXJjaCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBkSWQgIT09IHVuZGVmaW5lZCAmJiBwZElkICE9PSBudWxsKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSBxdWVyeVBhcmFtZXRlcnMuc2V0KCdwZElkJywgPGFueT5wZElkKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGlOYW1lICE9PSB1bmRlZmluZWQgJiYgcGlOYW1lICE9PSBudWxsKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSBxdWVyeVBhcmFtZXRlcnMuc2V0KCdwaU5hbWUnLCA8YW55PnBpTmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlZmVycmFsT2ZmaWNlciAhPT0gdW5kZWZpbmVkICYmIHJlZmVycmFsT2ZmaWNlciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gcXVlcnlQYXJhbWV0ZXJzLnNldCgncmVmZXJyYWxPZmZpY2VyJywgPGFueT5yZWZlcnJhbE9mZmljZXIpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZWZlcnJhbFN0YXR1cykge1xuICAgICAgICAgICAgcmVmZXJyYWxTdGF0dXMuZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xuICAgICAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycyA9IHF1ZXJ5UGFyYW1ldGVycy5hcHBlbmQoJ3JlZmVycmFsU3RhdHVzJywgPGFueT5lbGVtZW50KTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlbWFpbmluZ1BhcmFtcyAhPT0gdW5kZWZpbmVkICYmIHJlbWFpbmluZ1BhcmFtcyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gcXVlcnlQYXJhbWV0ZXJzLnNldCgncmVtYWluaW5nUGFyYW1zJywgPGFueT5yZW1haW5pbmdQYXJhbXMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZmFQYU51bWJlcikge1xuICAgICAgICAgICAgcmZhUGFOdW1iZXIuZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xuICAgICAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycyA9IHF1ZXJ5UGFyYW1ldGVycy5hcHBlbmQoJ3JmYVBhTnVtYmVyJywgPGFueT5lbGVtZW50KTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJvbGUgIT09IHVuZGVmaW5lZCAmJiByb2xlICE9PSBudWxsKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSBxdWVyeVBhcmFtZXRlcnMuc2V0KCdyb2xlJywgPGFueT5yb2xlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocm9OcG5JZCAhPT0gdW5kZWZpbmVkICYmIHJvTnBuSWQgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycyA9IHF1ZXJ5UGFyYW1ldGVycy5zZXQoJ3JvTnBuSWQnLCA8YW55PnJvTnBuSWQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzZWxlY3RGcm9tICE9PSB1bmRlZmluZWQgJiYgc2VsZWN0RnJvbSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gcXVlcnlQYXJhbWV0ZXJzLnNldCgnc2VsZWN0RnJvbScsIDxhbnk+c2VsZWN0RnJvbSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNyYURlc2lnbmF0b3JDb2RlICE9PSB1bmRlZmluZWQgJiYgc3JhRGVzaWduYXRvckNvZGUgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycyA9IHF1ZXJ5UGFyYW1ldGVycy5zZXQoJ3NyYURlc2lnbmF0b3JDb2RlJywgPGFueT5zcmFEZXNpZ25hdG9yQ29kZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNyYUZsZXhDb2RlICE9PSB1bmRlZmluZWQgJiYgc3JhRmxleENvZGUgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycyA9IHF1ZXJ5UGFyYW1ldGVycy5zZXQoJ3NyYUZsZXhDb2RlJywgPGFueT5zcmFGbGV4Q29kZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHdCU2VhcmNoICE9PSB1bmRlZmluZWQgJiYgd0JTZWFyY2ggIT09IG51bGwpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycyA9IHF1ZXJ5UGFyYW1ldGVycy5zZXQoJ1dCU2VhcmNoJywgPGFueT53QlNlYXJjaCk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgaGVhZGVycyA9IHRoaXMuZGVmYXVsdEhlYWRlcnM7XG5cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBBY2NlcHQgaGVhZGVyXG4gICAgICAgIGxldCBodHRwSGVhZGVyQWNjZXB0czogc3RyaW5nW10gPSBbXG4gICAgICAgICAgICAndGV4dC9wbGFpbidcbiAgICAgICAgXTtcbiAgICAgICAgY29uc3QgaHR0cEhlYWRlckFjY2VwdFNlbGVjdGVkOiBzdHJpbmcgfCB1bmRlZmluZWQgPSB0aGlzLmNvbmZpZ3VyYXRpb24uc2VsZWN0SGVhZGVyQWNjZXB0KGh0dHBIZWFkZXJBY2NlcHRzKTtcbiAgICAgICAgaWYgKGh0dHBIZWFkZXJBY2NlcHRTZWxlY3RlZCAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGhlYWRlcnMgPSBoZWFkZXJzLnNldCgnQWNjZXB0JywgaHR0cEhlYWRlckFjY2VwdFNlbGVjdGVkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQ29udGVudC1UeXBlIGhlYWRlclxuICAgICAgICBjb25zdCBjb25zdW1lczogc3RyaW5nW10gPSBbXG4gICAgICAgIF07XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuaHR0cENsaWVudC5nZXQ8YW55PihgJHt0aGlzLmJhc2VQYXRofS9hcGkvdjEvZXhwb3J0L3JlZmVycmFsLWdyYW50c2AsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcGFyYW1zOiBxdWVyeVBhcmFtZXRlcnMsXG4gICAgICAgICAgICAgICAgd2l0aENyZWRlbnRpYWxzOiB0aGlzLmNvbmZpZ3VyYXRpb24ud2l0aENyZWRlbnRpYWxzLFxuICAgICAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICAgICAgICAgICAgb2JzZXJ2ZTogb2JzZXJ2ZSxcbiAgICAgICAgICAgICAgICByZXBvcnRQcm9ncmVzczogcmVwb3J0UHJvZ3Jlc3NcbiAgICAgICAgICAgIH1cbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBleHBvcnRTZWFyY2hSZXN1bHRzXG4gICAgICogXG4gICAgICogQHBhcmFtIHJlbWFpbmluZ1BhcmFtcyByZW1haW5pbmdQYXJhbXNcbiAgICAgKiBAcGFyYW0gYWNjZXNzaW9uTnVtIFxuICAgICAqIEBwYXJhbSBhY3RpdmVTZWdtZW50cyBcbiAgICAgKiBAcGFyYW0gYXBwbElkcyBcbiAgICAgKiBAcGFyYW0gYXBwbFN0YXR1c0dyb3VwQ29kZSBcbiAgICAgKiBAcGFyYW0gYXJhTWF0Y2hTdGF0dXMgXG4gICAgICogQHBhcmFtIGNhbmNlckFjdGl2aXRpZXMgXG4gICAgICogQHBhcmFtIGNvbXBvc2VkR3JhbnROdW1iZXIgXG4gICAgICogQHBhcmFtIGR1YWxDYXMgXG4gICAgICogQHBhcmFtIGZvcm1lckdyYW50TnVtYmVyIFxuICAgICAqIEBwYXJhbSBmeUZyb20gXG4gICAgICogQHBhcmFtIGZ5VG8gXG4gICAgICogQHBhcmFtIGdyYW50SWMgXG4gICAgICogQHBhcmFtIGdyYW50TWVjaCBcbiAgICAgKiBAcGFyYW0gZ3JhbnRTZXJpYWwgXG4gICAgICogQHBhcmFtIGdyYW50U3VmZml4IFxuICAgICAqIEBwYXJhbSBncmFudHNXaXRDYSBcbiAgICAgKiBAcGFyYW0gZ3JhbnRUeXBlIFxuICAgICAqIEBwYXJhbSBncmFudFllYXIgXG4gICAgICogQHBhcmFtIGdyb3VwQ29kZSBcbiAgICAgKiBAcGFyYW0gaW5jbHVkZURlbGV0ZWQgXG4gICAgICogQHBhcmFtIGluY2x1ZGVPcnBoYW5zIFxuICAgICAqIEBwYXJhbSBpbnN0aXR1dGlvbiBcbiAgICAgKiBAcGFyYW0gaXJnQ29kZSBcbiAgICAgKiBAcGFyYW0gaXJnRmxleENvZGUgXG4gICAgICogQHBhcmFtIG15Q2FuY2VyQWN0aXZpdGllcyBcbiAgICAgKiBAcGFyYW0gbmNhYkZyb20gXG4gICAgICogQHBhcmFtIG5jYWJUbyBcbiAgICAgKiBAcGFyYW0gbm90aWZ5RmxhZyBcbiAgICAgKiBAcGFyYW0gbnBuSWQgXG4gICAgICogQHBhcmFtIG9yZGVyQnkgb3JkZXJCeVxuICAgICAqIEBwYXJhbSBwZEFzc2lnbm1lbnRTZWFyY2ggXG4gICAgICogQHBhcmFtIHBkSWQgXG4gICAgICogQHBhcmFtIHBpTmFtZSBcbiAgICAgKiBAcGFyYW0gcmVmZXJyYWxPZmZpY2VyIFxuICAgICAqIEBwYXJhbSByZWZlcnJhbFN0YXR1cyBcbiAgICAgKiBAcGFyYW0gcmZhUGFOdW1iZXIgXG4gICAgICogQHBhcmFtIHJvbGUgXG4gICAgICogQHBhcmFtIHJvTnBuSWQgXG4gICAgICogQHBhcmFtIHNlbGVjdEZyb20gXG4gICAgICogQHBhcmFtIHNyYURlc2lnbmF0b3JDb2RlIFxuICAgICAqIEBwYXJhbSBzcmFGbGV4Q29kZSBcbiAgICAgKiBAcGFyYW0gd0JTZWFyY2ggXG4gICAgICogQHBhcmFtIG9ic2VydmUgc2V0IHdoZXRoZXIgb3Igbm90IHRvIHJldHVybiB0aGUgZGF0YSBPYnNlcnZhYmxlIGFzIHRoZSBib2R5LCByZXNwb25zZSBvciBldmVudHMuIGRlZmF1bHRzIHRvIHJldHVybmluZyB0aGUgYm9keS5cbiAgICAgKiBAcGFyYW0gcmVwb3J0UHJvZ3Jlc3MgZmxhZyB0byByZXBvcnQgcmVxdWVzdCBhbmQgcmVzcG9uc2UgcHJvZ3Jlc3MuXG4gICAgICovXG4gICAgcHVibGljIGV4cG9ydFNlYXJjaFJlc3VsdHNVc2luZ1BPU1QocmVtYWluaW5nUGFyYW1zOiBhbnksIGFjY2Vzc2lvbk51bT86IG51bWJlciwgYWN0aXZlU2VnbWVudHM/OiBib29sZWFuLCBhcHBsSWRzPzogQXJyYXk8bnVtYmVyPiwgYXBwbFN0YXR1c0dyb3VwQ29kZT86IEFycmF5PHN0cmluZz4sIGFyYU1hdGNoU3RhdHVzPzogQXJyYXk8c3RyaW5nPiwgY2FuY2VyQWN0aXZpdGllcz86IEFycmF5PHN0cmluZz4sIGNvbXBvc2VkR3JhbnROdW1iZXI/OiBzdHJpbmcsIGR1YWxDYXM/OiBib29sZWFuLCBmb3JtZXJHcmFudE51bWJlcj86IHN0cmluZywgZnlGcm9tPzogbnVtYmVyLCBmeVRvPzogbnVtYmVyLCBncmFudEljPzogc3RyaW5nLCBncmFudE1lY2g/OiBzdHJpbmcsIGdyYW50U2VyaWFsPzogc3RyaW5nLCBncmFudFN1ZmZpeD86IHN0cmluZywgZ3JhbnRzV2l0Q2E/OiBib29sZWFuLCBncmFudFR5cGU/OiBzdHJpbmcsIGdyYW50WWVhcj86IHN0cmluZywgZ3JvdXBDb2RlPzogc3RyaW5nLCBpbmNsdWRlRGVsZXRlZD86IGJvb2xlYW4sIGluY2x1ZGVPcnBoYW5zPzogYm9vbGVhbiwgaW5zdGl0dXRpb24/OiBzdHJpbmcsIGlyZ0NvZGU/OiBzdHJpbmcsIGlyZ0ZsZXhDb2RlPzogc3RyaW5nLCBteUNhbmNlckFjdGl2aXRpZXM/OiBBcnJheTxzdHJpbmc+LCBuY2FiRnJvbT86IHN0cmluZywgbmNhYlRvPzogc3RyaW5nLCBub3RpZnlGbGFnPzogc3RyaW5nLCBucG5JZD86IG51bWJlciwgb3JkZXJCeT86IHN0cmluZywgcGRBc3NpZ25tZW50U2VhcmNoPzogYm9vbGVhbiwgcGRJZD86IG51bWJlciwgcGlOYW1lPzogc3RyaW5nLCByZWZlcnJhbE9mZmljZXI/OiBudW1iZXIsIHJlZmVycmFsU3RhdHVzPzogQXJyYXk8c3RyaW5nPiwgcmZhUGFOdW1iZXI/OiBBcnJheTxzdHJpbmc+LCByb2xlPzogc3RyaW5nLCByb05wbklkPzogbnVtYmVyLCBzZWxlY3RGcm9tPzogc3RyaW5nLCBzcmFEZXNpZ25hdG9yQ29kZT86IHN0cmluZywgc3JhRmxleENvZGU/OiBzdHJpbmcsIHdCU2VhcmNoPzogYm9vbGVhbiwgb2JzZXJ2ZT86ICdib2R5JywgcmVwb3J0UHJvZ3Jlc3M/OiBib29sZWFuKTogT2JzZXJ2YWJsZTxhbnk+O1xuICAgIHB1YmxpYyBleHBvcnRTZWFyY2hSZXN1bHRzVXNpbmdQT1NUKHJlbWFpbmluZ1BhcmFtczogYW55LCBhY2Nlc3Npb25OdW0/OiBudW1iZXIsIGFjdGl2ZVNlZ21lbnRzPzogYm9vbGVhbiwgYXBwbElkcz86IEFycmF5PG51bWJlcj4sIGFwcGxTdGF0dXNHcm91cENvZGU/OiBBcnJheTxzdHJpbmc+LCBhcmFNYXRjaFN0YXR1cz86IEFycmF5PHN0cmluZz4sIGNhbmNlckFjdGl2aXRpZXM/OiBBcnJheTxzdHJpbmc+LCBjb21wb3NlZEdyYW50TnVtYmVyPzogc3RyaW5nLCBkdWFsQ2FzPzogYm9vbGVhbiwgZm9ybWVyR3JhbnROdW1iZXI/OiBzdHJpbmcsIGZ5RnJvbT86IG51bWJlciwgZnlUbz86IG51bWJlciwgZ3JhbnRJYz86IHN0cmluZywgZ3JhbnRNZWNoPzogc3RyaW5nLCBncmFudFNlcmlhbD86IHN0cmluZywgZ3JhbnRTdWZmaXg/OiBzdHJpbmcsIGdyYW50c1dpdENhPzogYm9vbGVhbiwgZ3JhbnRUeXBlPzogc3RyaW5nLCBncmFudFllYXI/OiBzdHJpbmcsIGdyb3VwQ29kZT86IHN0cmluZywgaW5jbHVkZURlbGV0ZWQ/OiBib29sZWFuLCBpbmNsdWRlT3JwaGFucz86IGJvb2xlYW4sIGluc3RpdHV0aW9uPzogc3RyaW5nLCBpcmdDb2RlPzogc3RyaW5nLCBpcmdGbGV4Q29kZT86IHN0cmluZywgbXlDYW5jZXJBY3Rpdml0aWVzPzogQXJyYXk8c3RyaW5nPiwgbmNhYkZyb20/OiBzdHJpbmcsIG5jYWJUbz86IHN0cmluZywgbm90aWZ5RmxhZz86IHN0cmluZywgbnBuSWQ/OiBudW1iZXIsIG9yZGVyQnk/OiBzdHJpbmcsIHBkQXNzaWdubWVudFNlYXJjaD86IGJvb2xlYW4sIHBkSWQ/OiBudW1iZXIsIHBpTmFtZT86IHN0cmluZywgcmVmZXJyYWxPZmZpY2VyPzogbnVtYmVyLCByZWZlcnJhbFN0YXR1cz86IEFycmF5PHN0cmluZz4sIHJmYVBhTnVtYmVyPzogQXJyYXk8c3RyaW5nPiwgcm9sZT86IHN0cmluZywgcm9OcG5JZD86IG51bWJlciwgc2VsZWN0RnJvbT86IHN0cmluZywgc3JhRGVzaWduYXRvckNvZGU/OiBzdHJpbmcsIHNyYUZsZXhDb2RlPzogc3RyaW5nLCB3QlNlYXJjaD86IGJvb2xlYW4sIG9ic2VydmU/OiAncmVzcG9uc2UnLCByZXBvcnRQcm9ncmVzcz86IGJvb2xlYW4pOiBPYnNlcnZhYmxlPEh0dHBSZXNwb25zZTxhbnk+PjtcbiAgICBwdWJsaWMgZXhwb3J0U2VhcmNoUmVzdWx0c1VzaW5nUE9TVChyZW1haW5pbmdQYXJhbXM6IGFueSwgYWNjZXNzaW9uTnVtPzogbnVtYmVyLCBhY3RpdmVTZWdtZW50cz86IGJvb2xlYW4sIGFwcGxJZHM/OiBBcnJheTxudW1iZXI+LCBhcHBsU3RhdHVzR3JvdXBDb2RlPzogQXJyYXk8c3RyaW5nPiwgYXJhTWF0Y2hTdGF0dXM/OiBBcnJheTxzdHJpbmc+LCBjYW5jZXJBY3Rpdml0aWVzPzogQXJyYXk8c3RyaW5nPiwgY29tcG9zZWRHcmFudE51bWJlcj86IHN0cmluZywgZHVhbENhcz86IGJvb2xlYW4sIGZvcm1lckdyYW50TnVtYmVyPzogc3RyaW5nLCBmeUZyb20/OiBudW1iZXIsIGZ5VG8/OiBudW1iZXIsIGdyYW50SWM/OiBzdHJpbmcsIGdyYW50TWVjaD86IHN0cmluZywgZ3JhbnRTZXJpYWw/OiBzdHJpbmcsIGdyYW50U3VmZml4Pzogc3RyaW5nLCBncmFudHNXaXRDYT86IGJvb2xlYW4sIGdyYW50VHlwZT86IHN0cmluZywgZ3JhbnRZZWFyPzogc3RyaW5nLCBncm91cENvZGU/OiBzdHJpbmcsIGluY2x1ZGVEZWxldGVkPzogYm9vbGVhbiwgaW5jbHVkZU9ycGhhbnM/OiBib29sZWFuLCBpbnN0aXR1dGlvbj86IHN0cmluZywgaXJnQ29kZT86IHN0cmluZywgaXJnRmxleENvZGU/OiBzdHJpbmcsIG15Q2FuY2VyQWN0aXZpdGllcz86IEFycmF5PHN0cmluZz4sIG5jYWJGcm9tPzogc3RyaW5nLCBuY2FiVG8/OiBzdHJpbmcsIG5vdGlmeUZsYWc/OiBzdHJpbmcsIG5wbklkPzogbnVtYmVyLCBvcmRlckJ5Pzogc3RyaW5nLCBwZEFzc2lnbm1lbnRTZWFyY2g/OiBib29sZWFuLCBwZElkPzogbnVtYmVyLCBwaU5hbWU/OiBzdHJpbmcsIHJlZmVycmFsT2ZmaWNlcj86IG51bWJlciwgcmVmZXJyYWxTdGF0dXM/OiBBcnJheTxzdHJpbmc+LCByZmFQYU51bWJlcj86IEFycmF5PHN0cmluZz4sIHJvbGU/OiBzdHJpbmcsIHJvTnBuSWQ/OiBudW1iZXIsIHNlbGVjdEZyb20/OiBzdHJpbmcsIHNyYURlc2lnbmF0b3JDb2RlPzogc3RyaW5nLCBzcmFGbGV4Q29kZT86IHN0cmluZywgd0JTZWFyY2g/OiBib29sZWFuLCBvYnNlcnZlPzogJ2V2ZW50cycsIHJlcG9ydFByb2dyZXNzPzogYm9vbGVhbik6IE9ic2VydmFibGU8SHR0cEV2ZW50PGFueT4+O1xuICAgIHB1YmxpYyBleHBvcnRTZWFyY2hSZXN1bHRzVXNpbmdQT1NUKHJlbWFpbmluZ1BhcmFtczogYW55LCBhY2Nlc3Npb25OdW0/OiBudW1iZXIsIGFjdGl2ZVNlZ21lbnRzPzogYm9vbGVhbiwgYXBwbElkcz86IEFycmF5PG51bWJlcj4sIGFwcGxTdGF0dXNHcm91cENvZGU/OiBBcnJheTxzdHJpbmc+LCBhcmFNYXRjaFN0YXR1cz86IEFycmF5PHN0cmluZz4sIGNhbmNlckFjdGl2aXRpZXM/OiBBcnJheTxzdHJpbmc+LCBjb21wb3NlZEdyYW50TnVtYmVyPzogc3RyaW5nLCBkdWFsQ2FzPzogYm9vbGVhbiwgZm9ybWVyR3JhbnROdW1iZXI/OiBzdHJpbmcsIGZ5RnJvbT86IG51bWJlciwgZnlUbz86IG51bWJlciwgZ3JhbnRJYz86IHN0cmluZywgZ3JhbnRNZWNoPzogc3RyaW5nLCBncmFudFNlcmlhbD86IHN0cmluZywgZ3JhbnRTdWZmaXg/OiBzdHJpbmcsIGdyYW50c1dpdENhPzogYm9vbGVhbiwgZ3JhbnRUeXBlPzogc3RyaW5nLCBncmFudFllYXI/OiBzdHJpbmcsIGdyb3VwQ29kZT86IHN0cmluZywgaW5jbHVkZURlbGV0ZWQ/OiBib29sZWFuLCBpbmNsdWRlT3JwaGFucz86IGJvb2xlYW4sIGluc3RpdHV0aW9uPzogc3RyaW5nLCBpcmdDb2RlPzogc3RyaW5nLCBpcmdGbGV4Q29kZT86IHN0cmluZywgbXlDYW5jZXJBY3Rpdml0aWVzPzogQXJyYXk8c3RyaW5nPiwgbmNhYkZyb20/OiBzdHJpbmcsIG5jYWJUbz86IHN0cmluZywgbm90aWZ5RmxhZz86IHN0cmluZywgbnBuSWQ/OiBudW1iZXIsIG9yZGVyQnk/OiBzdHJpbmcsIHBkQXNzaWdubWVudFNlYXJjaD86IGJvb2xlYW4sIHBkSWQ/OiBudW1iZXIsIHBpTmFtZT86IHN0cmluZywgcmVmZXJyYWxPZmZpY2VyPzogbnVtYmVyLCByZWZlcnJhbFN0YXR1cz86IEFycmF5PHN0cmluZz4sIHJmYVBhTnVtYmVyPzogQXJyYXk8c3RyaW5nPiwgcm9sZT86IHN0cmluZywgcm9OcG5JZD86IG51bWJlciwgc2VsZWN0RnJvbT86IHN0cmluZywgc3JhRGVzaWduYXRvckNvZGU/OiBzdHJpbmcsIHNyYUZsZXhDb2RlPzogc3RyaW5nLCB3QlNlYXJjaD86IGJvb2xlYW4sIG9ic2VydmU6IGFueSA9ICdib2R5JywgcmVwb3J0UHJvZ3Jlc3M6IGJvb2xlYW4gPSBmYWxzZSApOiBPYnNlcnZhYmxlPGFueT4ge1xuXG4gICAgICAgIGlmIChyZW1haW5pbmdQYXJhbXMgPT09IG51bGwgfHwgcmVtYWluaW5nUGFyYW1zID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIHJlbWFpbmluZ1BhcmFtcyB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGV4cG9ydFNlYXJjaFJlc3VsdHNVc2luZ1BPU1QuJyk7XG4gICAgICAgIH1cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuICAgICAgICBsZXQgcXVlcnlQYXJhbWV0ZXJzID0gbmV3IEh0dHBQYXJhbXMoe2VuY29kZXI6IG5ldyBDdXN0b21IdHRwVXJsRW5jb2RpbmdDb2RlYygpfSk7XG4gICAgICAgIGlmIChhY2Nlc3Npb25OdW0gIT09IHVuZGVmaW5lZCAmJiBhY2Nlc3Npb25OdW0gIT09IG51bGwpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycyA9IHF1ZXJ5UGFyYW1ldGVycy5zZXQoJ2FjY2Vzc2lvbk51bScsIDxhbnk+YWNjZXNzaW9uTnVtKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYWN0aXZlU2VnbWVudHMgIT09IHVuZGVmaW5lZCAmJiBhY3RpdmVTZWdtZW50cyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gcXVlcnlQYXJhbWV0ZXJzLnNldCgnYWN0aXZlU2VnbWVudHMnLCA8YW55PmFjdGl2ZVNlZ21lbnRzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYXBwbElkcykge1xuICAgICAgICAgICAgYXBwbElkcy5mb3JFYWNoKChlbGVtZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gcXVlcnlQYXJhbWV0ZXJzLmFwcGVuZCgnYXBwbElkcycsIDxhbnk+ZWxlbWVudCk7XG4gICAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICAgIGlmIChhcHBsU3RhdHVzR3JvdXBDb2RlKSB7XG4gICAgICAgICAgICBhcHBsU3RhdHVzR3JvdXBDb2RlLmZvckVhY2goKGVsZW1lbnQpID0+IHtcbiAgICAgICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSBxdWVyeVBhcmFtZXRlcnMuYXBwZW5kKCdhcHBsU3RhdHVzR3JvdXBDb2RlJywgPGFueT5lbGVtZW50KTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgICAgaWYgKGFyYU1hdGNoU3RhdHVzKSB7XG4gICAgICAgICAgICBhcmFNYXRjaFN0YXR1cy5mb3JFYWNoKChlbGVtZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gcXVlcnlQYXJhbWV0ZXJzLmFwcGVuZCgnYXJhTWF0Y2hTdGF0dXMnLCA8YW55PmVsZW1lbnQpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2FuY2VyQWN0aXZpdGllcykge1xuICAgICAgICAgICAgY2FuY2VyQWN0aXZpdGllcy5mb3JFYWNoKChlbGVtZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gcXVlcnlQYXJhbWV0ZXJzLmFwcGVuZCgnY2FuY2VyQWN0aXZpdGllcycsIDxhbnk+ZWxlbWVudCk7XG4gICAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICAgIGlmIChjb21wb3NlZEdyYW50TnVtYmVyICE9PSB1bmRlZmluZWQgJiYgY29tcG9zZWRHcmFudE51bWJlciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gcXVlcnlQYXJhbWV0ZXJzLnNldCgnY29tcG9zZWRHcmFudE51bWJlcicsIDxhbnk+Y29tcG9zZWRHcmFudE51bWJlcik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGR1YWxDYXMgIT09IHVuZGVmaW5lZCAmJiBkdWFsQ2FzICE9PSBudWxsKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSBxdWVyeVBhcmFtZXRlcnMuc2V0KCdkdWFsQ2FzJywgPGFueT5kdWFsQ2FzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZm9ybWVyR3JhbnROdW1iZXIgIT09IHVuZGVmaW5lZCAmJiBmb3JtZXJHcmFudE51bWJlciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gcXVlcnlQYXJhbWV0ZXJzLnNldCgnZm9ybWVyR3JhbnROdW1iZXInLCA8YW55PmZvcm1lckdyYW50TnVtYmVyKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZnlGcm9tICE9PSB1bmRlZmluZWQgJiYgZnlGcm9tICE9PSBudWxsKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSBxdWVyeVBhcmFtZXRlcnMuc2V0KCdmeUZyb20nLCA8YW55PmZ5RnJvbSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZ5VG8gIT09IHVuZGVmaW5lZCAmJiBmeVRvICE9PSBudWxsKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSBxdWVyeVBhcmFtZXRlcnMuc2V0KCdmeVRvJywgPGFueT5meVRvKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZ3JhbnRJYyAhPT0gdW5kZWZpbmVkICYmIGdyYW50SWMgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycyA9IHF1ZXJ5UGFyYW1ldGVycy5zZXQoJ2dyYW50SWMnLCA8YW55PmdyYW50SWMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChncmFudE1lY2ggIT09IHVuZGVmaW5lZCAmJiBncmFudE1lY2ggIT09IG51bGwpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycyA9IHF1ZXJ5UGFyYW1ldGVycy5zZXQoJ2dyYW50TWVjaCcsIDxhbnk+Z3JhbnRNZWNoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZ3JhbnRTZXJpYWwgIT09IHVuZGVmaW5lZCAmJiBncmFudFNlcmlhbCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gcXVlcnlQYXJhbWV0ZXJzLnNldCgnZ3JhbnRTZXJpYWwnLCA8YW55PmdyYW50U2VyaWFsKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZ3JhbnRTdWZmaXggIT09IHVuZGVmaW5lZCAmJiBncmFudFN1ZmZpeCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gcXVlcnlQYXJhbWV0ZXJzLnNldCgnZ3JhbnRTdWZmaXgnLCA8YW55PmdyYW50U3VmZml4KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZ3JhbnRzV2l0Q2EgIT09IHVuZGVmaW5lZCAmJiBncmFudHNXaXRDYSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gcXVlcnlQYXJhbWV0ZXJzLnNldCgnZ3JhbnRzV2l0Q2EnLCA8YW55PmdyYW50c1dpdENhKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZ3JhbnRUeXBlICE9PSB1bmRlZmluZWQgJiYgZ3JhbnRUeXBlICE9PSBudWxsKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSBxdWVyeVBhcmFtZXRlcnMuc2V0KCdncmFudFR5cGUnLCA8YW55PmdyYW50VHlwZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGdyYW50WWVhciAhPT0gdW5kZWZpbmVkICYmIGdyYW50WWVhciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gcXVlcnlQYXJhbWV0ZXJzLnNldCgnZ3JhbnRZZWFyJywgPGFueT5ncmFudFllYXIpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChncm91cENvZGUgIT09IHVuZGVmaW5lZCAmJiBncm91cENvZGUgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycyA9IHF1ZXJ5UGFyYW1ldGVycy5zZXQoJ2dyb3VwQ29kZScsIDxhbnk+Z3JvdXBDb2RlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaW5jbHVkZURlbGV0ZWQgIT09IHVuZGVmaW5lZCAmJiBpbmNsdWRlRGVsZXRlZCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gcXVlcnlQYXJhbWV0ZXJzLnNldCgnaW5jbHVkZURlbGV0ZWQnLCA8YW55PmluY2x1ZGVEZWxldGVkKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaW5jbHVkZU9ycGhhbnMgIT09IHVuZGVmaW5lZCAmJiBpbmNsdWRlT3JwaGFucyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gcXVlcnlQYXJhbWV0ZXJzLnNldCgnaW5jbHVkZU9ycGhhbnMnLCA8YW55PmluY2x1ZGVPcnBoYW5zKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaW5zdGl0dXRpb24gIT09IHVuZGVmaW5lZCAmJiBpbnN0aXR1dGlvbiAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gcXVlcnlQYXJhbWV0ZXJzLnNldCgnaW5zdGl0dXRpb24nLCA8YW55Pmluc3RpdHV0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXJnQ29kZSAhPT0gdW5kZWZpbmVkICYmIGlyZ0NvZGUgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycyA9IHF1ZXJ5UGFyYW1ldGVycy5zZXQoJ2lyZ0NvZGUnLCA8YW55PmlyZ0NvZGUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpcmdGbGV4Q29kZSAhPT0gdW5kZWZpbmVkICYmIGlyZ0ZsZXhDb2RlICE9PSBudWxsKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSBxdWVyeVBhcmFtZXRlcnMuc2V0KCdpcmdGbGV4Q29kZScsIDxhbnk+aXJnRmxleENvZGUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChteUNhbmNlckFjdGl2aXRpZXMpIHtcbiAgICAgICAgICAgIG15Q2FuY2VyQWN0aXZpdGllcy5mb3JFYWNoKChlbGVtZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gcXVlcnlQYXJhbWV0ZXJzLmFwcGVuZCgnbXlDYW5jZXJBY3Rpdml0aWVzJywgPGFueT5lbGVtZW50KTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5jYWJGcm9tICE9PSB1bmRlZmluZWQgJiYgbmNhYkZyb20gIT09IG51bGwpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycyA9IHF1ZXJ5UGFyYW1ldGVycy5zZXQoJ25jYWJGcm9tJywgPGFueT5uY2FiRnJvbSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5jYWJUbyAhPT0gdW5kZWZpbmVkICYmIG5jYWJUbyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gcXVlcnlQYXJhbWV0ZXJzLnNldCgnbmNhYlRvJywgPGFueT5uY2FiVG8pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChub3RpZnlGbGFnICE9PSB1bmRlZmluZWQgJiYgbm90aWZ5RmxhZyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gcXVlcnlQYXJhbWV0ZXJzLnNldCgnbm90aWZ5RmxhZycsIDxhbnk+bm90aWZ5RmxhZyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5wbklkICE9PSB1bmRlZmluZWQgJiYgbnBuSWQgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycyA9IHF1ZXJ5UGFyYW1ldGVycy5zZXQoJ25wbklkJywgPGFueT5ucG5JZCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9yZGVyQnkgIT09IHVuZGVmaW5lZCAmJiBvcmRlckJ5ICE9PSBudWxsKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSBxdWVyeVBhcmFtZXRlcnMuc2V0KCdvcmRlckJ5JywgPGFueT5vcmRlckJ5KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGRBc3NpZ25tZW50U2VhcmNoICE9PSB1bmRlZmluZWQgJiYgcGRBc3NpZ25tZW50U2VhcmNoICE9PSBudWxsKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSBxdWVyeVBhcmFtZXRlcnMuc2V0KCdwZEFzc2lnbm1lbnRTZWFyY2gnLCA8YW55PnBkQXNzaWdubWVudFNlYXJjaCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBkSWQgIT09IHVuZGVmaW5lZCAmJiBwZElkICE9PSBudWxsKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSBxdWVyeVBhcmFtZXRlcnMuc2V0KCdwZElkJywgPGFueT5wZElkKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGlOYW1lICE9PSB1bmRlZmluZWQgJiYgcGlOYW1lICE9PSBudWxsKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSBxdWVyeVBhcmFtZXRlcnMuc2V0KCdwaU5hbWUnLCA8YW55PnBpTmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlZmVycmFsT2ZmaWNlciAhPT0gdW5kZWZpbmVkICYmIHJlZmVycmFsT2ZmaWNlciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gcXVlcnlQYXJhbWV0ZXJzLnNldCgncmVmZXJyYWxPZmZpY2VyJywgPGFueT5yZWZlcnJhbE9mZmljZXIpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZWZlcnJhbFN0YXR1cykge1xuICAgICAgICAgICAgcmVmZXJyYWxTdGF0dXMuZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xuICAgICAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycyA9IHF1ZXJ5UGFyYW1ldGVycy5hcHBlbmQoJ3JlZmVycmFsU3RhdHVzJywgPGFueT5lbGVtZW50KTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlbWFpbmluZ1BhcmFtcyAhPT0gdW5kZWZpbmVkICYmIHJlbWFpbmluZ1BhcmFtcyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gcXVlcnlQYXJhbWV0ZXJzLnNldCgncmVtYWluaW5nUGFyYW1zJywgPGFueT5yZW1haW5pbmdQYXJhbXMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZmFQYU51bWJlcikge1xuICAgICAgICAgICAgcmZhUGFOdW1iZXIuZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xuICAgICAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycyA9IHF1ZXJ5UGFyYW1ldGVycy5hcHBlbmQoJ3JmYVBhTnVtYmVyJywgPGFueT5lbGVtZW50KTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJvbGUgIT09IHVuZGVmaW5lZCAmJiByb2xlICE9PSBudWxsKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSBxdWVyeVBhcmFtZXRlcnMuc2V0KCdyb2xlJywgPGFueT5yb2xlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocm9OcG5JZCAhPT0gdW5kZWZpbmVkICYmIHJvTnBuSWQgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycyA9IHF1ZXJ5UGFyYW1ldGVycy5zZXQoJ3JvTnBuSWQnLCA8YW55PnJvTnBuSWQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzZWxlY3RGcm9tICE9PSB1bmRlZmluZWQgJiYgc2VsZWN0RnJvbSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gcXVlcnlQYXJhbWV0ZXJzLnNldCgnc2VsZWN0RnJvbScsIDxhbnk+c2VsZWN0RnJvbSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNyYURlc2lnbmF0b3JDb2RlICE9PSB1bmRlZmluZWQgJiYgc3JhRGVzaWduYXRvckNvZGUgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycyA9IHF1ZXJ5UGFyYW1ldGVycy5zZXQoJ3NyYURlc2lnbmF0b3JDb2RlJywgPGFueT5zcmFEZXNpZ25hdG9yQ29kZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNyYUZsZXhDb2RlICE9PSB1bmRlZmluZWQgJiYgc3JhRmxleENvZGUgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycyA9IHF1ZXJ5UGFyYW1ldGVycy5zZXQoJ3NyYUZsZXhDb2RlJywgPGFueT5zcmFGbGV4Q29kZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHdCU2VhcmNoICE9PSB1bmRlZmluZWQgJiYgd0JTZWFyY2ggIT09IG51bGwpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycyA9IHF1ZXJ5UGFyYW1ldGVycy5zZXQoJ1dCU2VhcmNoJywgPGFueT53QlNlYXJjaCk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgaGVhZGVycyA9IHRoaXMuZGVmYXVsdEhlYWRlcnM7XG5cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBBY2NlcHQgaGVhZGVyXG4gICAgICAgIGxldCBodHRwSGVhZGVyQWNjZXB0czogc3RyaW5nW10gPSBbXG4gICAgICAgICAgICAndGV4dC9wbGFpbidcbiAgICAgICAgXTtcbiAgICAgICAgY29uc3QgaHR0cEhlYWRlckFjY2VwdFNlbGVjdGVkOiBzdHJpbmcgfCB1bmRlZmluZWQgPSB0aGlzLmNvbmZpZ3VyYXRpb24uc2VsZWN0SGVhZGVyQWNjZXB0KGh0dHBIZWFkZXJBY2NlcHRzKTtcbiAgICAgICAgaWYgKGh0dHBIZWFkZXJBY2NlcHRTZWxlY3RlZCAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGhlYWRlcnMgPSBoZWFkZXJzLnNldCgnQWNjZXB0JywgaHR0cEhlYWRlckFjY2VwdFNlbGVjdGVkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQ29udGVudC1UeXBlIGhlYWRlclxuICAgICAgICBjb25zdCBjb25zdW1lczogc3RyaW5nW10gPSBbXG4gICAgICAgICAgICAnYXBwbGljYXRpb24vanNvbidcbiAgICAgICAgXTtcblxuICAgICAgICByZXR1cm4gdGhpcy5odHRwQ2xpZW50LnBvc3Q8YW55PihgJHt0aGlzLmJhc2VQYXRofS9hcGkvdjEvZXhwb3J0L3JlZmVycmFsLWdyYW50c2AsXG4gICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHBhcmFtczogcXVlcnlQYXJhbWV0ZXJzLFxuICAgICAgICAgICAgICAgIHdpdGhDcmVkZW50aWFsczogdGhpcy5jb25maWd1cmF0aW9uLndpdGhDcmVkZW50aWFscyxcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLFxuICAgICAgICAgICAgICAgIG9ic2VydmU6IG9ic2VydmUsXG4gICAgICAgICAgICAgICAgcmVwb3J0UHJvZ3Jlc3M6IHJlcG9ydFByb2dyZXNzXG4gICAgICAgICAgICB9XG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogZmluZFdpdGhkcmF3bkdyYW50c1xuICAgICAqIFxuICAgICAqIEBwYXJhbSBvYnNlcnZlIHNldCB3aGV0aGVyIG9yIG5vdCB0byByZXR1cm4gdGhlIGRhdGEgT2JzZXJ2YWJsZSBhcyB0aGUgYm9keSwgcmVzcG9uc2Ugb3IgZXZlbnRzLiBkZWZhdWx0cyB0byByZXR1cm5pbmcgdGhlIGJvZHkuXG4gICAgICogQHBhcmFtIHJlcG9ydFByb2dyZXNzIGZsYWcgdG8gcmVwb3J0IHJlcXVlc3QgYW5kIHJlc3BvbnNlIHByb2dyZXNzLlxuICAgICAqL1xuICAgIHB1YmxpYyBmaW5kV2l0aGRyYXduR3JhbnRzVXNpbmdHRVQob2JzZXJ2ZT86ICdib2R5JywgcmVwb3J0UHJvZ3Jlc3M/OiBib29sZWFuKTogT2JzZXJ2YWJsZTxhbnk+O1xuICAgIHB1YmxpYyBmaW5kV2l0aGRyYXduR3JhbnRzVXNpbmdHRVQob2JzZXJ2ZT86ICdyZXNwb25zZScsIHJlcG9ydFByb2dyZXNzPzogYm9vbGVhbik6IE9ic2VydmFibGU8SHR0cFJlc3BvbnNlPGFueT4+O1xuICAgIHB1YmxpYyBmaW5kV2l0aGRyYXduR3JhbnRzVXNpbmdHRVQob2JzZXJ2ZT86ICdldmVudHMnLCByZXBvcnRQcm9ncmVzcz86IGJvb2xlYW4pOiBPYnNlcnZhYmxlPEh0dHBFdmVudDxhbnk+PjtcbiAgICBwdWJsaWMgZmluZFdpdGhkcmF3bkdyYW50c1VzaW5nR0VUKG9ic2VydmU6IGFueSA9ICdib2R5JywgcmVwb3J0UHJvZ3Jlc3M6IGJvb2xlYW4gPSBmYWxzZSApOiBPYnNlcnZhYmxlPGFueT4ge1xuXG4gICAgICAgIGxldCBoZWFkZXJzID0gdGhpcy5kZWZhdWx0SGVhZGVycztcblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIEFjY2VwdCBoZWFkZXJcbiAgICAgICAgbGV0IGh0dHBIZWFkZXJBY2NlcHRzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgICAgICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICdhcHBsaWNhdGlvbi94bWwnXG4gICAgICAgIF07XG4gICAgICAgIGNvbnN0IGh0dHBIZWFkZXJBY2NlcHRTZWxlY3RlZDogc3RyaW5nIHwgdW5kZWZpbmVkID0gdGhpcy5jb25maWd1cmF0aW9uLnNlbGVjdEhlYWRlckFjY2VwdChodHRwSGVhZGVyQWNjZXB0cyk7XG4gICAgICAgIGlmIChodHRwSGVhZGVyQWNjZXB0U2VsZWN0ZWQgIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBoZWFkZXJzID0gaGVhZGVycy5zZXQoJ0FjY2VwdCcsIGh0dHBIZWFkZXJBY2NlcHRTZWxlY3RlZCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIENvbnRlbnQtVHlwZSBoZWFkZXJcbiAgICAgICAgY29uc3QgY29uc3VtZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICBdO1xuXG4gICAgICAgIHJldHVybiB0aGlzLmh0dHBDbGllbnQuZ2V0PGFueT4oYCR7dGhpcy5iYXNlUGF0aH0vYXBpL3YxL3JlZmVycmFsLWdyYW50cy93aXRoZHJhd25gLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHdpdGhDcmVkZW50aWFsczogdGhpcy5jb25maWd1cmF0aW9uLndpdGhDcmVkZW50aWFscyxcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLFxuICAgICAgICAgICAgICAgIG9ic2VydmU6IG9ic2VydmUsXG4gICAgICAgICAgICAgICAgcmVwb3J0UHJvZ3Jlc3M6IHJlcG9ydFByb2dyZXNzXG4gICAgICAgICAgICB9XG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogZ2V0U3VnZ2VzdGVkQ2F5Q29kZXNcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gYXBwbElkIGFwcGxJZFxuICAgICAqIEBwYXJhbSBvYnNlcnZlIHNldCB3aGV0aGVyIG9yIG5vdCB0byByZXR1cm4gdGhlIGRhdGEgT2JzZXJ2YWJsZSBhcyB0aGUgYm9keSwgcmVzcG9uc2Ugb3IgZXZlbnRzLiBkZWZhdWx0cyB0byByZXR1cm5pbmcgdGhlIGJvZHkuXG4gICAgICogQHBhcmFtIHJlcG9ydFByb2dyZXNzIGZsYWcgdG8gcmVwb3J0IHJlcXVlc3QgYW5kIHJlc3BvbnNlIHByb2dyZXNzLlxuICAgICAqL1xuICAgIHB1YmxpYyBnZXRTdWdnZXN0ZWRDYXlDb2Rlc1VzaW5nR0VUKGFwcGxJZDogbnVtYmVyLCBvYnNlcnZlPzogJ2JvZHknLCByZXBvcnRQcm9ncmVzcz86IGJvb2xlYW4pOiBPYnNlcnZhYmxlPGFueT47XG4gICAgcHVibGljIGdldFN1Z2dlc3RlZENheUNvZGVzVXNpbmdHRVQoYXBwbElkOiBudW1iZXIsIG9ic2VydmU/OiAncmVzcG9uc2UnLCByZXBvcnRQcm9ncmVzcz86IGJvb2xlYW4pOiBPYnNlcnZhYmxlPEh0dHBSZXNwb25zZTxhbnk+PjtcbiAgICBwdWJsaWMgZ2V0U3VnZ2VzdGVkQ2F5Q29kZXNVc2luZ0dFVChhcHBsSWQ6IG51bWJlciwgb2JzZXJ2ZT86ICdldmVudHMnLCByZXBvcnRQcm9ncmVzcz86IGJvb2xlYW4pOiBPYnNlcnZhYmxlPEh0dHBFdmVudDxhbnk+PjtcbiAgICBwdWJsaWMgZ2V0U3VnZ2VzdGVkQ2F5Q29kZXNVc2luZ0dFVChhcHBsSWQ6IG51bWJlciwgb2JzZXJ2ZTogYW55ID0gJ2JvZHknLCByZXBvcnRQcm9ncmVzczogYm9vbGVhbiA9IGZhbHNlICk6IE9ic2VydmFibGU8YW55PiB7XG5cbiAgICAgICAgaWYgKGFwcGxJZCA9PT0gbnVsbCB8fCBhcHBsSWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgYXBwbElkIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgZ2V0U3VnZ2VzdGVkQ2F5Q29kZXNVc2luZ0dFVC4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBoZWFkZXJzID0gdGhpcy5kZWZhdWx0SGVhZGVycztcblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIEFjY2VwdCBoZWFkZXJcbiAgICAgICAgbGV0IGh0dHBIZWFkZXJBY2NlcHRzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgICAgICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICdhcHBsaWNhdGlvbi94bWwnXG4gICAgICAgIF07XG4gICAgICAgIGNvbnN0IGh0dHBIZWFkZXJBY2NlcHRTZWxlY3RlZDogc3RyaW5nIHwgdW5kZWZpbmVkID0gdGhpcy5jb25maWd1cmF0aW9uLnNlbGVjdEhlYWRlckFjY2VwdChodHRwSGVhZGVyQWNjZXB0cyk7XG4gICAgICAgIGlmIChodHRwSGVhZGVyQWNjZXB0U2VsZWN0ZWQgIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBoZWFkZXJzID0gaGVhZGVycy5zZXQoJ0FjY2VwdCcsIGh0dHBIZWFkZXJBY2NlcHRTZWxlY3RlZCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIENvbnRlbnQtVHlwZSBoZWFkZXJcbiAgICAgICAgY29uc3QgY29uc3VtZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICBdO1xuXG4gICAgICAgIHJldHVybiB0aGlzLmh0dHBDbGllbnQuZ2V0PGFueT4oYCR7dGhpcy5iYXNlUGF0aH0vYXBpL3YxL3JlZmVycmFsLWdyYW50cy9zdWdnZXN0ZWQtY2F5LWNvZGVzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KFN0cmluZyhhcHBsSWQpKX1gLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHdpdGhDcmVkZW50aWFsczogdGhpcy5jb25maWd1cmF0aW9uLndpdGhDcmVkZW50aWFscyxcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLFxuICAgICAgICAgICAgICAgIG9ic2VydmU6IG9ic2VydmUsXG4gICAgICAgICAgICAgICAgcmVwb3J0UHJvZ3Jlc3M6IHJlcG9ydFByb2dyZXNzXG4gICAgICAgICAgICB9XG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogc2VhcmNoR3JhbnRzRm9yUERBc3NpZ25tZW50XG4gICAgICogXG4gICAgICogQHBhcmFtIHJlbWFpbmluZ1BhcmFtcyByZW1haW5pbmdQYXJhbXNcbiAgICAgKiBAcGFyYW0gYWNjZXNzaW9uTnVtIFxuICAgICAqIEBwYXJhbSBhY3RpdmVTZWdtZW50cyBcbiAgICAgKiBAcGFyYW0gYXBwbElkIGFwcGxJZFxuICAgICAqIEBwYXJhbSBhcHBsSWRzIFxuICAgICAqIEBwYXJhbSBhcHBsU3RhdHVzR3JvdXBDb2RlIFxuICAgICAqIEBwYXJhbSBhcmFNYXRjaFN0YXR1cyBcbiAgICAgKiBAcGFyYW0gY2FuY2VyQWN0aXZpdGllcyBcbiAgICAgKiBAcGFyYW0gY29tcG9zZWRHcmFudE51bWJlciBcbiAgICAgKiBAcGFyYW0gZHVhbENhcyBcbiAgICAgKiBAcGFyYW0gZm9ybWVyR3JhbnROdW1iZXIgXG4gICAgICogQHBhcmFtIGZ5RnJvbSBcbiAgICAgKiBAcGFyYW0gZnlUbyBcbiAgICAgKiBAcGFyYW0gZ3JhbnRJYyBcbiAgICAgKiBAcGFyYW0gZ3JhbnRNZWNoIFxuICAgICAqIEBwYXJhbSBncmFudFNlcmlhbCBcbiAgICAgKiBAcGFyYW0gZ3JhbnRTdWZmaXggXG4gICAgICogQHBhcmFtIGdyYW50c1dpdENhIFxuICAgICAqIEBwYXJhbSBncmFudFR5cGUgXG4gICAgICogQHBhcmFtIGdyYW50WWVhciBcbiAgICAgKiBAcGFyYW0gZ3JvdXBDb2RlIFxuICAgICAqIEBwYXJhbSBpbmNsdWRlRGVsZXRlZCBcbiAgICAgKiBAcGFyYW0gaW5jbHVkZU9ycGhhbnMgXG4gICAgICogQHBhcmFtIGluc3RpdHV0aW9uIFxuICAgICAqIEBwYXJhbSBpcmdDb2RlIFxuICAgICAqIEBwYXJhbSBpcmdGbGV4Q29kZSBcbiAgICAgKiBAcGFyYW0gbXlDYW5jZXJBY3Rpdml0aWVzIFxuICAgICAqIEBwYXJhbSBuY2FiRnJvbSBcbiAgICAgKiBAcGFyYW0gbmNhYlRvIFxuICAgICAqIEBwYXJhbSBub3RpZnlGbGFnIFxuICAgICAqIEBwYXJhbSBucG5JZCBcbiAgICAgKiBAcGFyYW0gb3JkZXJCeSBvcmRlckJ5XG4gICAgICogQHBhcmFtIHBkQXNzaWdubWVudFNlYXJjaCBcbiAgICAgKiBAcGFyYW0gcGRJZCBcbiAgICAgKiBAcGFyYW0gcGlOYW1lIFxuICAgICAqIEBwYXJhbSByZWZlcnJhbE9mZmljZXIgXG4gICAgICogQHBhcmFtIHJlZmVycmFsU3RhdHVzIFxuICAgICAqIEBwYXJhbSByZmFQYU51bWJlciBcbiAgICAgKiBAcGFyYW0gcm9sZSBcbiAgICAgKiBAcGFyYW0gcm9OcG5JZCBcbiAgICAgKiBAcGFyYW0gc2VsZWN0RnJvbSBcbiAgICAgKiBAcGFyYW0gc3JhRGVzaWduYXRvckNvZGUgXG4gICAgICogQHBhcmFtIHNyYUZsZXhDb2RlIFxuICAgICAqIEBwYXJhbSB3QlNlYXJjaCBcbiAgICAgKiBAcGFyYW0gb2JzZXJ2ZSBzZXQgd2hldGhlciBvciBub3QgdG8gcmV0dXJuIHRoZSBkYXRhIE9ic2VydmFibGUgYXMgdGhlIGJvZHksIHJlc3BvbnNlIG9yIGV2ZW50cy4gZGVmYXVsdHMgdG8gcmV0dXJuaW5nIHRoZSBib2R5LlxuICAgICAqIEBwYXJhbSByZXBvcnRQcm9ncmVzcyBmbGFnIHRvIHJlcG9ydCByZXF1ZXN0IGFuZCByZXNwb25zZSBwcm9ncmVzcy5cbiAgICAgKi9cbiAgICBwdWJsaWMgc2VhcmNoR3JhbnRzRm9yUERBc3NpZ25tZW50VXNpbmdHRVQocmVtYWluaW5nUGFyYW1zOiBhbnksIGFjY2Vzc2lvbk51bT86IG51bWJlciwgYWN0aXZlU2VnbWVudHM/OiBib29sZWFuLCBhcHBsSWQ/OiBBcnJheTxudW1iZXI+LCBhcHBsSWRzPzogQXJyYXk8bnVtYmVyPiwgYXBwbFN0YXR1c0dyb3VwQ29kZT86IEFycmF5PHN0cmluZz4sIGFyYU1hdGNoU3RhdHVzPzogQXJyYXk8c3RyaW5nPiwgY2FuY2VyQWN0aXZpdGllcz86IEFycmF5PHN0cmluZz4sIGNvbXBvc2VkR3JhbnROdW1iZXI/OiBzdHJpbmcsIGR1YWxDYXM/OiBib29sZWFuLCBmb3JtZXJHcmFudE51bWJlcj86IHN0cmluZywgZnlGcm9tPzogbnVtYmVyLCBmeVRvPzogbnVtYmVyLCBncmFudEljPzogc3RyaW5nLCBncmFudE1lY2g/OiBzdHJpbmcsIGdyYW50U2VyaWFsPzogc3RyaW5nLCBncmFudFN1ZmZpeD86IHN0cmluZywgZ3JhbnRzV2l0Q2E/OiBib29sZWFuLCBncmFudFR5cGU/OiBzdHJpbmcsIGdyYW50WWVhcj86IHN0cmluZywgZ3JvdXBDb2RlPzogc3RyaW5nLCBpbmNsdWRlRGVsZXRlZD86IGJvb2xlYW4sIGluY2x1ZGVPcnBoYW5zPzogYm9vbGVhbiwgaW5zdGl0dXRpb24/OiBzdHJpbmcsIGlyZ0NvZGU/OiBzdHJpbmcsIGlyZ0ZsZXhDb2RlPzogc3RyaW5nLCBteUNhbmNlckFjdGl2aXRpZXM/OiBBcnJheTxzdHJpbmc+LCBuY2FiRnJvbT86IHN0cmluZywgbmNhYlRvPzogc3RyaW5nLCBub3RpZnlGbGFnPzogc3RyaW5nLCBucG5JZD86IG51bWJlciwgb3JkZXJCeT86IHN0cmluZywgcGRBc3NpZ25tZW50U2VhcmNoPzogYm9vbGVhbiwgcGRJZD86IG51bWJlciwgcGlOYW1lPzogc3RyaW5nLCByZWZlcnJhbE9mZmljZXI/OiBudW1iZXIsIHJlZmVycmFsU3RhdHVzPzogQXJyYXk8c3RyaW5nPiwgcmZhUGFOdW1iZXI/OiBBcnJheTxzdHJpbmc+LCByb2xlPzogc3RyaW5nLCByb05wbklkPzogbnVtYmVyLCBzZWxlY3RGcm9tPzogc3RyaW5nLCBzcmFEZXNpZ25hdG9yQ29kZT86IHN0cmluZywgc3JhRmxleENvZGU/OiBzdHJpbmcsIHdCU2VhcmNoPzogYm9vbGVhbiwgb2JzZXJ2ZT86ICdib2R5JywgcmVwb3J0UHJvZ3Jlc3M/OiBib29sZWFuKTogT2JzZXJ2YWJsZTxhbnk+O1xuICAgIHB1YmxpYyBzZWFyY2hHcmFudHNGb3JQREFzc2lnbm1lbnRVc2luZ0dFVChyZW1haW5pbmdQYXJhbXM6IGFueSwgYWNjZXNzaW9uTnVtPzogbnVtYmVyLCBhY3RpdmVTZWdtZW50cz86IGJvb2xlYW4sIGFwcGxJZD86IEFycmF5PG51bWJlcj4sIGFwcGxJZHM/OiBBcnJheTxudW1iZXI+LCBhcHBsU3RhdHVzR3JvdXBDb2RlPzogQXJyYXk8c3RyaW5nPiwgYXJhTWF0Y2hTdGF0dXM/OiBBcnJheTxzdHJpbmc+LCBjYW5jZXJBY3Rpdml0aWVzPzogQXJyYXk8c3RyaW5nPiwgY29tcG9zZWRHcmFudE51bWJlcj86IHN0cmluZywgZHVhbENhcz86IGJvb2xlYW4sIGZvcm1lckdyYW50TnVtYmVyPzogc3RyaW5nLCBmeUZyb20/OiBudW1iZXIsIGZ5VG8/OiBudW1iZXIsIGdyYW50SWM/OiBzdHJpbmcsIGdyYW50TWVjaD86IHN0cmluZywgZ3JhbnRTZXJpYWw/OiBzdHJpbmcsIGdyYW50U3VmZml4Pzogc3RyaW5nLCBncmFudHNXaXRDYT86IGJvb2xlYW4sIGdyYW50VHlwZT86IHN0cmluZywgZ3JhbnRZZWFyPzogc3RyaW5nLCBncm91cENvZGU/OiBzdHJpbmcsIGluY2x1ZGVEZWxldGVkPzogYm9vbGVhbiwgaW5jbHVkZU9ycGhhbnM/OiBib29sZWFuLCBpbnN0aXR1dGlvbj86IHN0cmluZywgaXJnQ29kZT86IHN0cmluZywgaXJnRmxleENvZGU/OiBzdHJpbmcsIG15Q2FuY2VyQWN0aXZpdGllcz86IEFycmF5PHN0cmluZz4sIG5jYWJGcm9tPzogc3RyaW5nLCBuY2FiVG8/OiBzdHJpbmcsIG5vdGlmeUZsYWc/OiBzdHJpbmcsIG5wbklkPzogbnVtYmVyLCBvcmRlckJ5Pzogc3RyaW5nLCBwZEFzc2lnbm1lbnRTZWFyY2g/OiBib29sZWFuLCBwZElkPzogbnVtYmVyLCBwaU5hbWU/OiBzdHJpbmcsIHJlZmVycmFsT2ZmaWNlcj86IG51bWJlciwgcmVmZXJyYWxTdGF0dXM/OiBBcnJheTxzdHJpbmc+LCByZmFQYU51bWJlcj86IEFycmF5PHN0cmluZz4sIHJvbGU/OiBzdHJpbmcsIHJvTnBuSWQ/OiBudW1iZXIsIHNlbGVjdEZyb20/OiBzdHJpbmcsIHNyYURlc2lnbmF0b3JDb2RlPzogc3RyaW5nLCBzcmFGbGV4Q29kZT86IHN0cmluZywgd0JTZWFyY2g/OiBib29sZWFuLCBvYnNlcnZlPzogJ3Jlc3BvbnNlJywgcmVwb3J0UHJvZ3Jlc3M/OiBib29sZWFuKTogT2JzZXJ2YWJsZTxIdHRwUmVzcG9uc2U8YW55Pj47XG4gICAgcHVibGljIHNlYXJjaEdyYW50c0ZvclBEQXNzaWdubWVudFVzaW5nR0VUKHJlbWFpbmluZ1BhcmFtczogYW55LCBhY2Nlc3Npb25OdW0/OiBudW1iZXIsIGFjdGl2ZVNlZ21lbnRzPzogYm9vbGVhbiwgYXBwbElkPzogQXJyYXk8bnVtYmVyPiwgYXBwbElkcz86IEFycmF5PG51bWJlcj4sIGFwcGxTdGF0dXNHcm91cENvZGU/OiBBcnJheTxzdHJpbmc+LCBhcmFNYXRjaFN0YXR1cz86IEFycmF5PHN0cmluZz4sIGNhbmNlckFjdGl2aXRpZXM/OiBBcnJheTxzdHJpbmc+LCBjb21wb3NlZEdyYW50TnVtYmVyPzogc3RyaW5nLCBkdWFsQ2FzPzogYm9vbGVhbiwgZm9ybWVyR3JhbnROdW1iZXI/OiBzdHJpbmcsIGZ5RnJvbT86IG51bWJlciwgZnlUbz86IG51bWJlciwgZ3JhbnRJYz86IHN0cmluZywgZ3JhbnRNZWNoPzogc3RyaW5nLCBncmFudFNlcmlhbD86IHN0cmluZywgZ3JhbnRTdWZmaXg/OiBzdHJpbmcsIGdyYW50c1dpdENhPzogYm9vbGVhbiwgZ3JhbnRUeXBlPzogc3RyaW5nLCBncmFudFllYXI/OiBzdHJpbmcsIGdyb3VwQ29kZT86IHN0cmluZywgaW5jbHVkZURlbGV0ZWQ/OiBib29sZWFuLCBpbmNsdWRlT3JwaGFucz86IGJvb2xlYW4sIGluc3RpdHV0aW9uPzogc3RyaW5nLCBpcmdDb2RlPzogc3RyaW5nLCBpcmdGbGV4Q29kZT86IHN0cmluZywgbXlDYW5jZXJBY3Rpdml0aWVzPzogQXJyYXk8c3RyaW5nPiwgbmNhYkZyb20/OiBzdHJpbmcsIG5jYWJUbz86IHN0cmluZywgbm90aWZ5RmxhZz86IHN0cmluZywgbnBuSWQ/OiBudW1iZXIsIG9yZGVyQnk/OiBzdHJpbmcsIHBkQXNzaWdubWVudFNlYXJjaD86IGJvb2xlYW4sIHBkSWQ/OiBudW1iZXIsIHBpTmFtZT86IHN0cmluZywgcmVmZXJyYWxPZmZpY2VyPzogbnVtYmVyLCByZWZlcnJhbFN0YXR1cz86IEFycmF5PHN0cmluZz4sIHJmYVBhTnVtYmVyPzogQXJyYXk8c3RyaW5nPiwgcm9sZT86IHN0cmluZywgcm9OcG5JZD86IG51bWJlciwgc2VsZWN0RnJvbT86IHN0cmluZywgc3JhRGVzaWduYXRvckNvZGU/OiBzdHJpbmcsIHNyYUZsZXhDb2RlPzogc3RyaW5nLCB3QlNlYXJjaD86IGJvb2xlYW4sIG9ic2VydmU/OiAnZXZlbnRzJywgcmVwb3J0UHJvZ3Jlc3M/OiBib29sZWFuKTogT2JzZXJ2YWJsZTxIdHRwRXZlbnQ8YW55Pj47XG4gICAgcHVibGljIHNlYXJjaEdyYW50c0ZvclBEQXNzaWdubWVudFVzaW5nR0VUKHJlbWFpbmluZ1BhcmFtczogYW55LCBhY2Nlc3Npb25OdW0/OiBudW1iZXIsIGFjdGl2ZVNlZ21lbnRzPzogYm9vbGVhbiwgYXBwbElkPzogQXJyYXk8bnVtYmVyPiwgYXBwbElkcz86IEFycmF5PG51bWJlcj4sIGFwcGxTdGF0dXNHcm91cENvZGU/OiBBcnJheTxzdHJpbmc+LCBhcmFNYXRjaFN0YXR1cz86IEFycmF5PHN0cmluZz4sIGNhbmNlckFjdGl2aXRpZXM/OiBBcnJheTxzdHJpbmc+LCBjb21wb3NlZEdyYW50TnVtYmVyPzogc3RyaW5nLCBkdWFsQ2FzPzogYm9vbGVhbiwgZm9ybWVyR3JhbnROdW1iZXI/OiBzdHJpbmcsIGZ5RnJvbT86IG51bWJlciwgZnlUbz86IG51bWJlciwgZ3JhbnRJYz86IHN0cmluZywgZ3JhbnRNZWNoPzogc3RyaW5nLCBncmFudFNlcmlhbD86IHN0cmluZywgZ3JhbnRTdWZmaXg/OiBzdHJpbmcsIGdyYW50c1dpdENhPzogYm9vbGVhbiwgZ3JhbnRUeXBlPzogc3RyaW5nLCBncmFudFllYXI/OiBzdHJpbmcsIGdyb3VwQ29kZT86IHN0cmluZywgaW5jbHVkZURlbGV0ZWQ/OiBib29sZWFuLCBpbmNsdWRlT3JwaGFucz86IGJvb2xlYW4sIGluc3RpdHV0aW9uPzogc3RyaW5nLCBpcmdDb2RlPzogc3RyaW5nLCBpcmdGbGV4Q29kZT86IHN0cmluZywgbXlDYW5jZXJBY3Rpdml0aWVzPzogQXJyYXk8c3RyaW5nPiwgbmNhYkZyb20/OiBzdHJpbmcsIG5jYWJUbz86IHN0cmluZywgbm90aWZ5RmxhZz86IHN0cmluZywgbnBuSWQ/OiBudW1iZXIsIG9yZGVyQnk/OiBzdHJpbmcsIHBkQXNzaWdubWVudFNlYXJjaD86IGJvb2xlYW4sIHBkSWQ/OiBudW1iZXIsIHBpTmFtZT86IHN0cmluZywgcmVmZXJyYWxPZmZpY2VyPzogbnVtYmVyLCByZWZlcnJhbFN0YXR1cz86IEFycmF5PHN0cmluZz4sIHJmYVBhTnVtYmVyPzogQXJyYXk8c3RyaW5nPiwgcm9sZT86IHN0cmluZywgcm9OcG5JZD86IG51bWJlciwgc2VsZWN0RnJvbT86IHN0cmluZywgc3JhRGVzaWduYXRvckNvZGU/OiBzdHJpbmcsIHNyYUZsZXhDb2RlPzogc3RyaW5nLCB3QlNlYXJjaD86IGJvb2xlYW4sIG9ic2VydmU6IGFueSA9ICdib2R5JywgcmVwb3J0UHJvZ3Jlc3M6IGJvb2xlYW4gPSBmYWxzZSApOiBPYnNlcnZhYmxlPGFueT4ge1xuXG4gICAgICAgIGlmIChyZW1haW5pbmdQYXJhbXMgPT09IG51bGwgfHwgcmVtYWluaW5nUGFyYW1zID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIHJlbWFpbmluZ1BhcmFtcyB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIHNlYXJjaEdyYW50c0ZvclBEQXNzaWdubWVudFVzaW5nR0VULicpO1xuICAgICAgICB9XG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuICAgICAgICBsZXQgcXVlcnlQYXJhbWV0ZXJzID0gbmV3IEh0dHBQYXJhbXMoe2VuY29kZXI6IG5ldyBDdXN0b21IdHRwVXJsRW5jb2RpbmdDb2RlYygpfSk7XG4gICAgICAgIGlmIChhY2Nlc3Npb25OdW0gIT09IHVuZGVmaW5lZCAmJiBhY2Nlc3Npb25OdW0gIT09IG51bGwpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycyA9IHF1ZXJ5UGFyYW1ldGVycy5zZXQoJ2FjY2Vzc2lvbk51bScsIDxhbnk+YWNjZXNzaW9uTnVtKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYWN0aXZlU2VnbWVudHMgIT09IHVuZGVmaW5lZCAmJiBhY3RpdmVTZWdtZW50cyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gcXVlcnlQYXJhbWV0ZXJzLnNldCgnYWN0aXZlU2VnbWVudHMnLCA8YW55PmFjdGl2ZVNlZ21lbnRzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYXBwbElkKSB7XG4gICAgICAgICAgICBhcHBsSWQuZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xuICAgICAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycyA9IHF1ZXJ5UGFyYW1ldGVycy5hcHBlbmQoJ2FwcGxJZCcsIDxhbnk+ZWxlbWVudCk7XG4gICAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICAgIGlmIChhcHBsSWRzKSB7XG4gICAgICAgICAgICBhcHBsSWRzLmZvckVhY2goKGVsZW1lbnQpID0+IHtcbiAgICAgICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSBxdWVyeVBhcmFtZXRlcnMuYXBwZW5kKCdhcHBsSWRzJywgPGFueT5lbGVtZW50KTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgICAgaWYgKGFwcGxTdGF0dXNHcm91cENvZGUpIHtcbiAgICAgICAgICAgIGFwcGxTdGF0dXNHcm91cENvZGUuZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xuICAgICAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycyA9IHF1ZXJ5UGFyYW1ldGVycy5hcHBlbmQoJ2FwcGxTdGF0dXNHcm91cENvZGUnLCA8YW55PmVsZW1lbnQpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgICBpZiAoYXJhTWF0Y2hTdGF0dXMpIHtcbiAgICAgICAgICAgIGFyYU1hdGNoU3RhdHVzLmZvckVhY2goKGVsZW1lbnQpID0+IHtcbiAgICAgICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSBxdWVyeVBhcmFtZXRlcnMuYXBwZW5kKCdhcmFNYXRjaFN0YXR1cycsIDxhbnk+ZWxlbWVudCk7XG4gICAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICAgIGlmIChjYW5jZXJBY3Rpdml0aWVzKSB7XG4gICAgICAgICAgICBjYW5jZXJBY3Rpdml0aWVzLmZvckVhY2goKGVsZW1lbnQpID0+IHtcbiAgICAgICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSBxdWVyeVBhcmFtZXRlcnMuYXBwZW5kKCdjYW5jZXJBY3Rpdml0aWVzJywgPGFueT5lbGVtZW50KTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbXBvc2VkR3JhbnROdW1iZXIgIT09IHVuZGVmaW5lZCAmJiBjb21wb3NlZEdyYW50TnVtYmVyICE9PSBudWxsKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSBxdWVyeVBhcmFtZXRlcnMuc2V0KCdjb21wb3NlZEdyYW50TnVtYmVyJywgPGFueT5jb21wb3NlZEdyYW50TnVtYmVyKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZHVhbENhcyAhPT0gdW5kZWZpbmVkICYmIGR1YWxDYXMgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycyA9IHF1ZXJ5UGFyYW1ldGVycy5zZXQoJ2R1YWxDYXMnLCA8YW55PmR1YWxDYXMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmb3JtZXJHcmFudE51bWJlciAhPT0gdW5kZWZpbmVkICYmIGZvcm1lckdyYW50TnVtYmVyICE9PSBudWxsKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSBxdWVyeVBhcmFtZXRlcnMuc2V0KCdmb3JtZXJHcmFudE51bWJlcicsIDxhbnk+Zm9ybWVyR3JhbnROdW1iZXIpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmeUZyb20gIT09IHVuZGVmaW5lZCAmJiBmeUZyb20gIT09IG51bGwpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycyA9IHF1ZXJ5UGFyYW1ldGVycy5zZXQoJ2Z5RnJvbScsIDxhbnk+ZnlGcm9tKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZnlUbyAhPT0gdW5kZWZpbmVkICYmIGZ5VG8gIT09IG51bGwpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycyA9IHF1ZXJ5UGFyYW1ldGVycy5zZXQoJ2Z5VG8nLCA8YW55PmZ5VG8pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChncmFudEljICE9PSB1bmRlZmluZWQgJiYgZ3JhbnRJYyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gcXVlcnlQYXJhbWV0ZXJzLnNldCgnZ3JhbnRJYycsIDxhbnk+Z3JhbnRJYyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGdyYW50TWVjaCAhPT0gdW5kZWZpbmVkICYmIGdyYW50TWVjaCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gcXVlcnlQYXJhbWV0ZXJzLnNldCgnZ3JhbnRNZWNoJywgPGFueT5ncmFudE1lY2gpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChncmFudFNlcmlhbCAhPT0gdW5kZWZpbmVkICYmIGdyYW50U2VyaWFsICE9PSBudWxsKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSBxdWVyeVBhcmFtZXRlcnMuc2V0KCdncmFudFNlcmlhbCcsIDxhbnk+Z3JhbnRTZXJpYWwpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChncmFudFN1ZmZpeCAhPT0gdW5kZWZpbmVkICYmIGdyYW50U3VmZml4ICE9PSBudWxsKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSBxdWVyeVBhcmFtZXRlcnMuc2V0KCdncmFudFN1ZmZpeCcsIDxhbnk+Z3JhbnRTdWZmaXgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChncmFudHNXaXRDYSAhPT0gdW5kZWZpbmVkICYmIGdyYW50c1dpdENhICE9PSBudWxsKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSBxdWVyeVBhcmFtZXRlcnMuc2V0KCdncmFudHNXaXRDYScsIDxhbnk+Z3JhbnRzV2l0Q2EpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChncmFudFR5cGUgIT09IHVuZGVmaW5lZCAmJiBncmFudFR5cGUgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycyA9IHF1ZXJ5UGFyYW1ldGVycy5zZXQoJ2dyYW50VHlwZScsIDxhbnk+Z3JhbnRUeXBlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZ3JhbnRZZWFyICE9PSB1bmRlZmluZWQgJiYgZ3JhbnRZZWFyICE9PSBudWxsKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSBxdWVyeVBhcmFtZXRlcnMuc2V0KCdncmFudFllYXInLCA8YW55PmdyYW50WWVhcik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGdyb3VwQ29kZSAhPT0gdW5kZWZpbmVkICYmIGdyb3VwQ29kZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gcXVlcnlQYXJhbWV0ZXJzLnNldCgnZ3JvdXBDb2RlJywgPGFueT5ncm91cENvZGUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbmNsdWRlRGVsZXRlZCAhPT0gdW5kZWZpbmVkICYmIGluY2x1ZGVEZWxldGVkICE9PSBudWxsKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSBxdWVyeVBhcmFtZXRlcnMuc2V0KCdpbmNsdWRlRGVsZXRlZCcsIDxhbnk+aW5jbHVkZURlbGV0ZWQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbmNsdWRlT3JwaGFucyAhPT0gdW5kZWZpbmVkICYmIGluY2x1ZGVPcnBoYW5zICE9PSBudWxsKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSBxdWVyeVBhcmFtZXRlcnMuc2V0KCdpbmNsdWRlT3JwaGFucycsIDxhbnk+aW5jbHVkZU9ycGhhbnMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbnN0aXR1dGlvbiAhPT0gdW5kZWZpbmVkICYmIGluc3RpdHV0aW9uICE9PSBudWxsKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSBxdWVyeVBhcmFtZXRlcnMuc2V0KCdpbnN0aXR1dGlvbicsIDxhbnk+aW5zdGl0dXRpb24pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpcmdDb2RlICE9PSB1bmRlZmluZWQgJiYgaXJnQ29kZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gcXVlcnlQYXJhbWV0ZXJzLnNldCgnaXJnQ29kZScsIDxhbnk+aXJnQ29kZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlyZ0ZsZXhDb2RlICE9PSB1bmRlZmluZWQgJiYgaXJnRmxleENvZGUgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycyA9IHF1ZXJ5UGFyYW1ldGVycy5zZXQoJ2lyZ0ZsZXhDb2RlJywgPGFueT5pcmdGbGV4Q29kZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG15Q2FuY2VyQWN0aXZpdGllcykge1xuICAgICAgICAgICAgbXlDYW5jZXJBY3Rpdml0aWVzLmZvckVhY2goKGVsZW1lbnQpID0+IHtcbiAgICAgICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSBxdWVyeVBhcmFtZXRlcnMuYXBwZW5kKCdteUNhbmNlckFjdGl2aXRpZXMnLCA8YW55PmVsZW1lbnQpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgICBpZiAobmNhYkZyb20gIT09IHVuZGVmaW5lZCAmJiBuY2FiRnJvbSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gcXVlcnlQYXJhbWV0ZXJzLnNldCgnbmNhYkZyb20nLCA8YW55Pm5jYWJGcm9tKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobmNhYlRvICE9PSB1bmRlZmluZWQgJiYgbmNhYlRvICE9PSBudWxsKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSBxdWVyeVBhcmFtZXRlcnMuc2V0KCduY2FiVG8nLCA8YW55Pm5jYWJUbyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5vdGlmeUZsYWcgIT09IHVuZGVmaW5lZCAmJiBub3RpZnlGbGFnICE9PSBudWxsKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSBxdWVyeVBhcmFtZXRlcnMuc2V0KCdub3RpZnlGbGFnJywgPGFueT5ub3RpZnlGbGFnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobnBuSWQgIT09IHVuZGVmaW5lZCAmJiBucG5JZCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gcXVlcnlQYXJhbWV0ZXJzLnNldCgnbnBuSWQnLCA8YW55Pm5wbklkKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3JkZXJCeSAhPT0gdW5kZWZpbmVkICYmIG9yZGVyQnkgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycyA9IHF1ZXJ5UGFyYW1ldGVycy5zZXQoJ29yZGVyQnknLCA8YW55Pm9yZGVyQnkpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwZEFzc2lnbm1lbnRTZWFyY2ggIT09IHVuZGVmaW5lZCAmJiBwZEFzc2lnbm1lbnRTZWFyY2ggIT09IG51bGwpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycyA9IHF1ZXJ5UGFyYW1ldGVycy5zZXQoJ3BkQXNzaWdubWVudFNlYXJjaCcsIDxhbnk+cGRBc3NpZ25tZW50U2VhcmNoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGRJZCAhPT0gdW5kZWZpbmVkICYmIHBkSWQgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycyA9IHF1ZXJ5UGFyYW1ldGVycy5zZXQoJ3BkSWQnLCA8YW55PnBkSWQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwaU5hbWUgIT09IHVuZGVmaW5lZCAmJiBwaU5hbWUgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycyA9IHF1ZXJ5UGFyYW1ldGVycy5zZXQoJ3BpTmFtZScsIDxhbnk+cGlOYW1lKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVmZXJyYWxPZmZpY2VyICE9PSB1bmRlZmluZWQgJiYgcmVmZXJyYWxPZmZpY2VyICE9PSBudWxsKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSBxdWVyeVBhcmFtZXRlcnMuc2V0KCdyZWZlcnJhbE9mZmljZXInLCA8YW55PnJlZmVycmFsT2ZmaWNlcik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlZmVycmFsU3RhdHVzKSB7XG4gICAgICAgICAgICByZWZlcnJhbFN0YXR1cy5mb3JFYWNoKChlbGVtZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gcXVlcnlQYXJhbWV0ZXJzLmFwcGVuZCgncmVmZXJyYWxTdGF0dXMnLCA8YW55PmVsZW1lbnQpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVtYWluaW5nUGFyYW1zICE9PSB1bmRlZmluZWQgJiYgcmVtYWluaW5nUGFyYW1zICE9PSBudWxsKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSBxdWVyeVBhcmFtZXRlcnMuc2V0KCdyZW1haW5pbmdQYXJhbXMnLCA8YW55PnJlbWFpbmluZ1BhcmFtcyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJmYVBhTnVtYmVyKSB7XG4gICAgICAgICAgICByZmFQYU51bWJlci5mb3JFYWNoKChlbGVtZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gcXVlcnlQYXJhbWV0ZXJzLmFwcGVuZCgncmZhUGFOdW1iZXInLCA8YW55PmVsZW1lbnQpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgICBpZiAocm9sZSAhPT0gdW5kZWZpbmVkICYmIHJvbGUgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycyA9IHF1ZXJ5UGFyYW1ldGVycy5zZXQoJ3JvbGUnLCA8YW55PnJvbGUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyb05wbklkICE9PSB1bmRlZmluZWQgJiYgcm9OcG5JZCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gcXVlcnlQYXJhbWV0ZXJzLnNldCgncm9OcG5JZCcsIDxhbnk+cm9OcG5JZCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNlbGVjdEZyb20gIT09IHVuZGVmaW5lZCAmJiBzZWxlY3RGcm9tICE9PSBudWxsKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSBxdWVyeVBhcmFtZXRlcnMuc2V0KCdzZWxlY3RGcm9tJywgPGFueT5zZWxlY3RGcm9tKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3JhRGVzaWduYXRvckNvZGUgIT09IHVuZGVmaW5lZCAmJiBzcmFEZXNpZ25hdG9yQ29kZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gcXVlcnlQYXJhbWV0ZXJzLnNldCgnc3JhRGVzaWduYXRvckNvZGUnLCA8YW55PnNyYURlc2lnbmF0b3JDb2RlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3JhRmxleENvZGUgIT09IHVuZGVmaW5lZCAmJiBzcmFGbGV4Q29kZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gcXVlcnlQYXJhbWV0ZXJzLnNldCgnc3JhRmxleENvZGUnLCA8YW55PnNyYUZsZXhDb2RlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAod0JTZWFyY2ggIT09IHVuZGVmaW5lZCAmJiB3QlNlYXJjaCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gcXVlcnlQYXJhbWV0ZXJzLnNldCgnV0JTZWFyY2gnLCA8YW55PndCU2VhcmNoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBoZWFkZXJzID0gdGhpcy5kZWZhdWx0SGVhZGVycztcblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIEFjY2VwdCBoZWFkZXJcbiAgICAgICAgbGV0IGh0dHBIZWFkZXJBY2NlcHRzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgICAgICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICdhcHBsaWNhdGlvbi94bWwnXG4gICAgICAgIF07XG4gICAgICAgIGNvbnN0IGh0dHBIZWFkZXJBY2NlcHRTZWxlY3RlZDogc3RyaW5nIHwgdW5kZWZpbmVkID0gdGhpcy5jb25maWd1cmF0aW9uLnNlbGVjdEhlYWRlckFjY2VwdChodHRwSGVhZGVyQWNjZXB0cyk7XG4gICAgICAgIGlmIChodHRwSGVhZGVyQWNjZXB0U2VsZWN0ZWQgIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBoZWFkZXJzID0gaGVhZGVycy5zZXQoJ0FjY2VwdCcsIGh0dHBIZWFkZXJBY2NlcHRTZWxlY3RlZCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIENvbnRlbnQtVHlwZSBoZWFkZXJcbiAgICAgICAgY29uc3QgY29uc3VtZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICBdO1xuXG4gICAgICAgIHJldHVybiB0aGlzLmh0dHBDbGllbnQuZ2V0PGFueT4oYCR7dGhpcy5iYXNlUGF0aH0vYXBpL3YxL3BkLWFzc2lnbm1lbnQvc2VhcmNoYCxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBwYXJhbXM6IHF1ZXJ5UGFyYW1ldGVycyxcbiAgICAgICAgICAgICAgICB3aXRoQ3JlZGVudGlhbHM6IHRoaXMuY29uZmlndXJhdGlvbi53aXRoQ3JlZGVudGlhbHMsXG4gICAgICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgICAgICAgICAgICBvYnNlcnZlOiBvYnNlcnZlLFxuICAgICAgICAgICAgICAgIHJlcG9ydFByb2dyZXNzOiByZXBvcnRQcm9ncmVzc1xuICAgICAgICAgICAgfVxuICAgICAgICApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIHNlYXJjaFJlZmVycmFsR3JhbnRzXG4gICAgICogXG4gICAgICogQHBhcmFtIHJlbWFpbmluZ1BhcmFtcyByZW1haW5pbmdQYXJhbXNcbiAgICAgKiBAcGFyYW0gYWNjZXNzaW9uTnVtIFxuICAgICAqIEBwYXJhbSBhY3RpdmVTZWdtZW50cyBcbiAgICAgKiBAcGFyYW0gYXBwbElkcyBcbiAgICAgKiBAcGFyYW0gYXBwbFN0YXR1c0dyb3VwQ29kZSBcbiAgICAgKiBAcGFyYW0gYXJhTWF0Y2hTdGF0dXMgXG4gICAgICogQHBhcmFtIGNhbmNlckFjdGl2aXRpZXMgXG4gICAgICogQHBhcmFtIGNvbXBvc2VkR3JhbnROdW1iZXIgXG4gICAgICogQHBhcmFtIGR1YWxDYXMgXG4gICAgICogQHBhcmFtIGZvcm1lckdyYW50TnVtYmVyIFxuICAgICAqIEBwYXJhbSBmeUZyb20gXG4gICAgICogQHBhcmFtIGZ5VG8gXG4gICAgICogQHBhcmFtIGdyYW50SWMgXG4gICAgICogQHBhcmFtIGdyYW50TWVjaCBcbiAgICAgKiBAcGFyYW0gZ3JhbnRTZXJpYWwgXG4gICAgICogQHBhcmFtIGdyYW50U3VmZml4IFxuICAgICAqIEBwYXJhbSBncmFudHNXaXRDYSBcbiAgICAgKiBAcGFyYW0gZ3JhbnRUeXBlIFxuICAgICAqIEBwYXJhbSBncmFudFllYXIgXG4gICAgICogQHBhcmFtIGdyb3VwQ29kZSBcbiAgICAgKiBAcGFyYW0gaW5jbHVkZURlbGV0ZWQgXG4gICAgICogQHBhcmFtIGluY2x1ZGVPcnBoYW5zIFxuICAgICAqIEBwYXJhbSBpbnN0aXR1dGlvbiBcbiAgICAgKiBAcGFyYW0gaXJnQ29kZSBcbiAgICAgKiBAcGFyYW0gaXJnRmxleENvZGUgXG4gICAgICogQHBhcmFtIG15Q2FuY2VyQWN0aXZpdGllcyBcbiAgICAgKiBAcGFyYW0gbmNhYkZyb20gXG4gICAgICogQHBhcmFtIG5jYWJUbyBcbiAgICAgKiBAcGFyYW0gbm90aWZ5RmxhZyBcbiAgICAgKiBAcGFyYW0gbnBuSWQgXG4gICAgICogQHBhcmFtIG9yZGVyQnkgb3JkZXJCeVxuICAgICAqIEBwYXJhbSBwZEFzc2lnbm1lbnRTZWFyY2ggXG4gICAgICogQHBhcmFtIHBkSWQgXG4gICAgICogQHBhcmFtIHBpTmFtZSBcbiAgICAgKiBAcGFyYW0gcmVmZXJyYWxPZmZpY2VyIFxuICAgICAqIEBwYXJhbSByZWZlcnJhbFN0YXR1cyBcbiAgICAgKiBAcGFyYW0gcmZhUGFOdW1iZXIgXG4gICAgICogQHBhcmFtIHJvbGUgXG4gICAgICogQHBhcmFtIHJvTnBuSWQgXG4gICAgICogQHBhcmFtIHNlbGVjdEZyb20gXG4gICAgICogQHBhcmFtIHNyYURlc2lnbmF0b3JDb2RlIFxuICAgICAqIEBwYXJhbSBzcmFGbGV4Q29kZSBcbiAgICAgKiBAcGFyYW0gd0JTZWFyY2ggXG4gICAgICogQHBhcmFtIG9ic2VydmUgc2V0IHdoZXRoZXIgb3Igbm90IHRvIHJldHVybiB0aGUgZGF0YSBPYnNlcnZhYmxlIGFzIHRoZSBib2R5LCByZXNwb25zZSBvciBldmVudHMuIGRlZmF1bHRzIHRvIHJldHVybmluZyB0aGUgYm9keS5cbiAgICAgKiBAcGFyYW0gcmVwb3J0UHJvZ3Jlc3MgZmxhZyB0byByZXBvcnQgcmVxdWVzdCBhbmQgcmVzcG9uc2UgcHJvZ3Jlc3MuXG4gICAgICovXG4gICAgcHVibGljIHNlYXJjaFJlZmVycmFsR3JhbnRzVXNpbmdHRVQocmVtYWluaW5nUGFyYW1zOiBhbnksIGFjY2Vzc2lvbk51bT86IG51bWJlciwgYWN0aXZlU2VnbWVudHM/OiBib29sZWFuLCBhcHBsSWRzPzogQXJyYXk8bnVtYmVyPiwgYXBwbFN0YXR1c0dyb3VwQ29kZT86IEFycmF5PHN0cmluZz4sIGFyYU1hdGNoU3RhdHVzPzogQXJyYXk8c3RyaW5nPiwgY2FuY2VyQWN0aXZpdGllcz86IEFycmF5PHN0cmluZz4sIGNvbXBvc2VkR3JhbnROdW1iZXI/OiBzdHJpbmcsIGR1YWxDYXM/OiBib29sZWFuLCBmb3JtZXJHcmFudE51bWJlcj86IHN0cmluZywgZnlGcm9tPzogbnVtYmVyLCBmeVRvPzogbnVtYmVyLCBncmFudEljPzogc3RyaW5nLCBncmFudE1lY2g/OiBzdHJpbmcsIGdyYW50U2VyaWFsPzogc3RyaW5nLCBncmFudFN1ZmZpeD86IHN0cmluZywgZ3JhbnRzV2l0Q2E/OiBib29sZWFuLCBncmFudFR5cGU/OiBzdHJpbmcsIGdyYW50WWVhcj86IHN0cmluZywgZ3JvdXBDb2RlPzogc3RyaW5nLCBpbmNsdWRlRGVsZXRlZD86IGJvb2xlYW4sIGluY2x1ZGVPcnBoYW5zPzogYm9vbGVhbiwgaW5zdGl0dXRpb24/OiBzdHJpbmcsIGlyZ0NvZGU/OiBzdHJpbmcsIGlyZ0ZsZXhDb2RlPzogc3RyaW5nLCBteUNhbmNlckFjdGl2aXRpZXM/OiBBcnJheTxzdHJpbmc+LCBuY2FiRnJvbT86IHN0cmluZywgbmNhYlRvPzogc3RyaW5nLCBub3RpZnlGbGFnPzogc3RyaW5nLCBucG5JZD86IG51bWJlciwgb3JkZXJCeT86IHN0cmluZywgcGRBc3NpZ25tZW50U2VhcmNoPzogYm9vbGVhbiwgcGRJZD86IG51bWJlciwgcGlOYW1lPzogc3RyaW5nLCByZWZlcnJhbE9mZmljZXI/OiBudW1iZXIsIHJlZmVycmFsU3RhdHVzPzogQXJyYXk8c3RyaW5nPiwgcmZhUGFOdW1iZXI/OiBBcnJheTxzdHJpbmc+LCByb2xlPzogc3RyaW5nLCByb05wbklkPzogbnVtYmVyLCBzZWxlY3RGcm9tPzogc3RyaW5nLCBzcmFEZXNpZ25hdG9yQ29kZT86IHN0cmluZywgc3JhRmxleENvZGU/OiBzdHJpbmcsIHdCU2VhcmNoPzogYm9vbGVhbiwgb2JzZXJ2ZT86ICdib2R5JywgcmVwb3J0UHJvZ3Jlc3M/OiBib29sZWFuKTogT2JzZXJ2YWJsZTxhbnk+O1xuICAgIHB1YmxpYyBzZWFyY2hSZWZlcnJhbEdyYW50c1VzaW5nR0VUKHJlbWFpbmluZ1BhcmFtczogYW55LCBhY2Nlc3Npb25OdW0/OiBudW1iZXIsIGFjdGl2ZVNlZ21lbnRzPzogYm9vbGVhbiwgYXBwbElkcz86IEFycmF5PG51bWJlcj4sIGFwcGxTdGF0dXNHcm91cENvZGU/OiBBcnJheTxzdHJpbmc+LCBhcmFNYXRjaFN0YXR1cz86IEFycmF5PHN0cmluZz4sIGNhbmNlckFjdGl2aXRpZXM/OiBBcnJheTxzdHJpbmc+LCBjb21wb3NlZEdyYW50TnVtYmVyPzogc3RyaW5nLCBkdWFsQ2FzPzogYm9vbGVhbiwgZm9ybWVyR3JhbnROdW1iZXI/OiBzdHJpbmcsIGZ5RnJvbT86IG51bWJlciwgZnlUbz86IG51bWJlciwgZ3JhbnRJYz86IHN0cmluZywgZ3JhbnRNZWNoPzogc3RyaW5nLCBncmFudFNlcmlhbD86IHN0cmluZywgZ3JhbnRTdWZmaXg/OiBzdHJpbmcsIGdyYW50c1dpdENhPzogYm9vbGVhbiwgZ3JhbnRUeXBlPzogc3RyaW5nLCBncmFudFllYXI/OiBzdHJpbmcsIGdyb3VwQ29kZT86IHN0cmluZywgaW5jbHVkZURlbGV0ZWQ/OiBib29sZWFuLCBpbmNsdWRlT3JwaGFucz86IGJvb2xlYW4sIGluc3RpdHV0aW9uPzogc3RyaW5nLCBpcmdDb2RlPzogc3RyaW5nLCBpcmdGbGV4Q29kZT86IHN0cmluZywgbXlDYW5jZXJBY3Rpdml0aWVzPzogQXJyYXk8c3RyaW5nPiwgbmNhYkZyb20/OiBzdHJpbmcsIG5jYWJUbz86IHN0cmluZywgbm90aWZ5RmxhZz86IHN0cmluZywgbnBuSWQ/OiBudW1iZXIsIG9yZGVyQnk/OiBzdHJpbmcsIHBkQXNzaWdubWVudFNlYXJjaD86IGJvb2xlYW4sIHBkSWQ/OiBudW1iZXIsIHBpTmFtZT86IHN0cmluZywgcmVmZXJyYWxPZmZpY2VyPzogbnVtYmVyLCByZWZlcnJhbFN0YXR1cz86IEFycmF5PHN0cmluZz4sIHJmYVBhTnVtYmVyPzogQXJyYXk8c3RyaW5nPiwgcm9sZT86IHN0cmluZywgcm9OcG5JZD86IG51bWJlciwgc2VsZWN0RnJvbT86IHN0cmluZywgc3JhRGVzaWduYXRvckNvZGU/OiBzdHJpbmcsIHNyYUZsZXhDb2RlPzogc3RyaW5nLCB3QlNlYXJjaD86IGJvb2xlYW4sIG9ic2VydmU/OiAncmVzcG9uc2UnLCByZXBvcnRQcm9ncmVzcz86IGJvb2xlYW4pOiBPYnNlcnZhYmxlPEh0dHBSZXNwb25zZTxhbnk+PjtcbiAgICBwdWJsaWMgc2VhcmNoUmVmZXJyYWxHcmFudHNVc2luZ0dFVChyZW1haW5pbmdQYXJhbXM6IGFueSwgYWNjZXNzaW9uTnVtPzogbnVtYmVyLCBhY3RpdmVTZWdtZW50cz86IGJvb2xlYW4sIGFwcGxJZHM/OiBBcnJheTxudW1iZXI+LCBhcHBsU3RhdHVzR3JvdXBDb2RlPzogQXJyYXk8c3RyaW5nPiwgYXJhTWF0Y2hTdGF0dXM/OiBBcnJheTxzdHJpbmc+LCBjYW5jZXJBY3Rpdml0aWVzPzogQXJyYXk8c3RyaW5nPiwgY29tcG9zZWRHcmFudE51bWJlcj86IHN0cmluZywgZHVhbENhcz86IGJvb2xlYW4sIGZvcm1lckdyYW50TnVtYmVyPzogc3RyaW5nLCBmeUZyb20/OiBudW1iZXIsIGZ5VG8/OiBudW1iZXIsIGdyYW50SWM/OiBzdHJpbmcsIGdyYW50TWVjaD86IHN0cmluZywgZ3JhbnRTZXJpYWw/OiBzdHJpbmcsIGdyYW50U3VmZml4Pzogc3RyaW5nLCBncmFudHNXaXRDYT86IGJvb2xlYW4sIGdyYW50VHlwZT86IHN0cmluZywgZ3JhbnRZZWFyPzogc3RyaW5nLCBncm91cENvZGU/OiBzdHJpbmcsIGluY2x1ZGVEZWxldGVkPzogYm9vbGVhbiwgaW5jbHVkZU9ycGhhbnM/OiBib29sZWFuLCBpbnN0aXR1dGlvbj86IHN0cmluZywgaXJnQ29kZT86IHN0cmluZywgaXJnRmxleENvZGU/OiBzdHJpbmcsIG15Q2FuY2VyQWN0aXZpdGllcz86IEFycmF5PHN0cmluZz4sIG5jYWJGcm9tPzogc3RyaW5nLCBuY2FiVG8/OiBzdHJpbmcsIG5vdGlmeUZsYWc/OiBzdHJpbmcsIG5wbklkPzogbnVtYmVyLCBvcmRlckJ5Pzogc3RyaW5nLCBwZEFzc2lnbm1lbnRTZWFyY2g/OiBib29sZWFuLCBwZElkPzogbnVtYmVyLCBwaU5hbWU/OiBzdHJpbmcsIHJlZmVycmFsT2ZmaWNlcj86IG51bWJlciwgcmVmZXJyYWxTdGF0dXM/OiBBcnJheTxzdHJpbmc+LCByZmFQYU51bWJlcj86IEFycmF5PHN0cmluZz4sIHJvbGU/OiBzdHJpbmcsIHJvTnBuSWQ/OiBudW1iZXIsIHNlbGVjdEZyb20/OiBzdHJpbmcsIHNyYURlc2lnbmF0b3JDb2RlPzogc3RyaW5nLCBzcmFGbGV4Q29kZT86IHN0cmluZywgd0JTZWFyY2g/OiBib29sZWFuLCBvYnNlcnZlPzogJ2V2ZW50cycsIHJlcG9ydFByb2dyZXNzPzogYm9vbGVhbik6IE9ic2VydmFibGU8SHR0cEV2ZW50PGFueT4+O1xuICAgIHB1YmxpYyBzZWFyY2hSZWZlcnJhbEdyYW50c1VzaW5nR0VUKHJlbWFpbmluZ1BhcmFtczogYW55LCBhY2Nlc3Npb25OdW0/OiBudW1iZXIsIGFjdGl2ZVNlZ21lbnRzPzogYm9vbGVhbiwgYXBwbElkcz86IEFycmF5PG51bWJlcj4sIGFwcGxTdGF0dXNHcm91cENvZGU/OiBBcnJheTxzdHJpbmc+LCBhcmFNYXRjaFN0YXR1cz86IEFycmF5PHN0cmluZz4sIGNhbmNlckFjdGl2aXRpZXM/OiBBcnJheTxzdHJpbmc+LCBjb21wb3NlZEdyYW50TnVtYmVyPzogc3RyaW5nLCBkdWFsQ2FzPzogYm9vbGVhbiwgZm9ybWVyR3JhbnROdW1iZXI/OiBzdHJpbmcsIGZ5RnJvbT86IG51bWJlciwgZnlUbz86IG51bWJlciwgZ3JhbnRJYz86IHN0cmluZywgZ3JhbnRNZWNoPzogc3RyaW5nLCBncmFudFNlcmlhbD86IHN0cmluZywgZ3JhbnRTdWZmaXg/OiBzdHJpbmcsIGdyYW50c1dpdENhPzogYm9vbGVhbiwgZ3JhbnRUeXBlPzogc3RyaW5nLCBncmFudFllYXI/OiBzdHJpbmcsIGdyb3VwQ29kZT86IHN0cmluZywgaW5jbHVkZURlbGV0ZWQ/OiBib29sZWFuLCBpbmNsdWRlT3JwaGFucz86IGJvb2xlYW4sIGluc3RpdHV0aW9uPzogc3RyaW5nLCBpcmdDb2RlPzogc3RyaW5nLCBpcmdGbGV4Q29kZT86IHN0cmluZywgbXlDYW5jZXJBY3Rpdml0aWVzPzogQXJyYXk8c3RyaW5nPiwgbmNhYkZyb20/OiBzdHJpbmcsIG5jYWJUbz86IHN0cmluZywgbm90aWZ5RmxhZz86IHN0cmluZywgbnBuSWQ/OiBudW1iZXIsIG9yZGVyQnk/OiBzdHJpbmcsIHBkQXNzaWdubWVudFNlYXJjaD86IGJvb2xlYW4sIHBkSWQ/OiBudW1iZXIsIHBpTmFtZT86IHN0cmluZywgcmVmZXJyYWxPZmZpY2VyPzogbnVtYmVyLCByZWZlcnJhbFN0YXR1cz86IEFycmF5PHN0cmluZz4sIHJmYVBhTnVtYmVyPzogQXJyYXk8c3RyaW5nPiwgcm9sZT86IHN0cmluZywgcm9OcG5JZD86IG51bWJlciwgc2VsZWN0RnJvbT86IHN0cmluZywgc3JhRGVzaWduYXRvckNvZGU/OiBzdHJpbmcsIHNyYUZsZXhDb2RlPzogc3RyaW5nLCB3QlNlYXJjaD86IGJvb2xlYW4sIG9ic2VydmU6IGFueSA9ICdib2R5JywgcmVwb3J0UHJvZ3Jlc3M6IGJvb2xlYW4gPSBmYWxzZSApOiBPYnNlcnZhYmxlPGFueT4ge1xuXG4gICAgICAgIGlmIChyZW1haW5pbmdQYXJhbXMgPT09IG51bGwgfHwgcmVtYWluaW5nUGFyYW1zID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIHJlbWFpbmluZ1BhcmFtcyB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIHNlYXJjaFJlZmVycmFsR3JhbnRzVXNpbmdHRVQuJyk7XG4gICAgICAgIH1cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuICAgICAgICBsZXQgcXVlcnlQYXJhbWV0ZXJzID0gbmV3IEh0dHBQYXJhbXMoe2VuY29kZXI6IG5ldyBDdXN0b21IdHRwVXJsRW5jb2RpbmdDb2RlYygpfSk7XG4gICAgICAgIGlmIChhY2Nlc3Npb25OdW0gIT09IHVuZGVmaW5lZCAmJiBhY2Nlc3Npb25OdW0gIT09IG51bGwpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycyA9IHF1ZXJ5UGFyYW1ldGVycy5zZXQoJ2FjY2Vzc2lvbk51bScsIDxhbnk+YWNjZXNzaW9uTnVtKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYWN0aXZlU2VnbWVudHMgIT09IHVuZGVmaW5lZCAmJiBhY3RpdmVTZWdtZW50cyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gcXVlcnlQYXJhbWV0ZXJzLnNldCgnYWN0aXZlU2VnbWVudHMnLCA8YW55PmFjdGl2ZVNlZ21lbnRzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYXBwbElkcykge1xuICAgICAgICAgICAgYXBwbElkcy5mb3JFYWNoKChlbGVtZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gcXVlcnlQYXJhbWV0ZXJzLmFwcGVuZCgnYXBwbElkcycsIDxhbnk+ZWxlbWVudCk7XG4gICAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICAgIGlmIChhcHBsU3RhdHVzR3JvdXBDb2RlKSB7XG4gICAgICAgICAgICBhcHBsU3RhdHVzR3JvdXBDb2RlLmZvckVhY2goKGVsZW1lbnQpID0+IHtcbiAgICAgICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSBxdWVyeVBhcmFtZXRlcnMuYXBwZW5kKCdhcHBsU3RhdHVzR3JvdXBDb2RlJywgPGFueT5lbGVtZW50KTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgICAgaWYgKGFyYU1hdGNoU3RhdHVzKSB7XG4gICAgICAgICAgICBhcmFNYXRjaFN0YXR1cy5mb3JFYWNoKChlbGVtZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gcXVlcnlQYXJhbWV0ZXJzLmFwcGVuZCgnYXJhTWF0Y2hTdGF0dXMnLCA8YW55PmVsZW1lbnQpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2FuY2VyQWN0aXZpdGllcykge1xuICAgICAgICAgICAgY2FuY2VyQWN0aXZpdGllcy5mb3JFYWNoKChlbGVtZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gcXVlcnlQYXJhbWV0ZXJzLmFwcGVuZCgnY2FuY2VyQWN0aXZpdGllcycsIDxhbnk+ZWxlbWVudCk7XG4gICAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICAgIGlmIChjb21wb3NlZEdyYW50TnVtYmVyICE9PSB1bmRlZmluZWQgJiYgY29tcG9zZWRHcmFudE51bWJlciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gcXVlcnlQYXJhbWV0ZXJzLnNldCgnY29tcG9zZWRHcmFudE51bWJlcicsIDxhbnk+Y29tcG9zZWRHcmFudE51bWJlcik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGR1YWxDYXMgIT09IHVuZGVmaW5lZCAmJiBkdWFsQ2FzICE9PSBudWxsKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSBxdWVyeVBhcmFtZXRlcnMuc2V0KCdkdWFsQ2FzJywgPGFueT5kdWFsQ2FzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZm9ybWVyR3JhbnROdW1iZXIgIT09IHVuZGVmaW5lZCAmJiBmb3JtZXJHcmFudE51bWJlciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gcXVlcnlQYXJhbWV0ZXJzLnNldCgnZm9ybWVyR3JhbnROdW1iZXInLCA8YW55PmZvcm1lckdyYW50TnVtYmVyKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZnlGcm9tICE9PSB1bmRlZmluZWQgJiYgZnlGcm9tICE9PSBudWxsKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSBxdWVyeVBhcmFtZXRlcnMuc2V0KCdmeUZyb20nLCA8YW55PmZ5RnJvbSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZ5VG8gIT09IHVuZGVmaW5lZCAmJiBmeVRvICE9PSBudWxsKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSBxdWVyeVBhcmFtZXRlcnMuc2V0KCdmeVRvJywgPGFueT5meVRvKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZ3JhbnRJYyAhPT0gdW5kZWZpbmVkICYmIGdyYW50SWMgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycyA9IHF1ZXJ5UGFyYW1ldGVycy5zZXQoJ2dyYW50SWMnLCA8YW55PmdyYW50SWMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChncmFudE1lY2ggIT09IHVuZGVmaW5lZCAmJiBncmFudE1lY2ggIT09IG51bGwpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycyA9IHF1ZXJ5UGFyYW1ldGVycy5zZXQoJ2dyYW50TWVjaCcsIDxhbnk+Z3JhbnRNZWNoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZ3JhbnRTZXJpYWwgIT09IHVuZGVmaW5lZCAmJiBncmFudFNlcmlhbCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gcXVlcnlQYXJhbWV0ZXJzLnNldCgnZ3JhbnRTZXJpYWwnLCA8YW55PmdyYW50U2VyaWFsKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZ3JhbnRTdWZmaXggIT09IHVuZGVmaW5lZCAmJiBncmFudFN1ZmZpeCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gcXVlcnlQYXJhbWV0ZXJzLnNldCgnZ3JhbnRTdWZmaXgnLCA8YW55PmdyYW50U3VmZml4KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZ3JhbnRzV2l0Q2EgIT09IHVuZGVmaW5lZCAmJiBncmFudHNXaXRDYSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gcXVlcnlQYXJhbWV0ZXJzLnNldCgnZ3JhbnRzV2l0Q2EnLCA8YW55PmdyYW50c1dpdENhKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZ3JhbnRUeXBlICE9PSB1bmRlZmluZWQgJiYgZ3JhbnRUeXBlICE9PSBudWxsKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSBxdWVyeVBhcmFtZXRlcnMuc2V0KCdncmFudFR5cGUnLCA8YW55PmdyYW50VHlwZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGdyYW50WWVhciAhPT0gdW5kZWZpbmVkICYmIGdyYW50WWVhciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gcXVlcnlQYXJhbWV0ZXJzLnNldCgnZ3JhbnRZZWFyJywgPGFueT5ncmFudFllYXIpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChncm91cENvZGUgIT09IHVuZGVmaW5lZCAmJiBncm91cENvZGUgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycyA9IHF1ZXJ5UGFyYW1ldGVycy5zZXQoJ2dyb3VwQ29kZScsIDxhbnk+Z3JvdXBDb2RlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaW5jbHVkZURlbGV0ZWQgIT09IHVuZGVmaW5lZCAmJiBpbmNsdWRlRGVsZXRlZCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gcXVlcnlQYXJhbWV0ZXJzLnNldCgnaW5jbHVkZURlbGV0ZWQnLCA8YW55PmluY2x1ZGVEZWxldGVkKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaW5jbHVkZU9ycGhhbnMgIT09IHVuZGVmaW5lZCAmJiBpbmNsdWRlT3JwaGFucyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gcXVlcnlQYXJhbWV0ZXJzLnNldCgnaW5jbHVkZU9ycGhhbnMnLCA8YW55PmluY2x1ZGVPcnBoYW5zKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaW5zdGl0dXRpb24gIT09IHVuZGVmaW5lZCAmJiBpbnN0aXR1dGlvbiAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gcXVlcnlQYXJhbWV0ZXJzLnNldCgnaW5zdGl0dXRpb24nLCA8YW55Pmluc3RpdHV0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXJnQ29kZSAhPT0gdW5kZWZpbmVkICYmIGlyZ0NvZGUgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycyA9IHF1ZXJ5UGFyYW1ldGVycy5zZXQoJ2lyZ0NvZGUnLCA8YW55PmlyZ0NvZGUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpcmdGbGV4Q29kZSAhPT0gdW5kZWZpbmVkICYmIGlyZ0ZsZXhDb2RlICE9PSBudWxsKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSBxdWVyeVBhcmFtZXRlcnMuc2V0KCdpcmdGbGV4Q29kZScsIDxhbnk+aXJnRmxleENvZGUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChteUNhbmNlckFjdGl2aXRpZXMpIHtcbiAgICAgICAgICAgIG15Q2FuY2VyQWN0aXZpdGllcy5mb3JFYWNoKChlbGVtZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gcXVlcnlQYXJhbWV0ZXJzLmFwcGVuZCgnbXlDYW5jZXJBY3Rpdml0aWVzJywgPGFueT5lbGVtZW50KTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5jYWJGcm9tICE9PSB1bmRlZmluZWQgJiYgbmNhYkZyb20gIT09IG51bGwpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycyA9IHF1ZXJ5UGFyYW1ldGVycy5zZXQoJ25jYWJGcm9tJywgPGFueT5uY2FiRnJvbSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5jYWJUbyAhPT0gdW5kZWZpbmVkICYmIG5jYWJUbyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gcXVlcnlQYXJhbWV0ZXJzLnNldCgnbmNhYlRvJywgPGFueT5uY2FiVG8pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChub3RpZnlGbGFnICE9PSB1bmRlZmluZWQgJiYgbm90aWZ5RmxhZyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gcXVlcnlQYXJhbWV0ZXJzLnNldCgnbm90aWZ5RmxhZycsIDxhbnk+bm90aWZ5RmxhZyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5wbklkICE9PSB1bmRlZmluZWQgJiYgbnBuSWQgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycyA9IHF1ZXJ5UGFyYW1ldGVycy5zZXQoJ25wbklkJywgPGFueT5ucG5JZCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9yZGVyQnkgIT09IHVuZGVmaW5lZCAmJiBvcmRlckJ5ICE9PSBudWxsKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSBxdWVyeVBhcmFtZXRlcnMuc2V0KCdvcmRlckJ5JywgPGFueT5vcmRlckJ5KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGRBc3NpZ25tZW50U2VhcmNoICE9PSB1bmRlZmluZWQgJiYgcGRBc3NpZ25tZW50U2VhcmNoICE9PSBudWxsKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSBxdWVyeVBhcmFtZXRlcnMuc2V0KCdwZEFzc2lnbm1lbnRTZWFyY2gnLCA8YW55PnBkQXNzaWdubWVudFNlYXJjaCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBkSWQgIT09IHVuZGVmaW5lZCAmJiBwZElkICE9PSBudWxsKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSBxdWVyeVBhcmFtZXRlcnMuc2V0KCdwZElkJywgPGFueT5wZElkKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGlOYW1lICE9PSB1bmRlZmluZWQgJiYgcGlOYW1lICE9PSBudWxsKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSBxdWVyeVBhcmFtZXRlcnMuc2V0KCdwaU5hbWUnLCA8YW55PnBpTmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlZmVycmFsT2ZmaWNlciAhPT0gdW5kZWZpbmVkICYmIHJlZmVycmFsT2ZmaWNlciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gcXVlcnlQYXJhbWV0ZXJzLnNldCgncmVmZXJyYWxPZmZpY2VyJywgPGFueT5yZWZlcnJhbE9mZmljZXIpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZWZlcnJhbFN0YXR1cykge1xuICAgICAgICAgICAgcmVmZXJyYWxTdGF0dXMuZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xuICAgICAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycyA9IHF1ZXJ5UGFyYW1ldGVycy5hcHBlbmQoJ3JlZmVycmFsU3RhdHVzJywgPGFueT5lbGVtZW50KTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlbWFpbmluZ1BhcmFtcyAhPT0gdW5kZWZpbmVkICYmIHJlbWFpbmluZ1BhcmFtcyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gcXVlcnlQYXJhbWV0ZXJzLnNldCgncmVtYWluaW5nUGFyYW1zJywgPGFueT5yZW1haW5pbmdQYXJhbXMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZmFQYU51bWJlcikge1xuICAgICAgICAgICAgcmZhUGFOdW1iZXIuZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xuICAgICAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycyA9IHF1ZXJ5UGFyYW1ldGVycy5hcHBlbmQoJ3JmYVBhTnVtYmVyJywgPGFueT5lbGVtZW50KTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJvbGUgIT09IHVuZGVmaW5lZCAmJiByb2xlICE9PSBudWxsKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSBxdWVyeVBhcmFtZXRlcnMuc2V0KCdyb2xlJywgPGFueT5yb2xlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocm9OcG5JZCAhPT0gdW5kZWZpbmVkICYmIHJvTnBuSWQgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycyA9IHF1ZXJ5UGFyYW1ldGVycy5zZXQoJ3JvTnBuSWQnLCA8YW55PnJvTnBuSWQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzZWxlY3RGcm9tICE9PSB1bmRlZmluZWQgJiYgc2VsZWN0RnJvbSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gcXVlcnlQYXJhbWV0ZXJzLnNldCgnc2VsZWN0RnJvbScsIDxhbnk+c2VsZWN0RnJvbSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNyYURlc2lnbmF0b3JDb2RlICE9PSB1bmRlZmluZWQgJiYgc3JhRGVzaWduYXRvckNvZGUgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycyA9IHF1ZXJ5UGFyYW1ldGVycy5zZXQoJ3NyYURlc2lnbmF0b3JDb2RlJywgPGFueT5zcmFEZXNpZ25hdG9yQ29kZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNyYUZsZXhDb2RlICE9PSB1bmRlZmluZWQgJiYgc3JhRmxleENvZGUgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycyA9IHF1ZXJ5UGFyYW1ldGVycy5zZXQoJ3NyYUZsZXhDb2RlJywgPGFueT5zcmFGbGV4Q29kZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHdCU2VhcmNoICE9PSB1bmRlZmluZWQgJiYgd0JTZWFyY2ggIT09IG51bGwpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycyA9IHF1ZXJ5UGFyYW1ldGVycy5zZXQoJ1dCU2VhcmNoJywgPGFueT53QlNlYXJjaCk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgaGVhZGVycyA9IHRoaXMuZGVmYXVsdEhlYWRlcnM7XG5cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBBY2NlcHQgaGVhZGVyXG4gICAgICAgIGxldCBodHRwSGVhZGVyQWNjZXB0czogc3RyaW5nW10gPSBbXG4gICAgICAgICAgICAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICAnYXBwbGljYXRpb24veG1sJ1xuICAgICAgICBdO1xuICAgICAgICBjb25zdCBodHRwSGVhZGVyQWNjZXB0U2VsZWN0ZWQ6IHN0cmluZyB8IHVuZGVmaW5lZCA9IHRoaXMuY29uZmlndXJhdGlvbi5zZWxlY3RIZWFkZXJBY2NlcHQoaHR0cEhlYWRlckFjY2VwdHMpO1xuICAgICAgICBpZiAoaHR0cEhlYWRlckFjY2VwdFNlbGVjdGVkICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgaGVhZGVycyA9IGhlYWRlcnMuc2V0KCdBY2NlcHQnLCBodHRwSGVhZGVyQWNjZXB0U2VsZWN0ZWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBDb250ZW50LVR5cGUgaGVhZGVyXG4gICAgICAgIGNvbnN0IGNvbnN1bWVzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgXTtcblxuICAgICAgICByZXR1cm4gdGhpcy5odHRwQ2xpZW50LmdldDxhbnk+KGAke3RoaXMuYmFzZVBhdGh9L2FwaS92MS9yZWZlcnJhbC1ncmFudHMvc2VhcmNoYCxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBwYXJhbXM6IHF1ZXJ5UGFyYW1ldGVycyxcbiAgICAgICAgICAgICAgICB3aXRoQ3JlZGVudGlhbHM6IHRoaXMuY29uZmlndXJhdGlvbi53aXRoQ3JlZGVudGlhbHMsXG4gICAgICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgICAgICAgICAgICBvYnNlcnZlOiBvYnNlcnZlLFxuICAgICAgICAgICAgICAgIHJlcG9ydFByb2dyZXNzOiByZXBvcnRQcm9ncmVzc1xuICAgICAgICAgICAgfVxuICAgICAgICApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIHNlYXJjaFJlZmVycmFsR3JhbnRzXG4gICAgICogXG4gICAgICogQHBhcmFtIHJlbWFpbmluZ1BhcmFtcyByZW1haW5pbmdQYXJhbXNcbiAgICAgKiBAcGFyYW0gYWNjZXNzaW9uTnVtIFxuICAgICAqIEBwYXJhbSBhY3RpdmVTZWdtZW50cyBcbiAgICAgKiBAcGFyYW0gYXBwbElkcyBcbiAgICAgKiBAcGFyYW0gYXBwbFN0YXR1c0dyb3VwQ29kZSBcbiAgICAgKiBAcGFyYW0gYXJhTWF0Y2hTdGF0dXMgXG4gICAgICogQHBhcmFtIGNhbmNlckFjdGl2aXRpZXMgXG4gICAgICogQHBhcmFtIGNvbXBvc2VkR3JhbnROdW1iZXIgXG4gICAgICogQHBhcmFtIGR1YWxDYXMgXG4gICAgICogQHBhcmFtIGZvcm1lckdyYW50TnVtYmVyIFxuICAgICAqIEBwYXJhbSBmeUZyb20gXG4gICAgICogQHBhcmFtIGZ5VG8gXG4gICAgICogQHBhcmFtIGdyYW50SWMgXG4gICAgICogQHBhcmFtIGdyYW50TWVjaCBcbiAgICAgKiBAcGFyYW0gZ3JhbnRTZXJpYWwgXG4gICAgICogQHBhcmFtIGdyYW50U3VmZml4IFxuICAgICAqIEBwYXJhbSBncmFudHNXaXRDYSBcbiAgICAgKiBAcGFyYW0gZ3JhbnRUeXBlIFxuICAgICAqIEBwYXJhbSBncmFudFllYXIgXG4gICAgICogQHBhcmFtIGdyb3VwQ29kZSBcbiAgICAgKiBAcGFyYW0gaW5jbHVkZURlbGV0ZWQgXG4gICAgICogQHBhcmFtIGluY2x1ZGVPcnBoYW5zIFxuICAgICAqIEBwYXJhbSBpbnN0aXR1dGlvbiBcbiAgICAgKiBAcGFyYW0gaXJnQ29kZSBcbiAgICAgKiBAcGFyYW0gaXJnRmxleENvZGUgXG4gICAgICogQHBhcmFtIG15Q2FuY2VyQWN0aXZpdGllcyBcbiAgICAgKiBAcGFyYW0gbmNhYkZyb20gXG4gICAgICogQHBhcmFtIG5jYWJUbyBcbiAgICAgKiBAcGFyYW0gbm90aWZ5RmxhZyBcbiAgICAgKiBAcGFyYW0gbnBuSWQgXG4gICAgICogQHBhcmFtIG9yZGVyQnkgb3JkZXJCeVxuICAgICAqIEBwYXJhbSBwZEFzc2lnbm1lbnRTZWFyY2ggXG4gICAgICogQHBhcmFtIHBkSWQgXG4gICAgICogQHBhcmFtIHBpTmFtZSBcbiAgICAgKiBAcGFyYW0gcmVmZXJyYWxPZmZpY2VyIFxuICAgICAqIEBwYXJhbSByZWZlcnJhbFN0YXR1cyBcbiAgICAgKiBAcGFyYW0gcmZhUGFOdW1iZXIgXG4gICAgICogQHBhcmFtIHJvbGUgXG4gICAgICogQHBhcmFtIHJvTnBuSWQgXG4gICAgICogQHBhcmFtIHNlbGVjdEZyb20gXG4gICAgICogQHBhcmFtIHNyYURlc2lnbmF0b3JDb2RlIFxuICAgICAqIEBwYXJhbSBzcmFGbGV4Q29kZSBcbiAgICAgKiBAcGFyYW0gd0JTZWFyY2ggXG4gICAgICogQHBhcmFtIG9ic2VydmUgc2V0IHdoZXRoZXIgb3Igbm90IHRvIHJldHVybiB0aGUgZGF0YSBPYnNlcnZhYmxlIGFzIHRoZSBib2R5LCByZXNwb25zZSBvciBldmVudHMuIGRlZmF1bHRzIHRvIHJldHVybmluZyB0aGUgYm9keS5cbiAgICAgKiBAcGFyYW0gcmVwb3J0UHJvZ3Jlc3MgZmxhZyB0byByZXBvcnQgcmVxdWVzdCBhbmQgcmVzcG9uc2UgcHJvZ3Jlc3MuXG4gICAgICovXG4gICAgcHVibGljIHNlYXJjaFJlZmVycmFsR3JhbnRzVXNpbmdQT1NUKHJlbWFpbmluZ1BhcmFtczogYW55LCBhY2Nlc3Npb25OdW0/OiBudW1iZXIsIGFjdGl2ZVNlZ21lbnRzPzogYm9vbGVhbiwgYXBwbElkcz86IEFycmF5PG51bWJlcj4sIGFwcGxTdGF0dXNHcm91cENvZGU/OiBBcnJheTxzdHJpbmc+LCBhcmFNYXRjaFN0YXR1cz86IEFycmF5PHN0cmluZz4sIGNhbmNlckFjdGl2aXRpZXM/OiBBcnJheTxzdHJpbmc+LCBjb21wb3NlZEdyYW50TnVtYmVyPzogc3RyaW5nLCBkdWFsQ2FzPzogYm9vbGVhbiwgZm9ybWVyR3JhbnROdW1iZXI/OiBzdHJpbmcsIGZ5RnJvbT86IG51bWJlciwgZnlUbz86IG51bWJlciwgZ3JhbnRJYz86IHN0cmluZywgZ3JhbnRNZWNoPzogc3RyaW5nLCBncmFudFNlcmlhbD86IHN0cmluZywgZ3JhbnRTdWZmaXg/OiBzdHJpbmcsIGdyYW50c1dpdENhPzogYm9vbGVhbiwgZ3JhbnRUeXBlPzogc3RyaW5nLCBncmFudFllYXI/OiBzdHJpbmcsIGdyb3VwQ29kZT86IHN0cmluZywgaW5jbHVkZURlbGV0ZWQ/OiBib29sZWFuLCBpbmNsdWRlT3JwaGFucz86IGJvb2xlYW4sIGluc3RpdHV0aW9uPzogc3RyaW5nLCBpcmdDb2RlPzogc3RyaW5nLCBpcmdGbGV4Q29kZT86IHN0cmluZywgbXlDYW5jZXJBY3Rpdml0aWVzPzogQXJyYXk8c3RyaW5nPiwgbmNhYkZyb20/OiBzdHJpbmcsIG5jYWJUbz86IHN0cmluZywgbm90aWZ5RmxhZz86IHN0cmluZywgbnBuSWQ/OiBudW1iZXIsIG9yZGVyQnk/OiBzdHJpbmcsIHBkQXNzaWdubWVudFNlYXJjaD86IGJvb2xlYW4sIHBkSWQ/OiBudW1iZXIsIHBpTmFtZT86IHN0cmluZywgcmVmZXJyYWxPZmZpY2VyPzogbnVtYmVyLCByZWZlcnJhbFN0YXR1cz86IEFycmF5PHN0cmluZz4sIHJmYVBhTnVtYmVyPzogQXJyYXk8c3RyaW5nPiwgcm9sZT86IHN0cmluZywgcm9OcG5JZD86IG51bWJlciwgc2VsZWN0RnJvbT86IHN0cmluZywgc3JhRGVzaWduYXRvckNvZGU/OiBzdHJpbmcsIHNyYUZsZXhDb2RlPzogc3RyaW5nLCB3QlNlYXJjaD86IGJvb2xlYW4sIG9ic2VydmU/OiAnYm9keScsIHJlcG9ydFByb2dyZXNzPzogYm9vbGVhbik6IE9ic2VydmFibGU8YW55PjtcbiAgICBwdWJsaWMgc2VhcmNoUmVmZXJyYWxHcmFudHNVc2luZ1BPU1QocmVtYWluaW5nUGFyYW1zOiBhbnksIGFjY2Vzc2lvbk51bT86IG51bWJlciwgYWN0aXZlU2VnbWVudHM/OiBib29sZWFuLCBhcHBsSWRzPzogQXJyYXk8bnVtYmVyPiwgYXBwbFN0YXR1c0dyb3VwQ29kZT86IEFycmF5PHN0cmluZz4sIGFyYU1hdGNoU3RhdHVzPzogQXJyYXk8c3RyaW5nPiwgY2FuY2VyQWN0aXZpdGllcz86IEFycmF5PHN0cmluZz4sIGNvbXBvc2VkR3JhbnROdW1iZXI/OiBzdHJpbmcsIGR1YWxDYXM/OiBib29sZWFuLCBmb3JtZXJHcmFudE51bWJlcj86IHN0cmluZywgZnlGcm9tPzogbnVtYmVyLCBmeVRvPzogbnVtYmVyLCBncmFudEljPzogc3RyaW5nLCBncmFudE1lY2g/OiBzdHJpbmcsIGdyYW50U2VyaWFsPzogc3RyaW5nLCBncmFudFN1ZmZpeD86IHN0cmluZywgZ3JhbnRzV2l0Q2E/OiBib29sZWFuLCBncmFudFR5cGU/OiBzdHJpbmcsIGdyYW50WWVhcj86IHN0cmluZywgZ3JvdXBDb2RlPzogc3RyaW5nLCBpbmNsdWRlRGVsZXRlZD86IGJvb2xlYW4sIGluY2x1ZGVPcnBoYW5zPzogYm9vbGVhbiwgaW5zdGl0dXRpb24/OiBzdHJpbmcsIGlyZ0NvZGU/OiBzdHJpbmcsIGlyZ0ZsZXhDb2RlPzogc3RyaW5nLCBteUNhbmNlckFjdGl2aXRpZXM/OiBBcnJheTxzdHJpbmc+LCBuY2FiRnJvbT86IHN0cmluZywgbmNhYlRvPzogc3RyaW5nLCBub3RpZnlGbGFnPzogc3RyaW5nLCBucG5JZD86IG51bWJlciwgb3JkZXJCeT86IHN0cmluZywgcGRBc3NpZ25tZW50U2VhcmNoPzogYm9vbGVhbiwgcGRJZD86IG51bWJlciwgcGlOYW1lPzogc3RyaW5nLCByZWZlcnJhbE9mZmljZXI/OiBudW1iZXIsIHJlZmVycmFsU3RhdHVzPzogQXJyYXk8c3RyaW5nPiwgcmZhUGFOdW1iZXI/OiBBcnJheTxzdHJpbmc+LCByb2xlPzogc3RyaW5nLCByb05wbklkPzogbnVtYmVyLCBzZWxlY3RGcm9tPzogc3RyaW5nLCBzcmFEZXNpZ25hdG9yQ29kZT86IHN0cmluZywgc3JhRmxleENvZGU/OiBzdHJpbmcsIHdCU2VhcmNoPzogYm9vbGVhbiwgb2JzZXJ2ZT86ICdyZXNwb25zZScsIHJlcG9ydFByb2dyZXNzPzogYm9vbGVhbik6IE9ic2VydmFibGU8SHR0cFJlc3BvbnNlPGFueT4+O1xuICAgIHB1YmxpYyBzZWFyY2hSZWZlcnJhbEdyYW50c1VzaW5nUE9TVChyZW1haW5pbmdQYXJhbXM6IGFueSwgYWNjZXNzaW9uTnVtPzogbnVtYmVyLCBhY3RpdmVTZWdtZW50cz86IGJvb2xlYW4sIGFwcGxJZHM/OiBBcnJheTxudW1iZXI+LCBhcHBsU3RhdHVzR3JvdXBDb2RlPzogQXJyYXk8c3RyaW5nPiwgYXJhTWF0Y2hTdGF0dXM/OiBBcnJheTxzdHJpbmc+LCBjYW5jZXJBY3Rpdml0aWVzPzogQXJyYXk8c3RyaW5nPiwgY29tcG9zZWRHcmFudE51bWJlcj86IHN0cmluZywgZHVhbENhcz86IGJvb2xlYW4sIGZvcm1lckdyYW50TnVtYmVyPzogc3RyaW5nLCBmeUZyb20/OiBudW1iZXIsIGZ5VG8/OiBudW1iZXIsIGdyYW50SWM/OiBzdHJpbmcsIGdyYW50TWVjaD86IHN0cmluZywgZ3JhbnRTZXJpYWw/OiBzdHJpbmcsIGdyYW50U3VmZml4Pzogc3RyaW5nLCBncmFudHNXaXRDYT86IGJvb2xlYW4sIGdyYW50VHlwZT86IHN0cmluZywgZ3JhbnRZZWFyPzogc3RyaW5nLCBncm91cENvZGU/OiBzdHJpbmcsIGluY2x1ZGVEZWxldGVkPzogYm9vbGVhbiwgaW5jbHVkZU9ycGhhbnM/OiBib29sZWFuLCBpbnN0aXR1dGlvbj86IHN0cmluZywgaXJnQ29kZT86IHN0cmluZywgaXJnRmxleENvZGU/OiBzdHJpbmcsIG15Q2FuY2VyQWN0aXZpdGllcz86IEFycmF5PHN0cmluZz4sIG5jYWJGcm9tPzogc3RyaW5nLCBuY2FiVG8/OiBzdHJpbmcsIG5vdGlmeUZsYWc/OiBzdHJpbmcsIG5wbklkPzogbnVtYmVyLCBvcmRlckJ5Pzogc3RyaW5nLCBwZEFzc2lnbm1lbnRTZWFyY2g/OiBib29sZWFuLCBwZElkPzogbnVtYmVyLCBwaU5hbWU/OiBzdHJpbmcsIHJlZmVycmFsT2ZmaWNlcj86IG51bWJlciwgcmVmZXJyYWxTdGF0dXM/OiBBcnJheTxzdHJpbmc+LCByZmFQYU51bWJlcj86IEFycmF5PHN0cmluZz4sIHJvbGU/OiBzdHJpbmcsIHJvTnBuSWQ/OiBudW1iZXIsIHNlbGVjdEZyb20/OiBzdHJpbmcsIHNyYURlc2lnbmF0b3JDb2RlPzogc3RyaW5nLCBzcmFGbGV4Q29kZT86IHN0cmluZywgd0JTZWFyY2g/OiBib29sZWFuLCBvYnNlcnZlPzogJ2V2ZW50cycsIHJlcG9ydFByb2dyZXNzPzogYm9vbGVhbik6IE9ic2VydmFibGU8SHR0cEV2ZW50PGFueT4+O1xuICAgIHB1YmxpYyBzZWFyY2hSZWZlcnJhbEdyYW50c1VzaW5nUE9TVChyZW1haW5pbmdQYXJhbXM6IGFueSwgYWNjZXNzaW9uTnVtPzogbnVtYmVyLCBhY3RpdmVTZWdtZW50cz86IGJvb2xlYW4sIGFwcGxJZHM/OiBBcnJheTxudW1iZXI+LCBhcHBsU3RhdHVzR3JvdXBDb2RlPzogQXJyYXk8c3RyaW5nPiwgYXJhTWF0Y2hTdGF0dXM/OiBBcnJheTxzdHJpbmc+LCBjYW5jZXJBY3Rpdml0aWVzPzogQXJyYXk8c3RyaW5nPiwgY29tcG9zZWRHcmFudE51bWJlcj86IHN0cmluZywgZHVhbENhcz86IGJvb2xlYW4sIGZvcm1lckdyYW50TnVtYmVyPzogc3RyaW5nLCBmeUZyb20/OiBudW1iZXIsIGZ5VG8/OiBudW1iZXIsIGdyYW50SWM/OiBzdHJpbmcsIGdyYW50TWVjaD86IHN0cmluZywgZ3JhbnRTZXJpYWw/OiBzdHJpbmcsIGdyYW50U3VmZml4Pzogc3RyaW5nLCBncmFudHNXaXRDYT86IGJvb2xlYW4sIGdyYW50VHlwZT86IHN0cmluZywgZ3JhbnRZZWFyPzogc3RyaW5nLCBncm91cENvZGU/OiBzdHJpbmcsIGluY2x1ZGVEZWxldGVkPzogYm9vbGVhbiwgaW5jbHVkZU9ycGhhbnM/OiBib29sZWFuLCBpbnN0aXR1dGlvbj86IHN0cmluZywgaXJnQ29kZT86IHN0cmluZywgaXJnRmxleENvZGU/OiBzdHJpbmcsIG15Q2FuY2VyQWN0aXZpdGllcz86IEFycmF5PHN0cmluZz4sIG5jYWJGcm9tPzogc3RyaW5nLCBuY2FiVG8/OiBzdHJpbmcsIG5vdGlmeUZsYWc/OiBzdHJpbmcsIG5wbklkPzogbnVtYmVyLCBvcmRlckJ5Pzogc3RyaW5nLCBwZEFzc2lnbm1lbnRTZWFyY2g/OiBib29sZWFuLCBwZElkPzogbnVtYmVyLCBwaU5hbWU/OiBzdHJpbmcsIHJlZmVycmFsT2ZmaWNlcj86IG51bWJlciwgcmVmZXJyYWxTdGF0dXM/OiBBcnJheTxzdHJpbmc+LCByZmFQYU51bWJlcj86IEFycmF5PHN0cmluZz4sIHJvbGU/OiBzdHJpbmcsIHJvTnBuSWQ/OiBudW1iZXIsIHNlbGVjdEZyb20/OiBzdHJpbmcsIHNyYURlc2lnbmF0b3JDb2RlPzogc3RyaW5nLCBzcmFGbGV4Q29kZT86IHN0cmluZywgd0JTZWFyY2g/OiBib29sZWFuLCBvYnNlcnZlOiBhbnkgPSAnYm9keScsIHJlcG9ydFByb2dyZXNzOiBib29sZWFuID0gZmFsc2UgKTogT2JzZXJ2YWJsZTxhbnk+IHtcblxuICAgICAgICBpZiAocmVtYWluaW5nUGFyYW1zID09PSBudWxsIHx8IHJlbWFpbmluZ1BhcmFtcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciByZW1haW5pbmdQYXJhbXMgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBzZWFyY2hSZWZlcnJhbEdyYW50c1VzaW5nUE9TVC4nKTtcbiAgICAgICAgfVxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4gICAgICAgIGxldCBxdWVyeVBhcmFtZXRlcnMgPSBuZXcgSHR0cFBhcmFtcyh7ZW5jb2RlcjogbmV3IEN1c3RvbUh0dHBVcmxFbmNvZGluZ0NvZGVjKCl9KTtcbiAgICAgICAgaWYgKGFjY2Vzc2lvbk51bSAhPT0gdW5kZWZpbmVkICYmIGFjY2Vzc2lvbk51bSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gcXVlcnlQYXJhbWV0ZXJzLnNldCgnYWNjZXNzaW9uTnVtJywgPGFueT5hY2Nlc3Npb25OdW0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhY3RpdmVTZWdtZW50cyAhPT0gdW5kZWZpbmVkICYmIGFjdGl2ZVNlZ21lbnRzICE9PSBudWxsKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSBxdWVyeVBhcmFtZXRlcnMuc2V0KCdhY3RpdmVTZWdtZW50cycsIDxhbnk+YWN0aXZlU2VnbWVudHMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhcHBsSWRzKSB7XG4gICAgICAgICAgICBhcHBsSWRzLmZvckVhY2goKGVsZW1lbnQpID0+IHtcbiAgICAgICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSBxdWVyeVBhcmFtZXRlcnMuYXBwZW5kKCdhcHBsSWRzJywgPGFueT5lbGVtZW50KTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgICAgaWYgKGFwcGxTdGF0dXNHcm91cENvZGUpIHtcbiAgICAgICAgICAgIGFwcGxTdGF0dXNHcm91cENvZGUuZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xuICAgICAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycyA9IHF1ZXJ5UGFyYW1ldGVycy5hcHBlbmQoJ2FwcGxTdGF0dXNHcm91cENvZGUnLCA8YW55PmVsZW1lbnQpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgICBpZiAoYXJhTWF0Y2hTdGF0dXMpIHtcbiAgICAgICAgICAgIGFyYU1hdGNoU3RhdHVzLmZvckVhY2goKGVsZW1lbnQpID0+IHtcbiAgICAgICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSBxdWVyeVBhcmFtZXRlcnMuYXBwZW5kKCdhcmFNYXRjaFN0YXR1cycsIDxhbnk+ZWxlbWVudCk7XG4gICAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICAgIGlmIChjYW5jZXJBY3Rpdml0aWVzKSB7XG4gICAgICAgICAgICBjYW5jZXJBY3Rpdml0aWVzLmZvckVhY2goKGVsZW1lbnQpID0+IHtcbiAgICAgICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSBxdWVyeVBhcmFtZXRlcnMuYXBwZW5kKCdjYW5jZXJBY3Rpdml0aWVzJywgPGFueT5lbGVtZW50KTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbXBvc2VkR3JhbnROdW1iZXIgIT09IHVuZGVmaW5lZCAmJiBjb21wb3NlZEdyYW50TnVtYmVyICE9PSBudWxsKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSBxdWVyeVBhcmFtZXRlcnMuc2V0KCdjb21wb3NlZEdyYW50TnVtYmVyJywgPGFueT5jb21wb3NlZEdyYW50TnVtYmVyKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZHVhbENhcyAhPT0gdW5kZWZpbmVkICYmIGR1YWxDYXMgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycyA9IHF1ZXJ5UGFyYW1ldGVycy5zZXQoJ2R1YWxDYXMnLCA8YW55PmR1YWxDYXMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmb3JtZXJHcmFudE51bWJlciAhPT0gdW5kZWZpbmVkICYmIGZvcm1lckdyYW50TnVtYmVyICE9PSBudWxsKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSBxdWVyeVBhcmFtZXRlcnMuc2V0KCdmb3JtZXJHcmFudE51bWJlcicsIDxhbnk+Zm9ybWVyR3JhbnROdW1iZXIpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmeUZyb20gIT09IHVuZGVmaW5lZCAmJiBmeUZyb20gIT09IG51bGwpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycyA9IHF1ZXJ5UGFyYW1ldGVycy5zZXQoJ2Z5RnJvbScsIDxhbnk+ZnlGcm9tKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZnlUbyAhPT0gdW5kZWZpbmVkICYmIGZ5VG8gIT09IG51bGwpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycyA9IHF1ZXJ5UGFyYW1ldGVycy5zZXQoJ2Z5VG8nLCA8YW55PmZ5VG8pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChncmFudEljICE9PSB1bmRlZmluZWQgJiYgZ3JhbnRJYyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gcXVlcnlQYXJhbWV0ZXJzLnNldCgnZ3JhbnRJYycsIDxhbnk+Z3JhbnRJYyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGdyYW50TWVjaCAhPT0gdW5kZWZpbmVkICYmIGdyYW50TWVjaCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gcXVlcnlQYXJhbWV0ZXJzLnNldCgnZ3JhbnRNZWNoJywgPGFueT5ncmFudE1lY2gpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChncmFudFNlcmlhbCAhPT0gdW5kZWZpbmVkICYmIGdyYW50U2VyaWFsICE9PSBudWxsKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSBxdWVyeVBhcmFtZXRlcnMuc2V0KCdncmFudFNlcmlhbCcsIDxhbnk+Z3JhbnRTZXJpYWwpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChncmFudFN1ZmZpeCAhPT0gdW5kZWZpbmVkICYmIGdyYW50U3VmZml4ICE9PSBudWxsKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSBxdWVyeVBhcmFtZXRlcnMuc2V0KCdncmFudFN1ZmZpeCcsIDxhbnk+Z3JhbnRTdWZmaXgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChncmFudHNXaXRDYSAhPT0gdW5kZWZpbmVkICYmIGdyYW50c1dpdENhICE9PSBudWxsKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSBxdWVyeVBhcmFtZXRlcnMuc2V0KCdncmFudHNXaXRDYScsIDxhbnk+Z3JhbnRzV2l0Q2EpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChncmFudFR5cGUgIT09IHVuZGVmaW5lZCAmJiBncmFudFR5cGUgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycyA9IHF1ZXJ5UGFyYW1ldGVycy5zZXQoJ2dyYW50VHlwZScsIDxhbnk+Z3JhbnRUeXBlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZ3JhbnRZZWFyICE9PSB1bmRlZmluZWQgJiYgZ3JhbnRZZWFyICE9PSBudWxsKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSBxdWVyeVBhcmFtZXRlcnMuc2V0KCdncmFudFllYXInLCA8YW55PmdyYW50WWVhcik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGdyb3VwQ29kZSAhPT0gdW5kZWZpbmVkICYmIGdyb3VwQ29kZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gcXVlcnlQYXJhbWV0ZXJzLnNldCgnZ3JvdXBDb2RlJywgPGFueT5ncm91cENvZGUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbmNsdWRlRGVsZXRlZCAhPT0gdW5kZWZpbmVkICYmIGluY2x1ZGVEZWxldGVkICE9PSBudWxsKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSBxdWVyeVBhcmFtZXRlcnMuc2V0KCdpbmNsdWRlRGVsZXRlZCcsIDxhbnk+aW5jbHVkZURlbGV0ZWQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbmNsdWRlT3JwaGFucyAhPT0gdW5kZWZpbmVkICYmIGluY2x1ZGVPcnBoYW5zICE9PSBudWxsKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSBxdWVyeVBhcmFtZXRlcnMuc2V0KCdpbmNsdWRlT3JwaGFucycsIDxhbnk+aW5jbHVkZU9ycGhhbnMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbnN0aXR1dGlvbiAhPT0gdW5kZWZpbmVkICYmIGluc3RpdHV0aW9uICE9PSBudWxsKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSBxdWVyeVBhcmFtZXRlcnMuc2V0KCdpbnN0aXR1dGlvbicsIDxhbnk+aW5zdGl0dXRpb24pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpcmdDb2RlICE9PSB1bmRlZmluZWQgJiYgaXJnQ29kZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gcXVlcnlQYXJhbWV0ZXJzLnNldCgnaXJnQ29kZScsIDxhbnk+aXJnQ29kZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlyZ0ZsZXhDb2RlICE9PSB1bmRlZmluZWQgJiYgaXJnRmxleENvZGUgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycyA9IHF1ZXJ5UGFyYW1ldGVycy5zZXQoJ2lyZ0ZsZXhDb2RlJywgPGFueT5pcmdGbGV4Q29kZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG15Q2FuY2VyQWN0aXZpdGllcykge1xuICAgICAgICAgICAgbXlDYW5jZXJBY3Rpdml0aWVzLmZvckVhY2goKGVsZW1lbnQpID0+IHtcbiAgICAgICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSBxdWVyeVBhcmFtZXRlcnMuYXBwZW5kKCdteUNhbmNlckFjdGl2aXRpZXMnLCA8YW55PmVsZW1lbnQpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgICBpZiAobmNhYkZyb20gIT09IHVuZGVmaW5lZCAmJiBuY2FiRnJvbSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gcXVlcnlQYXJhbWV0ZXJzLnNldCgnbmNhYkZyb20nLCA8YW55Pm5jYWJGcm9tKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobmNhYlRvICE9PSB1bmRlZmluZWQgJiYgbmNhYlRvICE9PSBudWxsKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSBxdWVyeVBhcmFtZXRlcnMuc2V0KCduY2FiVG8nLCA8YW55Pm5jYWJUbyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5vdGlmeUZsYWcgIT09IHVuZGVmaW5lZCAmJiBub3RpZnlGbGFnICE9PSBudWxsKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSBxdWVyeVBhcmFtZXRlcnMuc2V0KCdub3RpZnlGbGFnJywgPGFueT5ub3RpZnlGbGFnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobnBuSWQgIT09IHVuZGVmaW5lZCAmJiBucG5JZCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gcXVlcnlQYXJhbWV0ZXJzLnNldCgnbnBuSWQnLCA8YW55Pm5wbklkKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3JkZXJCeSAhPT0gdW5kZWZpbmVkICYmIG9yZGVyQnkgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycyA9IHF1ZXJ5UGFyYW1ldGVycy5zZXQoJ29yZGVyQnknLCA8YW55Pm9yZGVyQnkpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwZEFzc2lnbm1lbnRTZWFyY2ggIT09IHVuZGVmaW5lZCAmJiBwZEFzc2lnbm1lbnRTZWFyY2ggIT09IG51bGwpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycyA9IHF1ZXJ5UGFyYW1ldGVycy5zZXQoJ3BkQXNzaWdubWVudFNlYXJjaCcsIDxhbnk+cGRBc3NpZ25tZW50U2VhcmNoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGRJZCAhPT0gdW5kZWZpbmVkICYmIHBkSWQgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycyA9IHF1ZXJ5UGFyYW1ldGVycy5zZXQoJ3BkSWQnLCA8YW55PnBkSWQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwaU5hbWUgIT09IHVuZGVmaW5lZCAmJiBwaU5hbWUgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycyA9IHF1ZXJ5UGFyYW1ldGVycy5zZXQoJ3BpTmFtZScsIDxhbnk+cGlOYW1lKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVmZXJyYWxPZmZpY2VyICE9PSB1bmRlZmluZWQgJiYgcmVmZXJyYWxPZmZpY2VyICE9PSBudWxsKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSBxdWVyeVBhcmFtZXRlcnMuc2V0KCdyZWZlcnJhbE9mZmljZXInLCA8YW55PnJlZmVycmFsT2ZmaWNlcik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlZmVycmFsU3RhdHVzKSB7XG4gICAgICAgICAgICByZWZlcnJhbFN0YXR1cy5mb3JFYWNoKChlbGVtZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gcXVlcnlQYXJhbWV0ZXJzLmFwcGVuZCgncmVmZXJyYWxTdGF0dXMnLCA8YW55PmVsZW1lbnQpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVtYWluaW5nUGFyYW1zICE9PSB1bmRlZmluZWQgJiYgcmVtYWluaW5nUGFyYW1zICE9PSBudWxsKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSBxdWVyeVBhcmFtZXRlcnMuc2V0KCdyZW1haW5pbmdQYXJhbXMnLCA8YW55PnJlbWFpbmluZ1BhcmFtcyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJmYVBhTnVtYmVyKSB7XG4gICAgICAgICAgICByZmFQYU51bWJlci5mb3JFYWNoKChlbGVtZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gcXVlcnlQYXJhbWV0ZXJzLmFwcGVuZCgncmZhUGFOdW1iZXInLCA8YW55PmVsZW1lbnQpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgICBpZiAocm9sZSAhPT0gdW5kZWZpbmVkICYmIHJvbGUgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycyA9IHF1ZXJ5UGFyYW1ldGVycy5zZXQoJ3JvbGUnLCA8YW55PnJvbGUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyb05wbklkICE9PSB1bmRlZmluZWQgJiYgcm9OcG5JZCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gcXVlcnlQYXJhbWV0ZXJzLnNldCgncm9OcG5JZCcsIDxhbnk+cm9OcG5JZCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNlbGVjdEZyb20gIT09IHVuZGVmaW5lZCAmJiBzZWxlY3RGcm9tICE9PSBudWxsKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSBxdWVyeVBhcmFtZXRlcnMuc2V0KCdzZWxlY3RGcm9tJywgPGFueT5zZWxlY3RGcm9tKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3JhRGVzaWduYXRvckNvZGUgIT09IHVuZGVmaW5lZCAmJiBzcmFEZXNpZ25hdG9yQ29kZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gcXVlcnlQYXJhbWV0ZXJzLnNldCgnc3JhRGVzaWduYXRvckNvZGUnLCA8YW55PnNyYURlc2lnbmF0b3JDb2RlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3JhRmxleENvZGUgIT09IHVuZGVmaW5lZCAmJiBzcmFGbGV4Q29kZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gcXVlcnlQYXJhbWV0ZXJzLnNldCgnc3JhRmxleENvZGUnLCA8YW55PnNyYUZsZXhDb2RlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAod0JTZWFyY2ggIT09IHVuZGVmaW5lZCAmJiB3QlNlYXJjaCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gcXVlcnlQYXJhbWV0ZXJzLnNldCgnV0JTZWFyY2gnLCA8YW55PndCU2VhcmNoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBoZWFkZXJzID0gdGhpcy5kZWZhdWx0SGVhZGVycztcblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIEFjY2VwdCBoZWFkZXJcbiAgICAgICAgbGV0IGh0dHBIZWFkZXJBY2NlcHRzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgICAgICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICdhcHBsaWNhdGlvbi94bWwnXG4gICAgICAgIF07XG4gICAgICAgIGNvbnN0IGh0dHBIZWFkZXJBY2NlcHRTZWxlY3RlZDogc3RyaW5nIHwgdW5kZWZpbmVkID0gdGhpcy5jb25maWd1cmF0aW9uLnNlbGVjdEhlYWRlckFjY2VwdChodHRwSGVhZGVyQWNjZXB0cyk7XG4gICAgICAgIGlmIChodHRwSGVhZGVyQWNjZXB0U2VsZWN0ZWQgIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBoZWFkZXJzID0gaGVhZGVycy5zZXQoJ0FjY2VwdCcsIGh0dHBIZWFkZXJBY2NlcHRTZWxlY3RlZCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIENvbnRlbnQtVHlwZSBoZWFkZXJcbiAgICAgICAgY29uc3QgY29uc3VtZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICAgICAgJ2FwcGxpY2F0aW9uL2pzb24nXG4gICAgICAgIF07XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuaHR0cENsaWVudC5wb3N0PGFueT4oYCR7dGhpcy5iYXNlUGF0aH0vYXBpL3YxL3JlZmVycmFsLWdyYW50cy9zZWFyY2hgLFxuICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBwYXJhbXM6IHF1ZXJ5UGFyYW1ldGVycyxcbiAgICAgICAgICAgICAgICB3aXRoQ3JlZGVudGlhbHM6IHRoaXMuY29uZmlndXJhdGlvbi53aXRoQ3JlZGVudGlhbHMsXG4gICAgICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgICAgICAgICAgICBvYnNlcnZlOiBvYnNlcnZlLFxuICAgICAgICAgICAgICAgIHJlcG9ydFByb2dyZXNzOiByZXBvcnRQcm9ncmVzc1xuICAgICAgICAgICAgfVxuICAgICAgICApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIHNlYXJjaFxuICAgICAqIFxuICAgICAqIEBwYXJhbSBhcHBsSWQgYXBwbElkXG4gICAgICogQHBhcmFtIGNhbmNlckFjdGl2aXR5IGNhbmNlckFjdGl2aXR5XG4gICAgICogQHBhcmFtIGdyYW50c1dpdGhvdXRJbnRlcmVzdCBncmFudHNXaXRob3V0SW50ZXJlc3RcbiAgICAgKiBAcGFyYW0gbWVjaCBtZWNoXG4gICAgICogQHBhcmFtIG1pbkRheXNTaW5jZVJlZmVycmFsIG1pbkRheXNTaW5jZVJlZmVycmFsXG4gICAgICogQHBhcmFtIG5jYWJGcm9tRGF0ZSBuY2FiRnJvbURhdGVcbiAgICAgKiBAcGFyYW0gbmNhYlRvRGF0ZSBuY2FiVG9EYXRlXG4gICAgICogQHBhcmFtIG9yZGVyQnkgb3JkZXJCeVxuICAgICAqIEBwYXJhbSBwb2NOcG5JZCBwb2NOcG5JZFxuICAgICAqIEBwYXJhbSByZWZlcnJhbERhdGVIaWdoIHJlZmVycmFsRGF0ZUhpZ2hcbiAgICAgKiBAcGFyYW0gcmVmZXJyYWxEYXRlTG93IHJlZmVycmFsRGF0ZUxvd1xuICAgICAqIEBwYXJhbSBvYnNlcnZlIHNldCB3aGV0aGVyIG9yIG5vdCB0byByZXR1cm4gdGhlIGRhdGEgT2JzZXJ2YWJsZSBhcyB0aGUgYm9keSwgcmVzcG9uc2Ugb3IgZXZlbnRzLiBkZWZhdWx0cyB0byByZXR1cm5pbmcgdGhlIGJvZHkuXG4gICAgICogQHBhcmFtIHJlcG9ydFByb2dyZXNzIGZsYWcgdG8gcmVwb3J0IHJlcXVlc3QgYW5kIHJlc3BvbnNlIHByb2dyZXNzLlxuICAgICAqL1xuICAgIHB1YmxpYyBzZWFyY2hVc2luZ0dFVChhcHBsSWQ/OiBBcnJheTxudW1iZXI+LCBjYW5jZXJBY3Rpdml0eT86IHN0cmluZywgZ3JhbnRzV2l0aG91dEludGVyZXN0PzogYm9vbGVhbiwgbWVjaD86IHN0cmluZywgbWluRGF5c1NpbmNlUmVmZXJyYWw/OiBudW1iZXIsIG5jYWJGcm9tRGF0ZT86IHN0cmluZywgbmNhYlRvRGF0ZT86IHN0cmluZywgb3JkZXJCeT86IHN0cmluZywgcG9jTnBuSWQ/OiBudW1iZXIsIHJlZmVycmFsRGF0ZUhpZ2g/OiBzdHJpbmcsIHJlZmVycmFsRGF0ZUxvdz86IHN0cmluZywgb2JzZXJ2ZT86ICdib2R5JywgcmVwb3J0UHJvZ3Jlc3M/OiBib29sZWFuKTogT2JzZXJ2YWJsZTxhbnk+O1xuICAgIHB1YmxpYyBzZWFyY2hVc2luZ0dFVChhcHBsSWQ/OiBBcnJheTxudW1iZXI+LCBjYW5jZXJBY3Rpdml0eT86IHN0cmluZywgZ3JhbnRzV2l0aG91dEludGVyZXN0PzogYm9vbGVhbiwgbWVjaD86IHN0cmluZywgbWluRGF5c1NpbmNlUmVmZXJyYWw/OiBudW1iZXIsIG5jYWJGcm9tRGF0ZT86IHN0cmluZywgbmNhYlRvRGF0ZT86IHN0cmluZywgb3JkZXJCeT86IHN0cmluZywgcG9jTnBuSWQ/OiBudW1iZXIsIHJlZmVycmFsRGF0ZUhpZ2g/OiBzdHJpbmcsIHJlZmVycmFsRGF0ZUxvdz86IHN0cmluZywgb2JzZXJ2ZT86ICdyZXNwb25zZScsIHJlcG9ydFByb2dyZXNzPzogYm9vbGVhbik6IE9ic2VydmFibGU8SHR0cFJlc3BvbnNlPGFueT4+O1xuICAgIHB1YmxpYyBzZWFyY2hVc2luZ0dFVChhcHBsSWQ/OiBBcnJheTxudW1iZXI+LCBjYW5jZXJBY3Rpdml0eT86IHN0cmluZywgZ3JhbnRzV2l0aG91dEludGVyZXN0PzogYm9vbGVhbiwgbWVjaD86IHN0cmluZywgbWluRGF5c1NpbmNlUmVmZXJyYWw/OiBudW1iZXIsIG5jYWJGcm9tRGF0ZT86IHN0cmluZywgbmNhYlRvRGF0ZT86IHN0cmluZywgb3JkZXJCeT86IHN0cmluZywgcG9jTnBuSWQ/OiBudW1iZXIsIHJlZmVycmFsRGF0ZUhpZ2g/OiBzdHJpbmcsIHJlZmVycmFsRGF0ZUxvdz86IHN0cmluZywgb2JzZXJ2ZT86ICdldmVudHMnLCByZXBvcnRQcm9ncmVzcz86IGJvb2xlYW4pOiBPYnNlcnZhYmxlPEh0dHBFdmVudDxhbnk+PjtcbiAgICBwdWJsaWMgc2VhcmNoVXNpbmdHRVQoYXBwbElkPzogQXJyYXk8bnVtYmVyPiwgY2FuY2VyQWN0aXZpdHk/OiBzdHJpbmcsIGdyYW50c1dpdGhvdXRJbnRlcmVzdD86IGJvb2xlYW4sIG1lY2g/OiBzdHJpbmcsIG1pbkRheXNTaW5jZVJlZmVycmFsPzogbnVtYmVyLCBuY2FiRnJvbURhdGU/OiBzdHJpbmcsIG5jYWJUb0RhdGU/OiBzdHJpbmcsIG9yZGVyQnk/OiBzdHJpbmcsIHBvY05wbklkPzogbnVtYmVyLCByZWZlcnJhbERhdGVIaWdoPzogc3RyaW5nLCByZWZlcnJhbERhdGVMb3c/OiBzdHJpbmcsIG9ic2VydmU6IGFueSA9ICdib2R5JywgcmVwb3J0UHJvZ3Jlc3M6IGJvb2xlYW4gPSBmYWxzZSApOiBPYnNlcnZhYmxlPGFueT4ge1xuXG5cblxuXG5cblxuXG5cblxuXG5cblxuICAgICAgICBsZXQgcXVlcnlQYXJhbWV0ZXJzID0gbmV3IEh0dHBQYXJhbXMoe2VuY29kZXI6IG5ldyBDdXN0b21IdHRwVXJsRW5jb2RpbmdDb2RlYygpfSk7XG4gICAgICAgIGlmIChhcHBsSWQpIHtcbiAgICAgICAgICAgIGFwcGxJZC5mb3JFYWNoKChlbGVtZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gcXVlcnlQYXJhbWV0ZXJzLmFwcGVuZCgnYXBwbElkJywgPGFueT5lbGVtZW50KTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNhbmNlckFjdGl2aXR5ICE9PSB1bmRlZmluZWQgJiYgY2FuY2VyQWN0aXZpdHkgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycyA9IHF1ZXJ5UGFyYW1ldGVycy5zZXQoJ2NhbmNlckFjdGl2aXR5JywgPGFueT5jYW5jZXJBY3Rpdml0eSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGdyYW50c1dpdGhvdXRJbnRlcmVzdCAhPT0gdW5kZWZpbmVkICYmIGdyYW50c1dpdGhvdXRJbnRlcmVzdCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gcXVlcnlQYXJhbWV0ZXJzLnNldCgnZ3JhbnRzV2l0aG91dEludGVyZXN0JywgPGFueT5ncmFudHNXaXRob3V0SW50ZXJlc3QpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZWNoICE9PSB1bmRlZmluZWQgJiYgbWVjaCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gcXVlcnlQYXJhbWV0ZXJzLnNldCgnbWVjaCcsIDxhbnk+bWVjaCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1pbkRheXNTaW5jZVJlZmVycmFsICE9PSB1bmRlZmluZWQgJiYgbWluRGF5c1NpbmNlUmVmZXJyYWwgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycyA9IHF1ZXJ5UGFyYW1ldGVycy5zZXQoJ21pbkRheXNTaW5jZVJlZmVycmFsJywgPGFueT5taW5EYXlzU2luY2VSZWZlcnJhbCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5jYWJGcm9tRGF0ZSAhPT0gdW5kZWZpbmVkICYmIG5jYWJGcm9tRGF0ZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gcXVlcnlQYXJhbWV0ZXJzLnNldCgnbmNhYkZyb21EYXRlJywgPGFueT5uY2FiRnJvbURhdGUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChuY2FiVG9EYXRlICE9PSB1bmRlZmluZWQgJiYgbmNhYlRvRGF0ZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gcXVlcnlQYXJhbWV0ZXJzLnNldCgnbmNhYlRvRGF0ZScsIDxhbnk+bmNhYlRvRGF0ZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9yZGVyQnkgIT09IHVuZGVmaW5lZCAmJiBvcmRlckJ5ICE9PSBudWxsKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtZXRlcnMgPSBxdWVyeVBhcmFtZXRlcnMuc2V0KCdvcmRlckJ5JywgPGFueT5vcmRlckJ5KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocG9jTnBuSWQgIT09IHVuZGVmaW5lZCAmJiBwb2NOcG5JZCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzID0gcXVlcnlQYXJhbWV0ZXJzLnNldCgncG9jTnBuSWQnLCA8YW55PnBvY05wbklkKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVmZXJyYWxEYXRlSGlnaCAhPT0gdW5kZWZpbmVkICYmIHJlZmVycmFsRGF0ZUhpZ2ggIT09IG51bGwpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycyA9IHF1ZXJ5UGFyYW1ldGVycy5zZXQoJ3JlZmVycmFsRGF0ZUhpZ2gnLCA8YW55PnJlZmVycmFsRGF0ZUhpZ2gpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZWZlcnJhbERhdGVMb3cgIT09IHVuZGVmaW5lZCAmJiByZWZlcnJhbERhdGVMb3cgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVycyA9IHF1ZXJ5UGFyYW1ldGVycy5zZXQoJ3JlZmVycmFsRGF0ZUxvdycsIDxhbnk+cmVmZXJyYWxEYXRlTG93KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBoZWFkZXJzID0gdGhpcy5kZWZhdWx0SGVhZGVycztcblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIEFjY2VwdCBoZWFkZXJcbiAgICAgICAgbGV0IGh0dHBIZWFkZXJBY2NlcHRzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgICAgICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICdhcHBsaWNhdGlvbi94bWwnXG4gICAgICAgIF07XG4gICAgICAgIGNvbnN0IGh0dHBIZWFkZXJBY2NlcHRTZWxlY3RlZDogc3RyaW5nIHwgdW5kZWZpbmVkID0gdGhpcy5jb25maWd1cmF0aW9uLnNlbGVjdEhlYWRlckFjY2VwdChodHRwSGVhZGVyQWNjZXB0cyk7XG4gICAgICAgIGlmIChodHRwSGVhZGVyQWNjZXB0U2VsZWN0ZWQgIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBoZWFkZXJzID0gaGVhZGVycy5zZXQoJ0FjY2VwdCcsIGh0dHBIZWFkZXJBY2NlcHRTZWxlY3RlZCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIENvbnRlbnQtVHlwZSBoZWFkZXJcbiAgICAgICAgY29uc3QgY29uc3VtZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICBdO1xuXG4gICAgICAgIHJldHVybiB0aGlzLmh0dHBDbGllbnQuZ2V0PGFueT4oYCR7dGhpcy5iYXNlUGF0aH0vYXBpL3YxL3JlZmVycmFsLWdyYW50c2AsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcGFyYW1zOiBxdWVyeVBhcmFtZXRlcnMsXG4gICAgICAgICAgICAgICAgd2l0aENyZWRlbnRpYWxzOiB0aGlzLmNvbmZpZ3VyYXRpb24ud2l0aENyZWRlbnRpYWxzLFxuICAgICAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICAgICAgICAgICAgb2JzZXJ2ZTogb2JzZXJ2ZSxcbiAgICAgICAgICAgICAgICByZXBvcnRQcm9ncmVzczogcmVwb3J0UHJvZ3Jlc3NcbiAgICAgICAgICAgIH1cbiAgICAgICAgKTtcbiAgICB9XG5cbn1cbiJdfQ==